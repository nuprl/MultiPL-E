{
  "name": "mbpp_468_max_product",
  "language": "lua",
  "prompt": "-- Write a function to find the maximum product formed by multiplying numbers of an increasing subsequence of that array.\nlocal function max_product(arr)\n",
  "doctests": "keep",
  "original": "/home/arjun/repos/MultiPL-E/datasets/../datasets/mbpp-typed/mbpp_468_max_product.py",
  "prompt_terminology": "verbatim",
  "tests": "lu = require('luaunit')\n\nfunction test_humaneval()\nlocal candidate = max_product\n    lu.assertEquals(candidate({3, 100, 4, 5, 150, 6}), 3000)\n    lu.assertEquals(candidate({4, 42, 55, 68, 80}), 50265600)\n    lu.assertEquals(candidate({10, 22, 9, 33, 21, 50, 41, 60}), 2460)\nend\n\nos.exit(lu.LuaUnit.run())",
  "stop_tokens": [
    "\nlocal",
    "\nfunction",
    "\n--",
    "\n\n"
  ],
  "completions": [
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1",
    "    local max_product = 1\n    local max_product_ending_here = 1\n    local min_product_ending_here = 1",
    "  local max = arr[1]\n  local min = arr[1]\n  local result = arr[1]\n  for i = 2, #arr do\n    local a = arr[i] * max\n    local b = arr[i] * min\n    max = math.max(math.max(a, b), arr[i])\n    min = math.min(math.min(a, b), arr[i])\n    result = math.max(result, max)\n  end\n  return result\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max = arr[1]\n  local min = arr[1]\n  local res = arr[1]\n  for i = 2, #arr do\n    local a = arr[i]\n    local b = a * max\n    local c = a * min\n    max = math.max(a, b, c)\n    min = math.min(a, b, c)\n    res = math.max(res, max)\n  end\n  return res\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1",
    "  local max_prod = 0\n  local prod = 1\n  for i = 1, #arr do\n    prod = prod * arr[i]\n    if prod > max_prod then\n      max_prod = prod\n    end\n  end\n  return max_prod\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i=1,#arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = math.min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = math.max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "    local max_so_far = 1\n    local min_so_far = 1\n    local max_product = 1\n    for i = 1, #arr do\n        if arr[i] > 0 then\n            max_so_far = max_so_far * arr[i]\n            min_so_far = math.min(min_so_far * arr[i], 1)\n        elseif arr[i] == 0 then\n            max_so_far = 1\n            min_so_far = 1\n        else\n            local temp = max_so_far\n            max_so_far = math.max(min_so_far * arr[i], 1)\n            min_so_far = temp * arr[i]\n        end\n        if max_product < max_so_far then\n            max_product = max_so_far\n        end\n    end\n    return max_product\nend",
    "  local max_prod = 1\n  local prod = 1\n  for i = 1, #arr do\n    prod = prod * arr[i]\n    if prod > max_prod then\n      max_prod = prod\n    end\n  end\n  return max_prod\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for _, v in ipairs(arr) do\n    if v > 0 then\n      max_product_ending_here = max_product_ending_here * v\n      min_product_ending_here = math.min(min_product_ending_here * v, 1)\n    elseif v == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = math.max(min_product_ending_here * v, 1)\n      min_product_ending_here = temp * v\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max = arr[1]\n  local min = arr[1]\n  local result = arr[1]\n  for i = 2, #arr do\n    local a = arr[i] * max\n    local b = arr[i] * min\n    max = math.max(math.max(a, b), arr[i])\n    min = math.min(math.min(a, b), arr[i])\n    result = math.max(result, max)\n  end\n  return result\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for _, v in ipairs(arr) do\n    if v > 0 then\n      max_product_ending_here = max_product_ending_here * v\n      min_product_ending_here = min(min_product_ending_here * v, 1)\n    elseif v == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * v, 1)\n      min_product_ending_here = temp * v\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_so_far = 1\n  local min_so_far = 1\n  for _, v in ipairs(arr) do\n    if v > 0 then\n      max_so_far = max_so_far * v\n      min_so_far = min(min_so_far * v, 1)\n    elseif v == 0 then\n      max_so_far = 1\n      min_so_far = 1\n    else\n      local temp = max_so_far\n      max_so_far = max(min_so_far * v, 1)\n      min_so_far = temp * v\n    end\n    max_product = max(max_product, max_so_far)\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = arr[1]\n  local min_product = arr[1]\n  local result = arr[1]\n  for i = 2, #arr do\n    local a = arr[i] * max_product\n    local b = arr[i] * min_product\n    max_product = math.max(math.max(a, b), arr[i])\n    min_product = math.min(math.min(a, b), arr[i])\n    result = math.max(result, max_product)\n  end\n  return result\nend",
    "  local max_prod = 1\n  local max_so_far = 1\n  local min_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_so_far = max_so_far * arr[i]\n      min_so_far = min(min_so_far * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_so_far = 1\n      min_so_far = 1\n    else\n      local temp = max_so_far\n      max_so_far = max(min_so_far * arr[i], 1)\n      min_so_far = temp * arr[i]\n    end\n    if max_prod < max_so_far then\n      max_prod = max_so_far\n    end\n  end\n  return max_prod\nend",
    "  local max_prod = arr[1]\n  local min_prod = arr[1]\n  local max_so_far = arr[1]",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = math.min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = math.max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 0\n  local product = 1\n  for i = 1, #arr do\n    product = product * arr[i]\n    if product > max_product then\n      max_product = product\n    end\n  end\n  return max_product\nend",
    "  local max_prod = {}\n  local max_prod_so_far = 1\n  for i = 1, #arr do\n    max_prod[i] = max_prod_so_far\n    max_prod_so_far = math.max(max_prod_so_far, arr[i])\n  end\n  max_prod_so_far = 1\n  for i = #arr, 1, -1 do\n    max_prod[i] = max_prod[i] * max_prod_so_far\n    max_prod_so_far = math.max(max_prod_so_far, arr[i])\n  end\n  return math.max(unpack(max_prod))\nend",
    "  local max = arr[1]\n  local min = arr[1]\n  local result = arr[1]\n  for i = 2, #arr do\n    local a = arr[i] * max\n    local b = arr[i] * min\n    max = math.max(math.max(a, b), arr[i])\n    min = math.min(math.min(a, b), arr[i])\n    result = math.max(result, max)\n  end\n  return result\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local n = #arr\n  local max_product = arr[1]\n  local max_product_ending_here = arr[1]\n  local min_product_ending_here = arr[1]\n  for i = 2, n do\n    if arr[i] < 0 then\n      max_product_ending_here, min_product_ending_here = min_product_ending_here, max_product_ending_here\n    end\n    max_product_ending_here = math.max(arr[i], max_product_ending_here * arr[i])\n    min_product_ending_here = math.min(arr[i], min_product_ending_here * arr[i])\n    max_product = math.max(max_product, max_product_ending_here)\n  end\n  return max_product\nend",
    "    local max_product = 1\n    local max_product_ending_here = 1\n    local min_product_ending_here = 1\n    for i = 1, #arr do\n        if arr[i] > 0 then\n            max_product_ending_here = max_product_ending_here * arr[i]\n            min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n        elseif arr[i] == 0 then\n            max_product_ending_here = 1\n            min_product_ending_here = 1\n        else\n            local temp = max_product_ending_here\n            max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n            min_product_ending_here = temp * arr[i]\n        end\n        if max_product < max_product_ending_here then\n            max_product = max_product_ending_here\n        end\n    end\n    return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = math.min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = math.max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product_ending_here > max_product then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "    local max_product = 1\n    local product = 1\n    local max_neg = -math.huge\n    local min_neg = math.huge\n    for i = 1, #arr do\n        if arr[i] == 0 then\n            product = 1\n            max_neg = -math.huge\n            min_neg = math.huge\n        else\n            product = product * arr[i]\n            if product > max_product then\n                max_product = product\n            end\n            if product < 0 then\n                if product > max_neg then\n                    max_neg = product\n                end\n                if product < min_neg then\n                    min_neg = product\n                end\n            end\n        end\n    end\n    if max_product < 0 then\n        max_product = max_neg * min_neg\n    end\n    return max_product\nend",
    "  local max_product = 1\n  local max_product_so_far = 1\n  local min_product_so_far = 1\n  local n = #arr\n  for i = 1, n do\n    if arr[i] > 0 then\n      max_product_so_far = max_product_so_far * arr[i]\n      min_product_so_far = min(min_product_so_far * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_so_far = 1\n      min_product_so_far = 1\n    else\n      local temp = max_product_so_far\n      max_product_so_far = max(min_product_so_far * arr[i], 1)\n      min_product_so_far = temp * arr[i]\n    end\n    if max_product < max_product_so_far then\n      max_product = max_product_so_far\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_so_far = 1\n  local min_so_far = 1\n  local max_ending_here = 1\n  local min_ending_here = 1\n  local max_product = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_ending_here = max_ending_here * arr[i]\n      min_ending_here = math.min(min_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_ending_here = 1\n      min_ending_here = 1\n    else\n      local temp = max_ending_here\n      max_ending_here = math.max(min_ending_here * arr[i], 1)\n      min_ending_here = temp * arr[i]\n    end\n    if max_product < max_ending_here then\n      max_product = max_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i, v in ipairs(arr) do\n    if v > 0 then\n      max_product = max_product * v\n      min_product = math.min(min_product * v, 1)\n    elseif v == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * v, 1)\n      min_product = temp * v\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max = arr[1]\n  local min = arr[1]\n  local result = arr[1]\n  for i = 2, #arr do\n    local a = arr[i] * max\n    local b = arr[i] * min\n    max = math.max(math.max(a, b), arr[i])\n    min = math.min(math.min(a, b), arr[i])\n    result = math.max(result, max)\n  end\n  return result\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_prod = 1\n  local max_prod_so_far = 1\n  local min_prod_so_far = 1\n  local n = #arr\n  for i = 1, n do\n    if arr[i] > 0 then\n      max_prod_so_far = max_prod_so_far * arr[i]\n      min_prod_so_far = min(min_prod_so_far * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_prod_so_far = 1\n      min_prod_so_far = 1\n    else\n      local temp = max_prod_so_far\n      max_prod_so_far = max(min_prod_so_far * arr[i], 1)\n      min_prod_so_far = temp * arr[i]\n    end\n    if max_prod < max_prod_so_far then\n      max_prod = max_prod_so_far\n    end\n  end\n  return max_prod\nend",
    "    local max_product = 1\n    local cur_product = 1\n    local cur_max = arr[1]\n    for i = 2, #arr do\n        if arr[i] > cur_max then\n            cur_max = arr[i]\n            cur_product = cur_product * arr[i]\n        elseif arr[i] < cur_max then\n            cur_product = cur_product / arr[i]\n        end\n        if cur_product > max_product then\n            max_product = cur_product\n        end\n    end\n    return max_product\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1",
    "  local max_product = 1\n  local max_ending_here = 1\n  local min_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_ending_here = max_ending_here * arr[i]\n      min_ending_here = math.min(min_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_ending_here = 1\n      min_ending_here = 1\n    else\n      local temp = max_ending_here\n      max_ending_here = math.max(min_ending_here * arr[i], 1)\n      min_ending_here = temp * arr[i]\n    end\n    if max_product < max_ending_here then\n      max_product = max_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "    local n = #arr\n    local max_product = arr[1]\n    local min_product = arr[1]\n    local max_so_far = arr[1]\n    for i = 2, n do\n        local curr = arr[i]\n        local temp_max = max_product\n        max_product = math.max(curr, math.max(curr * max_product, curr * min_product))\n        min_product = math.min(curr, math.min(curr * temp_max, curr * min_product))\n        max_so_far = math.max(max_so_far, max_product)\n    end\n    return max_so_far\nend",
    "  local max_product = 1\n  local max_ending_here = 1\n  local min_ending_here = 1\n  for _, v in ipairs(arr) do\n    if v > 0 then\n      max_ending_here = max_ending_here * v\n      min_ending_here = min(min_ending_here * v, 1)\n    elseif v == 0 then\n      max_ending_here = 1\n      min_ending_here = 1\n    else\n      local temp = max_ending_here\n      max_ending_here = max(min_ending_here * v, 1)\n      min_ending_here = temp * v\n    end\n    if max_product < max_ending_here then\n      max_product = max_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = arr[1]\n  local min_product = arr[1]\n  local max_so_far = arr[1]\n  for i = 2, #arr do\n    local prev_max_product = max_product\n    max_product = math.max(math.max(max_product * arr[i], min_product * arr[i]), arr[i])\n    min_product = math.min(math.min(prev_max_product * arr[i], min_product * arr[i]), arr[i])\n    max_so_far = math.max(max_so_far, max_product)\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_prod = 1\n  local min_prod = 1\n  local max_so_far = 1\n  for i, v in ipairs(arr) do\n    if v > 0 then\n      max_prod = max_prod * v\n      min_prod = math.min(min_prod * v, 1)\n    elseif v == 0 then\n      max_prod = 1\n      min_prod = 1\n    else\n      local temp = max_prod\n      max_prod = math.max(min_prod * v, 1)\n      min_prod = temp * v\n    end\n    if max_so_far < max_prod then\n      max_so_far = max_prod\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i, v in ipairs(arr) do\n    if v > 0 then\n      max_product = max_product * v\n      min_product = math.min(min_product * v, 1)\n    elseif v == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * v, 1)\n      min_product = temp * v\n    end\n    max_so_far = math.max(max_so_far, max_product)\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_prod = 1\n  local min_prod = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_prod = max_prod * arr[i]\n      min_prod = math.min(min_prod * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_prod = 1\n      min_prod = 1\n    else\n      local temp = max_prod\n      max_prod = math.max(min_prod * arr[i], 1)\n      min_prod = temp * arr[i]\n    end\n    if max_so_far < max_prod then\n      max_so_far = max_prod\n    end\n  end\n  return max_so_far\nend",
    "    local max_prod = 1\n    local prod = 1\n    for i = 1, #arr do\n        prod = prod * arr[i]\n        if prod > max_prod then\n            max_prod = prod\n        end\n    end\n    return max_prod\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_so_far = 1\n  local min_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_so_far = max_so_far * arr[i]\n      min_so_far = math.min(min_so_far * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_so_far = 1\n      min_so_far = 1\n    else\n      local temp = max_so_far\n      max_so_far = math.max(min_so_far * arr[i], 1)\n      min_so_far = temp * arr[i]\n    end\n    if max_product < max_so_far then\n      max_product = max_so_far\n    end\n  end\n  return max_product\nend",
    "  local max_prod = 1\n  local min_prod = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_prod = max_prod * arr[i]\n      min_prod = math.min(min_prod * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_prod = 1\n      min_prod = 1\n    else\n      local temp = max_prod\n      max_prod = math.max(min_prod * arr[i], 1)\n      min_prod = temp * arr[i]\n    end\n    if max_so_far < max_prod then\n      max_so_far = max_prod\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 0\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product_ending_here > max_product then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = arr[1]\n  local min_product = arr[1]\n  local max_so_far = arr[1]\n  for i = 2, #arr do\n    local temp = max_product\n    max_product = math.max(math.max(max_product * arr[i], min_product * arr[i]), arr[i])\n    min_product = math.min(math.min(temp * arr[i], min_product * arr[i]), arr[i])\n    max_so_far = math.max(max_so_far, max_product)\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_product_so_far = 1\n  local min_product_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_so_far = max_product_so_far * arr[i]\n      min_product_so_far = min(min_product_so_far * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_so_far = 1\n      min_product_so_far = 1\n    else\n      local temp = max_product_so_far\n      max_product_so_far = max(min_product_so_far * arr[i], 1)\n      min_product_so_far = temp * arr[i]\n    end\n    if max_product < max_product_so_far then\n      max_product = max_product_so_far\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_prod = 1\n  local prod = 1\n  local i = 1\n  local j = 1\n  while i <= #arr do\n    while j <= #arr do\n      prod = prod * arr[j]\n      if prod > max_prod then\n        max_prod = prod\n      end\n      j = j + 1\n    end\n    prod = 1\n    i = i + 1\n    j = i\n  end\n  return max_prod\nend",
    "  local max_prod = 1\n  local cur_prod = 1\n  for i = 1, #arr do\n    cur_prod = cur_prod * arr[i]\n    if cur_prod > max_prod then\n      max_prod = cur_prod\n    end\n  end\n  return max_prod\nend",
    "  local max = arr[1]\n  local min = arr[1]\n  local result = arr[1]",
    "  local max = 0\n  local n = #arr\n  local dp = {}\n  for i = 1, n do\n    dp[i] = 1\n    for j = 1, i - 1 do\n      if arr[i] > arr[j] then\n        dp[i] = math.max(dp[i], dp[j] * arr[i])\n      end\n    end\n    max = math.max(max, dp[i])\n  end\n  return max\nend",
    "  local max = arr[1]\n  local min = arr[1]\n  local result = arr[1]",
    "  local max_prod = arr[1]\n  local min_prod = arr[1]\n  local max_so_far = arr[1]\n  for i = 2, #arr do\n    local temp = max_prod\n    max_prod = math.max(math.max(max_prod * arr[i], min_prod * arr[i]), arr[i])\n    min_prod = math.min(math.min(temp * arr[i], min_prod * arr[i]), arr[i])\n    max_so_far = math.max(max_so_far, max_prod)\n  end\n  return max_so_far\nend",
    "  local max_prod = 1\n  local min_prod = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_prod = max_prod * arr[i]\n      min_prod = math.min(min_prod * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_prod = 1\n      min_prod = 1\n    else\n      local temp = max_prod\n      max_prod = math.max(min_prod * arr[i], 1)\n      min_prod = temp * arr[i]\n    end\n    if max_so_far < max_prod then\n      max_so_far = max_prod\n    end\n  end\n  return max_so_far\nend",
    "    local max_product = 1\n    local min_product = 1\n    local max_so_far = 1",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1",
    "  local max = arr[1]\n  local min = arr[1]\n  local result = arr[1]\n  for i = 2, #arr do\n    local a = arr[i] * max\n    local b = arr[i] * min\n    max = math.max(math.max(a, b), arr[i])\n    min = math.min(math.min(a, b), arr[i])\n    result = math.max(result, max)\n  end\n  return result\nend",
    "  local n = #arr\n  local max_product = 0\n  local product = 1\n  local i = 1\n  local j = 1\n  while i <= n do\n    if arr[i] > arr[j] then\n      product = product * arr[i]\n      if product > max_product then\n        max_product = product\n      end\n      i = i + 1\n    else\n      product = product / arr[j]\n      j = j + 1\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for _, v in ipairs(arr) do\n    if v > 0 then\n      max_product = max_product * v\n      min_product = math.min(min_product * v, 1)\n    elseif v == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * v, 1)\n      min_product = temp * v\n    end\n    max_so_far = math.max(max_so_far, max_product)\n  end\n  return max_so_far\nend",
    "  local max_prod = 1\n  local min_prod = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_prod = max_prod * arr[i]\n      min_prod = math.min(min_prod * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_prod = 1\n      min_prod = 1\n    else\n      local temp = max_prod\n      max_prod = math.max(min_prod * arr[i], 1)\n      min_prod = temp * arr[i]\n    end\n    if max_so_far < max_prod then\n      max_so_far = max_prod\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = math.min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = math.max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = math.min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = math.max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "    local max_product = 1\n    local max_product_ending_here = 1\n    local min_product_ending_here = 1\n    for i = 1, #arr do\n        if arr[i] > 0 then\n            max_product_ending_here = max_product_ending_here * arr[i]\n            min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n        elseif arr[i] == 0 then\n            max_product_ending_here = 1\n            min_product_ending_here = 1\n        else\n            local temp = max_product_ending_here\n            max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n            min_product_ending_here = temp * arr[i]\n        end\n        if max_product < max_product_ending_here then\n            max_product = max_product_ending_here\n        end\n    end\n    return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local product = 1\n  for i = 1, #arr do\n    product = product * arr[i]\n    if product > max_product then\n      max_product = product\n    end\n  end\n  return max_product\nend",
    "  local max_prod = 1\n  local min_prod = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_prod = max_prod * arr[i]\n      min_prod = math.min(min_prod * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_prod = 1\n      min_prod = 1\n    else\n      local temp = max_prod\n      max_prod = math.max(min_prod * arr[i], 1)\n      min_prod = temp * arr[i]\n    end\n    max_so_far = math.max(max_so_far, max_prod)\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1",
    "  local max_prod = 1\n  local prod = 1\n  for i = 1, #arr do\n    prod = prod * arr[i]\n    if prod > max_prod then\n      max_prod = prod\n    end\n  end\n  return max_prod\nend",
    "  local max = arr[1]\n  local min = arr[1]\n  local result = arr[1]\n  for i = 2, #arr do\n    local a = arr[i] * max\n    local b = arr[i] * min\n    max = math.max(math.max(a, b), arr[i])\n    min = math.min(math.min(a, b), arr[i])\n    result = math.max(result, max)\n  end\n  return result\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for _, v in ipairs(arr) do\n    if v > 0 then\n      max_product = max_product * v\n      min_product = math.min(min_product * v, 1)\n    elseif v == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * v, 1)\n      min_product = temp * v\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_prod = 1\n  local min_prod = 1\n  local max_prod_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_prod = max_prod * arr[i]\n      min_prod = math.min(min_prod * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_prod = 1\n      min_prod = 1\n    else\n      local temp = max_prod\n      max_prod = math.max(min_prod * arr[i], 1)\n      min_prod = temp * arr[i]\n    end\n    if max_prod_so_far < max_prod then\n      max_prod_so_far = max_prod\n    end\n  end\n  return max_prod_so_far\nend",
    "  local max_so_far = 1\n  local min_so_far = 1\n  local max_product = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_so_far = max_so_far * arr[i]\n      min_so_far = math.min(min_so_far * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_so_far = 1\n      min_so_far = 1\n    else\n      local temp = max_so_far\n      max_so_far = math.max(min_so_far * arr[i], 1)\n      min_so_far = temp * arr[i]\n    end\n    if max_so_far > max_product then\n      max_product = max_so_far\n    end\n  end\n  return max_product\nend",
    "  local max_prod = 1\n  local max_prod_so_far = 1\n  local min_prod_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_prod_so_far = max_prod_so_far * arr[i]\n      min_prod_so_far = math.min(min_prod_so_far * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_prod_so_far = 1\n      min_prod_so_far = 1\n    else\n      local temp = max_prod_so_far\n      max_prod_so_far = math.max(min_prod_so_far * arr[i], 1)\n      min_prod_so_far = temp * arr[i]\n    end\n    max_prod = math.max(max_prod, max_prod_so_far)\n  end\n  return max_prod\nend",
    "  local n = #arr\n  local max_prod = arr[1]\n  local min_prod = arr[1]\n  local result = arr[1]\n  for i = 2, n do\n    local prod1 = arr[i] * max_prod\n    local prod2 = arr[i] * min_prod\n    max_prod = math.max(arr[i], prod1, prod2)\n    min_prod = math.min(arr[i], prod1, prod2)\n    result = math.max(result, max_prod)\n  end\n  return result\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = math.min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = math.max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_prod = 1\n  local min_prod = 1\n  local max_so_far = 1\n  for i=1,#arr do\n    if arr[i] > 0 then\n      max_prod = max_prod * arr[i]\n      min_prod = math.min(min_prod * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_prod = 1\n      min_prod = 1\n    else\n      local temp = max_prod\n      max_prod = math.max(min_prod * arr[i], 1)\n      min_prod = temp * arr[i]\n    end\n    max_so_far = math.max(max_so_far, max_prod)\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_ending_here = 1\n  local min_ending_here = 1",
    "  local max = arr[1]\n  local min = arr[1]\n  local result = arr[1]\n  for i = 2, #arr do\n    local a = arr[i] * max\n    local b = arr[i] * min\n    max = math.max(math.max(a, b), arr[i])\n    min = math.min(math.min(a, b), arr[i])\n    result = math.max(result, max)\n  end\n  return result\nend",
    "  local n = #arr\n  local max_product = arr[1]\n  local min_product = arr[1]\n  local result = arr[1]\n  for i = 2, n do\n    local a = arr[i] * max_product\n    local b = arr[i] * min_product\n    max_product = math.max(math.max(a, b), arr[i])\n    min_product = math.min(math.min(a, b), arr[i])\n    result = math.max(result, max_product)\n  end\n  return result\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for _, v in ipairs(arr) do\n    if v > 0 then\n      max_product_ending_here = max_product_ending_here * v\n      min_product_ending_here = min(min_product_ending_here * v, 1)\n    elseif v == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local tmp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * v, 1)\n      min_product_ending_here = tmp * v\n    end\n    if max_product_ending_here > max_product then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_prod = 1\n  local min_prod = 1\n  local max_so_far = 1",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1",
    "  local max_prod = 1\n  local prod = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      prod = prod * arr[i]\n    elseif arr[i] == 0 then\n      prod = 1\n    else\n      prod = prod * arr[i]\n      if prod > max_prod then\n        max_prod = prod\n      end\n      prod = 1\n    end\n  end\n  return max_prod\nend",
    "  local max_product_so_far = 1\n  local min_product_so_far = 1\n  local max_product_ending_here = 1",
    "  local max_product = 1\n  local max_so_far = 1\n  local min_so_far = 1",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_ending_here = 1\n  local min_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_ending_here = max_ending_here * arr[i]\n      min_ending_here = math.min(min_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_ending_here = 1\n      min_ending_here = 1\n    else\n      local temp = max_ending_here\n      max_ending_here = math.max(min_ending_here * arr[i], 1)\n      min_ending_here = temp * arr[i]\n    end\n    if max_product < max_ending_here then\n      max_product = max_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for _, v in ipairs(arr) do\n    if v > 0 then\n      max_product_ending_here = max_product_ending_here * v\n      min_product_ending_here = min(min_product_ending_here * v, 1)\n    elseif v == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * v, 1)\n      min_product_ending_here = temp * v\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_prod = 1\n  local min_prod = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_prod = max_prod * arr[i]\n      min_prod = math.min(min_prod * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_prod = 1\n      min_prod = 1\n    else\n      local temp = max_prod\n      max_prod = math.max(min_prod * arr[i], 1)\n      min_prod = temp * arr[i]\n    end\n    if max_so_far < max_prod then\n      max_so_far = max_prod\n    end\n  end\n  return max_so_far\nend",
    "  local max_prod = 1\n  local min_prod = 1\n  local max_prod_so_far = 1",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for _, v in ipairs(arr) do\n    if v > 0 then\n      max_product_ending_here = max_product_ending_here * v\n      min_product_ending_here = min(min_product_ending_here * v, 1)\n    elseif v == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * v, 1)\n      min_product_ending_here = temp * v\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  local size = #arr\n  for i = 1, size do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "    local max_product = 1\n    local max_product_ending_here = 1\n    local min_product_ending_here = 1",
    "  local max_product = arr[1]\n  local min_product = arr[1]\n  local result = arr[1]\n  for i = 2, #arr do\n    local temp = max_product\n    max_product = math.max(math.max(max_product * arr[i], min_product * arr[i]), arr[i])\n    min_product = math.min(math.min(temp * arr[i], min_product * arr[i]), arr[i])\n    result = math.max(result, max_product)\n  end\n  return result\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local len = #arr\n  local max_product = arr[1]\n  local max_product_ending_here = arr[1]\n  local min_product_ending_here = arr[1]\n  for i = 2, len do\n    local a = arr[i]\n    local b = a * max_product_ending_here\n    local c = a * min_product_ending_here\n    max_product_ending_here = math.max(a, b, c)\n    min_product_ending_here = math.min(a, b, c)\n    max_product = math.max(max_product, max_product_ending_here)\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_so_far = 1\n  local min_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_so_far = max_so_far * arr[i]\n      min_so_far = min(min_so_far * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_so_far = 1\n      min_so_far = 1\n    else\n      local temp = max_so_far\n      max_so_far = max(min_so_far * arr[i], 1)\n      min_so_far = temp * arr[i]\n    end\n    if max_product < max_so_far then\n      max_product = max_so_far\n    end\n  end\n  return max_product\nend",
    "  local n = #arr\n  local max_product = arr[1]\n  local min_product = arr[1]\n  local result = arr[1]\n  for i = 2, n do\n    local a = arr[i] * max_product\n    local b = arr[i] * min_product\n    max_product = math.max(math.max(a, b), arr[i])\n    min_product = math.min(math.min(a, b), arr[i])\n    result = math.max(result, max_product)\n  end\n  return result\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max = arr[1]\n  local min = arr[1]\n  local result = arr[1]\n  for i = 2, #arr do\n    local a = arr[i] * max\n    local b = arr[i] * min\n    max = math.max(math.max(a, b), arr[i])\n    min = math.min(math.min(a, b), arr[i])\n    result = math.max(result, max)\n  end\n  return result\nend",
    "  local max_product = 0\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = math.min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = math.max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product_ending_here > max_product then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1",
    "  local max_prod = 1\n  local max_so_far = 1\n  local min_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_so_far = max_so_far * arr[i]\n      min_so_far = min(min_so_far * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_so_far = 1\n      min_so_far = 1\n    else\n      local temp = max_so_far\n      max_so_far = max(min_so_far * arr[i], 1)\n      min_so_far = temp * arr[i]\n    end\n    if max_prod < max_so_far then\n      max_prod = max_so_far\n    end\n  end\n  return max_prod\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product_arr = {}\n  local max_product = 1\n  for i = 1, #arr do\n    max_product_arr[i] = arr[i]\n    for j = 1, i - 1 do\n      if arr[i] > arr[j] and max_product_arr[i] < max_product_arr[j] * arr[i] then\n        max_product_arr[i] = max_product_arr[j] * arr[i]\n      end\n    end\n    if max_product < max_product_arr[i] then\n      max_product = max_product_arr[i]\n    end\n  end\n  return max_product\nend",
    "  local max_product = arr[1]\n  local min_product = arr[1]\n  local result = arr[1]\n  for i = 2, #arr do\n    local a = max_product * arr[i]\n    local b = min_product * arr[i]\n    max_product = math.max(arr[i], a, b)\n    min_product = math.min(arr[i], a, b)\n    result = math.max(result, max_product)\n  end\n  return result\nend",
    "  local max = arr[1]\n  local min = arr[1]\n  local result = arr[1]\n  for i = 2, #arr do\n    local a = arr[i] * max\n    local b = arr[i] * min\n    max = math.max(math.max(a, b), arr[i])\n    min = math.min(math.min(a, b), arr[i])\n    result = math.max(result, max)\n  end\n  return result\nend",
    "  local max = 1\n  local min = 1\n  local result = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max = max * arr[i]\n      min = math.min(min * arr[i], 1)\n    elseif arr[i] == 0 then\n      max = 1\n      min = 1\n    else\n      local temp = max\n      max = math.max(min * arr[i], 1)\n      min = temp * arr[i]\n    end\n    if result < max then\n      result = max\n    end\n  end\n  return result\nend",
    "  local max_product = 0\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product_ending_here > max_product then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for _, val in ipairs(arr) do\n    if val > 0 then\n      max_product_ending_here = max_product_ending_here * val\n      min_product_ending_here = min(min_product_ending_here * val, 1)\n    elseif val == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * val, 1)\n      min_product_ending_here = temp * val\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_prod = 1\n  local max_prod_so_far = 1\n  local min_prod_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_prod_so_far = max_prod_so_far * arr[i]\n      min_prod_so_far = math.min(min_prod_so_far * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_prod_so_far = 1\n      min_prod_so_far = 1\n    else\n      local temp = max_prod_so_far\n      max_prod_so_far = math.max(min_prod_so_far * arr[i], 1)\n      min_prod_so_far = temp * arr[i]\n    end\n    max_prod = math.max(max_prod, max_prod_so_far)\n  end\n  return max_prod\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    max_so_far = math.max(max_so_far, max_product)\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  local n = #arr\n  for i = 1, n do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "    local n = #arr\n    local max_prod = {}\n    max_prod[1] = arr[1]\n    for i = 2, n do\n        max_prod[i] = arr[i]\n        for j = 1, i - 1 do\n            if arr[i] > arr[j] then\n                max_prod[i] = math.max(max_prod[i], max_prod[j] * arr[i])\n            end\n        end\n    end\n    return math.max(unpack(max_prod))\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_prod = 1\n  local min_prod = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_prod = max_prod * arr[i]\n      min_prod = math.min(min_prod * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_prod = 1\n      min_prod = 1\n    else\n      local temp = max_prod\n      max_prod = math.max(min_prod * arr[i], 1)\n      min_prod = temp * arr[i]\n    end\n    if max_so_far < max_prod then\n      max_so_far = max_prod\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1",
    "  local max_prod = 0\n  local prod = 1\n  for i = 1, #arr do\n    prod = prod * arr[i]\n    if prod > max_prod then\n      max_prod = prod\n    end\n  end\n  return max_prod\nend",
    "  local max_product = 1\n  local max_ending_here = 1",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_prod = 1\n  local min_prod = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_prod = max_prod * arr[i]\n      min_prod = math.min(min_prod * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_prod = 1\n      min_prod = 1\n    else\n      local temp = max_prod\n      max_prod = math.max(min_prod * arr[i], 1)\n      min_prod = temp * arr[i]\n    end\n    max_so_far = math.max(max_so_far, max_prod)\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1",
    "    local max = 0\n    local max_arr = {}\n    local max_arr_len = 0\n    local max_arr_product = 0\n    local max_arr_product_len = 0\n    local max_arr_product_len_index = 0\n    local max_arr_product_len_product = 0\n    local max_arr_product_len_product_index = 0\n    local max_arr_product_len_product_index_product = 0\n    local max_arr_product_len_product_index_product_index = 0\n    local max_arr_product_len_product_index_product_index_product = 0\n    local max_arr_product_len_product_index_product_index_product_index = 0\n    local max_arr_product_len_product_index_product_index_product_index_product = 0\n    local max_arr_product_len_product_index_product_index_product_index_product_index = 0\n    local max_arr_product_len_product_index_product_index_product_index_product_index_product = 0\n    local max_arr_product_len_product_index_product_index_product_index_product_index_product_index = 0\n    local max_arr_product_len_product_index_product_index_product_index_product_index_product_index_product = 0\n    local max_arr_product_len_product_index_product_index_product_index_product_index_product_index_product_index = 0\n    local max_arr_product_len_product_index_product_index_product_index_product_index_product_index_product_index_product = 0\n    local max_arr_product_len_product_index_product_index_product_index_product_index_product_index_product_index_product_index = 0\n    local max_arr_product_len_product_index_product_index_product_index_product_index_product_index_product_index_product_index_product = 0\n    local max_arr_product_len_product_index_product_index_product_index_product_index_product_index_product",
    "  local max_prod = 1\n  local prod = 1\n  for i = 1, #arr do\n    prod = prod * arr[i]\n    if prod > max_prod then\n      max_prod = prod\n    end\n  end\n  return max_prod\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1",
    "    local max_product = 1\n    local max_product_ending_here = 1\n    local min_product_ending_here = 1",
    "  local max_prod = 1\n  local curr_prod = 1\n  for i = 1, #arr do\n    curr_prod = curr_prod * arr[i]\n    if curr_prod > max_prod then\n      max_prod = curr_prod\n    end\n    if curr_prod == 0 then\n      curr_prod = 1\n    end\n  end\n  return max_prod\nend",
    "  local max = 0\n  local n = #arr\n  local dp = {}\n  for i = 1, n do\n    dp[i] = {}\n    for j = 1, i do\n      dp[i][j] = arr[i]\n      if j > 1 and arr[i] > arr[j - 1] then\n        dp[i][j] = dp[i][j] * dp[j - 1][j - 1]\n      end\n      max = math.max(max, dp[i][j])\n    end\n  end\n  return max\nend",
    "    local max_product = 1\n    local max_product_ending_here = 1\n    local min_product_ending_here = 1\n    for i = 1, #arr do\n        if arr[i] > 0 then\n            max_product_ending_here = max_product_ending_here * arr[i]\n            min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n        elseif arr[i] == 0 then\n            max_product_ending_here = 1\n            min_product_ending_here = 1\n        else\n            local temp = max_product_ending_here\n            max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n            min_product_ending_here = temp * arr[i]\n        end\n        if max_product < max_product_ending_here then\n            max_product = max_product_ending_here\n        end\n    end\n    return max_product\nend",
    "    local max_prod = 1\n    local max_prod_arr = {}\n    for i = 1, #arr do\n        max_prod_arr[i] = 1\n    end\n    for i = 1, #arr do\n        for j = 1, i - 1 do\n            if arr[i] > arr[j] and max_prod_arr[i] < max_prod_arr[j] * arr[i] then\n                max_prod_arr[i] = max_prod_arr[j] * arr[i]\n            end\n        end\n        if max_prod < max_prod_arr[i] then\n            max_prod = max_prod_arr[i]\n        end\n    end\n    return max_prod\nend",
    "  local max_prod = 0\n  local prod = 1\n  for i = 1, #arr do\n    prod = prod * arr[i]\n    if prod > max_prod then\n      max_prod = prod\n    end\n  end\n  return max_prod\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local n = #arr\n  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, n do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_so_far = 1\n  local min_product_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_so_far = max_product_so_far * arr[i]\n      min_product_so_far = min(min_product_so_far * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_so_far = 1\n      min_product_so_far = 1\n    else\n      local temp = max_product_so_far\n      max_product_so_far = max(min_product_so_far * arr[i], 1)\n      min_product_so_far = temp * arr[i]\n    end\n    if max_product < max_product_so_far then\n      max_product = max_product_so_far\n    end\n  end\n  return max_product\nend",
    "    local n = #arr\n    local dp = {}\n    local max = -math.huge\n    for i = 1, n do\n        dp[i] = 1\n        for j = 1, i - 1 do\n            if arr[i] > arr[j] then\n                dp[i] = math.max(dp[i], dp[j] * arr[i])\n            end\n        end\n        max = math.max(max, dp[i])\n    end\n    return max\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  local size = #arr\n  for i = 1, size do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local n = #arr\n  local max_prod = {}\n  for i = 1, n do\n    max_prod[i] = arr[i]\n  end\n  for i = 1, n do\n    for j = 1, i - 1 do\n      if arr[i] > arr[j] then\n        max_prod[i] = math.max(max_prod[i], max_prod[j] * arr[i])\n      end\n    end\n  end\n  local max = max_prod[1]\n  for i = 2, n do\n    max = math.max(max, max_prod[i])\n  end\n  return max\nend",
    "  local max_product = 1\n  local max_so_far = 1\n  local min_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_so_far = max_so_far * arr[i]\n      min_so_far = math.min(min_so_far * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_so_far = 1\n      min_so_far = 1\n    else\n      local temp = max_so_far\n      max_so_far = math.max(min_so_far * arr[i], 1)\n      min_so_far = temp * arr[i]\n    end\n    if max_product < max_so_far then\n      max_product = max_so_far\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  local n = #arr\n  for i = 1, n do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max = arr[1]\n  local min = arr[1]\n  local result = arr[1]\n  for i = 2, #arr do\n    local a = arr[i] * max\n    local b = arr[i] * min\n    max = math.max(math.max(a, b), arr[i])\n    min = math.min(math.min(a, b), arr[i])\n    result = math.max(result, max)\n  end\n  return result\nend",
    "  local max_prod = arr[1]\n  local min_prod = arr[1]\n  local max_so_far = arr[1]",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product_arr = {}\n  local max_product = 1\n  for i = 1, #arr do\n    max_product_arr[i] = arr[i]\n    for j = 1, i - 1 do\n      if arr[j] < arr[i] then\n        max_product_arr[i] = math.max(max_product_arr[i], max_product_arr[j] * arr[i])\n      end\n    end\n    max_product = math.max(max_product, max_product_arr[i])\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = math.min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = math.max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local n = #arr\n  local dp = {}\n  for i = 1, n do\n    dp[i] = {}\n    for j = 1, n do\n      dp[i][j] = 0\n    end\n  end\n  for i = 1, n do\n    dp[i][1] = arr[i]\n  end\n  for i = 1, n do\n    for j = 2, n do\n      for k = 1, i - 1 do\n        if arr[i] > arr[k] then\n          dp[i][j] = math.max(dp[i][j], dp[k][j - 1] * arr[i])\n        end\n      end\n    end\n  end\n  local max = 0\n  for i = 1, n do\n    for j = 1, n do\n      max = math.max(max, dp[i][j])\n    end\n  end\n  return max\nend",
    "  local max = 1\n  local min = 1\n  local result = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max = max * arr[i]\n      min = math.min(min * arr[i], 1)\n    elseif arr[i] == 0 then\n      max = 1\n      min = 1\n    else\n      local temp = max\n      max = math.max(min * arr[i], 1)\n      min = temp * arr[i]\n    end\n    if result < max then\n      result = max\n    end\n  end\n  return result\nend",
    "  local max_prod = 0\n  local prod = 1\n  for i = 1, #arr do\n    prod = prod * arr[i]\n    if prod > max_prod then\n      max_prod = prod\n    end\n  end\n  return max_prod\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_prod = 1\n  local min_prod = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_prod = max_prod * arr[i]\n      min_prod = math.min(min_prod * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_prod = 1\n      min_prod = 1\n    else\n      local temp = max_prod\n      max_prod = math.max(min_prod * arr[i], 1)\n      min_prod = temp * arr[i]\n    end\n    if max_so_far < max_prod then\n      max_so_far = max_prod\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_prod = 1\n  local min_prod = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_prod = max_prod * arr[i]\n      min_prod = math.min(min_prod * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_prod = 1\n      min_prod = 1\n    else\n      local temp = max_prod\n      max_prod = math.max(min_prod * arr[i], 1)\n      min_prod = temp * arr[i]\n    end\n    max_so_far = math.max(max_so_far, max_prod)\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local min_product = 1\n  local max_so_far = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product = max_product * arr[i]\n      min_product = math.min(min_product * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product = 1\n      min_product = 1\n    else\n      local temp = max_product\n      max_product = math.max(min_product * arr[i], 1)\n      min_product = temp * arr[i]\n    end\n    if max_so_far < max_product then\n      max_so_far = max_product\n    end\n  end\n  return max_so_far\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend",
    "  local max_product = 1\n  local max_product_ending_here = 1\n  local min_product_ending_here = 1\n  for i = 1, #arr do\n    if arr[i] > 0 then\n      max_product_ending_here = max_product_ending_here * arr[i]\n      min_product_ending_here = math.min(min_product_ending_here * arr[i], 1)\n    elseif arr[i] == 0 then\n      max_product_ending_here = 1\n      min_product_ending_here = 1\n    else\n      local temp = max_product_ending_here\n      max_product_ending_here = math.max(min_product_ending_here * arr[i], 1)\n      min_product_ending_here = temp * arr[i]\n    end\n    if max_product < max_product_ending_here then\n      max_product = max_product_ending_here\n    end\n  end\n  return max_product\nend"
  ]
}