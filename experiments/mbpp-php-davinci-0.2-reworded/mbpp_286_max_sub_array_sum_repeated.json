{
  "name": "mbpp_286_max_sub_array_sum_repeated",
  "language": "php",
  "prompt": "<?php\n// Write a function to find the largest sum of a contiguous array in the modified array which is formed by repeating the given array k times.\nfunction max_sub_array_sum_repeated($a, $n, $k) {\n",
  "doctests": "transform",
  "original": "/home/arjun/repos/MultiPL-E/datasets/../datasets/mbpp-typed/mbpp_286_max_sub_array_sum_repeated.py",
  "prompt_terminology": "reworded",
  "tests": "function candidate(...$args) {\n    return max_sub_array_sum_repeated(...$args);\n}\n\nfunction test(): void {\n    if (candidate(array(10, 20, -30, -1), 4, 3) !== 30) { throw new Exception(\"Test failed!\"); }\n    if (candidate(array(-1, 10, 20), 3, 2) !== 59) { throw new Exception(\"Test failed!\"); }\n    if (candidate(array(-1, -2, -3), 3, 3) !== -1) { throw new Exception(\"Test failed!\"); }\n}\n\ntest();",
  "stop_tokens": [
    "\nfunction",
    "\n?>",
    "\n//",
    "\n#"
  ],
  "completions": [
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $max_sum_ending_here = 0;\n    $curr_sum_so_far = 0;\n    $curr_sum_ending_here = 0;\n    $i = 0;\n    $j = 0;\n    while ($i < $n) {\n        $curr_sum_ending_here += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum_ending_here > $max_sum_ending_here) {\n            $max_sum_ending_here = $curr_sum_ending_here;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n        if ($curr_sum_ending_here < 0) {\n            $curr_sum_ending_here = 0;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        $i++;\n    }\n    $max_sum = $max_sum_so_far * ($k - 2) + $max_sum_ending_here;\n    $curr_sum = $curr_sum_so_far * ($k - 2) + $curr_sum_ending_here;\n    $i = 0;\n    $j = 0;\n    while ($i < $n) {\n        $curr_sum_ending_here += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum_ending_here > $max_sum_ending_here) {\n            $max_sum_ending_here = $curr_sum_ending_here;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum * $k;\n    $max_sum = max($max_sum, $max_wrap_sum);\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum + $max_wrap_sum;\n    if ($max_wrap_sum > $max_sum && $k > 1) {\n        $max_sum = $max_wrap_sum;\n    }\n    return $max_sum;\n}\n$a = array(11, 10, -20, 5, -3, -5, 8, -13, 10);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum = $max_sum * $k;\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = $curr_sum % $max_sum;\n            $max_sum = max($max_sum, $curr_sum);\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, -2, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    $total_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n    }\n    if ($total_sum > 0) {\n        $max_sum = max($max_sum, $total_sum * ($k - 2));\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_so_far = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $max_so_far += $a[$i % $n];\n        if ($max_so_far < 0) {\n            $max_so_far = 0;\n            $s = $i + 1;\n        }\n        if ($max_sum < $max_so_far) {\n            $max_sum = $max_so_far;\n            $start = $s;\n            $end = $i;\n        }\n    }\n    echo \"Maximum contiguous sum is \" . $max_sum . \"\\n\";\n    echo \"Starting index \" . $start . \"\\n\";\n    echo \"Ending index \" . $end . \"\\n\";\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\nmax_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_wrap < $curr_sum) {\n            $max_wrap = $curr_sum;\n        }\n    }\n    $max_wrap = $max_wrap + $max_wrap;\n    if ($max_wrap > $max_sum) {\n        return $max_wrap;\n    }\n    return $max_sum;\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $curr_start = 0;\n    $curr_end = 0;\n    $max_start = 0;\n    $max_end = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $curr_sum += $a[$i % $n];\n        $curr_end = $i;\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $max_start = $curr_start;\n            $max_end = $curr_end;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n            $curr_start = $i + 1;\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, -2, 1);\n$n = 3;\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    return max($max_sum, $max_wrap_sum * ($k - 2));\n}\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_arr = array();\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum_arr[$i] = $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $max_sum_arr[$i] = $max_sum_arr[$i] + $max_wrap_sum;\n    }\n    $max_sum = $max_sum + ($k - 2) * $max_wrap_sum;\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum = max($max_sum, $max_sum_arr[$i]);\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n    }\n    if ($max_sum_so_far == 0) {\n        return $max_sum;\n    }\n    return max($max_sum_so_far * $k, $max_sum_so_far + $max_sum * ($k - 2));\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = min($curr_sum, 0);\n            $min_sum = min($min_sum, $curr_sum);\n        }\n        $max_sum += $min_sum * ($k - 2);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    return max($max_sum, $max_wrap * ($k - 2));\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum_so_far += $a[$i];\n    }\n    $max_sum = $max_sum_so_far;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_sum = max($max_sum, ($max_sum_so_far * ($k - 2)) + $curr_sum);\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "\t$max_sum = 0;\n\t$max_sum_so_far = 0;\n\t$max_sum_ending_here = 0;\n\t$start = 0;\n\t$end = 0;\n\t$s = 0;\n\tfor ($i = 0; $i < $n * $k; $i++) {\n\t\t$max_sum_ending_here += $a[$i % $n];\n\t\tif ($max_sum_ending_here < 0) {\n\t\t\t$max_sum_ending_here = 0;\n\t\t\t$s = $i + 1;\n\t\t}\n\t\tif ($max_sum_so_far < $max_sum_ending_here) {\n\t\t\t$max_sum_so_far = $max_sum_ending_here;\n\t\t\t$start = $s;\n\t\t\t$end = $i;\n\t\t}\n\t}\n\t$max_sum = $max_sum_so_far;\n\treturn $max_sum;\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        $curr_sum += $i * $a[$i];\n    }\n    $max_sum = $curr_sum;\n    for ($i = 1; $i < $k; $i++) {\n        $curr_sum = $curr_sum + $sum - $n * $a[$n - 1];\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(10, 1, 2, 3, 4, 5, 6, 7, 8, 9);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        if ($sum < 0) {\n            $sum = 0;\n        }\n        $max_sum = max($max_sum, $sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $prefix_sum = 0;\n    $suffix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $prefix_sum += $a[$i];\n        $suffix_sum += $a[$n - $i - 1];\n        $max_sum = max($max_sum, $prefix_sum + ($suffix_sum - $a[$n - $i - 1]) * ($k - 2));\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $curr_sum += $a[$i % $n];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_sum_so_far = 0;\n    $max_ending_here = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_ending_here += $a[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($max_sum_so_far < $max_ending_here) {\n            $max_sum_so_far = $max_ending_here;\n        }\n    }\n    $max_sum = $max_sum_so_far * $k;\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $max_ending_here += $a[$i];\n        if ($max_ending_here > $max_wrap) {\n            $max_wrap = $max_ending_here;\n        }\n    }\n    $max_wrap = $max_wrap * ($k - 1);\n    return max($max_sum, $max_wrap);\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return $max_sum;\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        $curr_wrap = $curr_wrap % $n;\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    return max($max_sum, $max_wrap);\n}\n\n$a = [1, -2, 1];\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        $curr_wrap = $curr_wrap < 0 ? 0 : $curr_wrap;\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n$a = [1, -2, 1];\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $prefix_sum = 0;\n    $suffix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $prefix_sum += $a[$i];\n        $suffix_sum += $a[$n - $i - 1];\n        $max_sum = max($max_sum, $prefix_sum + ($suffix_sum - $a[$n - $i - 1]) * ($k - 2));\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum_so_far = max($max_sum_so_far, $curr_sum);\n    }\n    $max_sum = $max_sum_so_far * $k;\n    if ($max_sum_so_far > 0) {\n        $max_wrap = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $max_wrap += $a[$i];\n            $a[$i] = -$a[$i];\n        }\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n            $max_sum_so_far = max($max_sum_so_far, $curr_sum);\n        }\n        $max_sum_so_far = $max_wrap + $max_sum_so_far;\n        $max_sum = max($max_sum, $max_sum_so_far);\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    return max($max_sum, $max_wrap_sum * ($k - 2));\n}\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $curr_sum = 0;\n    $max_sum = 0;\n    $max_sum_so_far = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $curr_sum += $a[$i % $n];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n            $s = $i + 1;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $start = $s;\n            $end = $i;\n        }\n    }\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum_so_far += $a[$i];\n    }\n    if ($max_sum_so_far < 0) {\n        $max_sum = $max_sum_so_far;\n    }\n    return $max_sum;\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    return max($max_sum, $max_wrap_sum * ($k - 2));\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3];\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $sum = 0;\n    $max_sum = 0;\n    $max_sum_so_far = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $sum += $a[$i % $n];\n        if ($sum < 0) {\n            $sum = 0;\n            $s = $i + 1;\n        }\n        if ($sum > $max_sum) {\n            $max_sum = $sum;\n            $start = $s;\n            $end = $i;\n        }\n        $max_sum_so_far += $a[$i % $n];\n    }\n    if ($max_sum_so_far > $max_sum) {\n        $max_sum = $max_sum_so_far;\n        $start = 0;\n        $end = $n - 1;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    return max($max_sum, $max_wrap_sum * ($k - 2));\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = $max_wrap * ($k - 2);\n    return max($max_sum, $max_wrap);\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4];\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum = $max_sum * $k;\n        $curr_sum = 0;\n        $prefix_sum = 0;\n        $suffix_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $prefix_sum = max($prefix_sum, $curr_sum);\n        }\n        $curr_sum = 0;\n        for ($i = $n - 1; $i >= 0; $i--) {\n            $curr_sum += $a[$i];\n            $suffix_sum = max($suffix_sum, $curr_sum);\n        }\n        $max_sum = max($max_sum, $prefix_sum + ($suffix_sum * ($k - 2)));\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = max(0, $curr_sum);\n            $prefix_sum[$i] = $curr_sum;\n        }\n        $curr_sum = 0;\n        for ($i = $n - 1; $i >= 0; $i--) {\n            $curr_sum += $a[$i];\n            $curr_sum = max(0, $curr_sum);\n            $suffix_sum[$i] = $curr_sum;\n        }\n        $total_sum = array_sum($a);\n        $max_wrap = $total_sum + $suffix_sum[0] + $prefix_sum[$n - 1];\n        for ($i = 0; $i < $n - 1; $i++) {\n            $max_wrap = max($max_wrap, $total_sum + $prefix_sum[$i] + $suffix_sum[$i + 1]);\n        }\n        $max_sum = max($max_sum, $max_wrap);\n    }\n    return $max_sum;\n}\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_wrap += $a[$i];\n    }\n    if ($max_wrap < 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n\n$a = [1, -2, 1];\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    if ($max_wrap > $max_sum) {\n        $max_sum = $max_wrap;\n    }\n    return $max_sum * $k;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n\n$a = array(11, 10, -20, 5, -3, -5, 8, -13, 10);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    if ($max_wrap > $max_sum) {\n        $max_sum = $max_wrap;\n    }\n    return $max_sum * $k;\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    } else {\n        $max_sum = max_sub_array_sum($a, $n);\n    }\n    return $max_sum;\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    if ($k == 1) {\n        return $max_sum_so_far;\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap > $max_wrap) {\n            $max_wrap = $curr_wrap;\n        }\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n    }\n    $max_wrap = $max_wrap * ($k - 2);\n    return max($max_sum_so_far, $max_wrap + $max_sum);\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n    }\n    $max_sum_so_far = $max_sum_so_far * ($k - 2);\n    $max_sum_so_far += $max_sum;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum;\n        }\n    }\n    return $max_sum_so_far;\n}\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_ending_here = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $max_ending_here = $max_ending_here + $a[$i % $n];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($max_sum < $max_ending_here) {\n            $max_sum = $max_ending_here;\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_sum_wrap = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum_wrap) {\n            $max_sum_wrap = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($max_sum_wrap > 0) {\n        return max($max_sum, $max_sum_wrap * $k);\n    } else {\n        return $max_sum;\n    }\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        if ($curr_wrap > $max_wrap) {\n            $max_wrap = $curr_wrap;\n        }\n    }\n    if ($max_wrap > 0) {\n        return max($max_sum, $max_wrap * $k);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    $suffix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum = max($prefix_sum, $curr_sum);\n    }\n    $curr_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum = max($suffix_sum, $curr_sum);\n    }\n    $ans = max($max_sum, $prefix_sum + $suffix_sum + ($k - 2) * $prefix_sum);\n    return $ans;\n}\n$a = array(1, 2, 3, -2, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_ending_here = 0;\n    $max_so_far = 0;\n    $max_element = 0;\n    $min_element = 0;\n    $min_sum = 0;\n    $min_ending_here = 0;\n    $min_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_ending_here = $max_ending_here + $a[$i];\n        $min_ending_here = $min_ending_here + $a[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($min_ending_here > 0) {\n            $min_ending_here = 0;\n        }\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n        }\n        if ($min_so_far > $min_ending_here) {\n            $min_so_far = $min_ending_here;\n        }\n        if ($a[$i] > $max_element) {\n            $max_element = $a[$i];\n        }\n        if ($a[$i] < $min_element) {\n            $min_element = $a[$i];\n        }\n    }\n    if ($k == 1) {\n        $max_sum = $max_so_far;\n    } else {\n        $max_sum = $max_so_far + ($k - 2) * ($max_element - $min_element) + $min_so_far;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = min($curr_sum, 0);\n            $max_sum = max($max_sum, $curr_sum);\n        }\n        $curr_sum = 0;\n        for ($i = $n - 1; $i >= 0; $i--) {\n            $curr_sum += $a[$i];\n            $curr_sum = min($curr_sum, 0);\n            $max_sum = max($max_sum, $curr_sum);\n        }\n    }\n    return $max_sum;\n}\n\n$a = [1, -2, 1];\n$n = sizeof($a);\n$k = 10;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_arr = [];\n    $curr_sum_arr = [];\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_arr[] = $curr_sum;\n        $max_sum = max($max_sum, $curr_sum);\n        $max_sum_arr[] = $max_sum;\n    }\n    $max_sum = $max_sum_arr[$n - 1];\n    for ($i = 1; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum_arr[$j] = $curr_sum_arr[$j] + $max_sum_arr[$n - 1] - $max_sum_arr[$j];\n            $max_sum = max($max_sum, $curr_sum_arr[$j]);\n        }\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return $max_sum;\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap * $k;\n    return max($max_sum, $max_wrap);\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    $i = 0;\n    $j = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        $j = 0;\n        while ($j < $n) {\n            $curr_sum += $a[$j];\n            $max_sum = max($max_sum, $curr_sum);\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n            $j++;\n        }\n        $curr_sum_so_far += $max_sum;\n        $max_sum_so_far = max($max_sum_so_far, $curr_sum_so_far);\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        $i++;\n    }\n    return $max_sum_so_far;\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    $total_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n    }\n    if ($total_sum > 0) {\n        $max_sum = max($max_sum, $total_sum * ($k - 2));\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3, 4);\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap > 0) {\n        return max($max_sum, $max_wrap * $k);\n    }\n    return $max_sum;\n}\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    return max($max_sum, ($max_wrap * $k));\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum_so_far = max($max_sum_so_far, $curr_sum);\n    }\n    $max_sum = $max_sum_so_far * $k;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n    }\n    if ($curr_sum > 0) {\n        $max_sum += ($curr_sum * ($k - 2));\n    }\n    $curr_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n    }\n    $max_sum = max($max_sum, $max_sum_so_far);\n    $max_sum = max($max_sum, $max_sum_so_far * ($k - 2) + $max_sum);\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = $curr_sum + $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap = $max_wrap + $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = $curr_sum + $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_wrap < $curr_sum) {\n            $max_wrap = $curr_sum;\n        }\n    }\n    $max_wrap = $max_wrap + $max_wrap;\n    if ($max_wrap > $max_sum) {\n        return $max_wrap;\n    }\n    return $max_sum;\n}\n$a = array(11, 10, -20, 5, -3, -5, 8, -13, 10);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_sum = $max_sum * ($k - 2);\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n    }\n    $max_sum += $curr_sum;\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    $total_sum = array_sum($a);\n    $max_sum = max($max_sum, $total_sum * ($k - 2));\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4];\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    if ($max_wrap > 0) {\n        $max_sum = max($max_sum, $max_wrap);\n    }\n    return $max_sum;\n}\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_sum;\n        }\n    }\n    $min_wrap_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < $min_wrap_sum) {\n            $min_wrap_sum = $curr_sum;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum - $min_wrap_sum;\n    if ($k == 1) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap_sum + ($k - 2) * $max_wrap_sum);\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_element = 0;\n    $sum_of_all_elements = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_element = max($max_element, $a[$i]);\n        $sum_of_all_elements += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum = max($max_sum, $max_sum + ($k - 2) * $sum_of_all_elements);\n    }\n    if ($max_sum == 0) {\n        $max_sum = $max_element;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $a[$i] *= -1;\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    if ($max_wrap_sum > $max_sum && $max_wrap_sum != 0) {\n        $max_sum = $max_wrap_sum;\n    }\n    return $max_sum * $k;\n}\n\n$a = array(1, 2, 3, -4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_sum = $max_sum * ($k - 2);\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n    }\n    $max_sum += $curr_sum;\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    if ($max_wrap_sum > $max_sum && $max_wrap_sum != 0) {\n        $max_sum = $max_wrap_sum;\n    }\n    return $max_sum * $k;\n}\n$a = array(1, 2, 3, 4);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap > $max_wrap) {\n            $max_wrap = $curr_wrap;\n        }\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return $max_sum;\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_sum);\n    }\n    return max($max_sum, $max_wrap * ($k - 2) + $max_sum);\n}\n\n$a = [1, -2, 1];\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    if ($max_wrap_sum > $max_sum && $max_wrap_sum != 0) {\n        $max_sum = $max_wrap_sum;\n    }\n    return $max_sum * $k;\n}\n\n$a = array(1, -2, 1);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    if ($max_wrap_sum > $max_sum && $max_wrap_sum != 0) {\n        $max_sum = $max_wrap_sum;\n    }\n    return $max_sum * $k;\n}\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $j = 0;\n        while ($j < $n) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n            $j++;\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n    }\n    $max_sum = $sum;\n    $curr_val = $sum;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_val = $curr_val + $sum - ($n * $a[$n - $i - 1]);\n        $max_sum = max($max_sum, $curr_val);\n    }\n    return $max_sum * $k;\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = $curr_sum + $a[$i];\n        $curr_sum_so_far = $curr_sum_so_far + $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    $max_sum_so_far = $max_sum_so_far * ($k - 2);\n    $max_sum = $max_sum + $max_sum_so_far;\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, -2, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_sum_so_far = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $max_sum_so_far += $a[$i % $n];\n        if ($max_sum_so_far < 0) {\n            $max_sum_so_far = 0;\n            $s = $i + 1;\n        }\n        if ($max_sum < $max_sum_so_far) {\n            $max_sum = $max_sum_so_far;\n            $start = $s;\n            $end = $i;\n        }\n    }\n    echo \"Maximum contiguous sum is \" . $max_sum . \"\\n\";\n    echo \"Starting index \" . $start . \"\\n\";\n    echo \"Ending index \" . $end . \"\\n\";\n}\n\n$a = array(-2, 1, -3, 4, -1, 2, 1, -5, 4);\n$n = count($a);\n$k = 2;\nmax_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    return max($max_sum, $max_wrap * ($k - 2));\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    $total_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n    }\n    if ($total_sum > 0) {\n        $max_sum = max($max_sum, $total_sum * ($k - 2));\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum + ($curr_sum * ($k - 2)));\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum + ($curr_sum * ($k - 2)));\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($max_wrap < 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n\n$a = array(11, 10, -20, 5, -3, -5, 8, -13, 10);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_sum_so_far = 0;\n    $max_sum_ending_here = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $max_sum_ending_here += $a[$i % $n];\n        if ($max_sum_so_far < $max_sum_ending_here) {\n            $max_sum_so_far = $max_sum_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n        if ($max_sum_ending_here < 0) {\n            $max_sum_ending_here = 0;\n            $s = $i + 1;\n        }\n    }\n    $max_sum = $max_sum_so_far;\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_sum_wrap = 0;\n    $curr_sum_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum_wrap += $a[$i];\n        if ($curr_sum_wrap > $max_sum_wrap) {\n            $max_sum_wrap = $curr_sum_wrap;\n        }\n        if ($curr_sum_wrap < 0) {\n            $curr_sum_wrap = 0;\n        }\n    }\n    if ($max_sum_wrap > 0) {\n        return max($max_sum, $max_sum_wrap * $k);\n    } else {\n        return $max_sum;\n    }\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    if ($max_wrap_sum > 0 && $k > 1) {\n        $max_sum = max($max_sum, $max_wrap_sum * ($k - 2) + $max_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, -2, 1);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $curr_max = $max_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_max = max($a[$i], $curr_max + $a[$i]);\n        $max_so_far = max($max_so_far, $curr_max);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_max = $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_max = max($a[$i], $curr_max + $a[$i]);\n        $max_wrap = max($max_wrap, $curr_max);\n    }\n    $max_wrap = $max_wrap + $max_wrap;\n    if ($max_wrap > $max_so_far) {\n        return $max_wrap;\n    }\n    return $max_so_far;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    if ($max_wrap_sum > 0) {\n        return max($max_sum, $max_wrap_sum * $k);\n    }\n    return $max_sum;\n}\n\n$a = array(1, -2, 1);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $max_sum_so_far += $max_sum;\n    }\n    return $max_sum_so_far;\n}\n\n$a = array(2, 1, -5, 4, -3, 1, -3, 4, -1);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    if ($max_wrap > 0) {\n        $max_sum = max($max_sum, $max_wrap);\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($max_sum > 0) {\n        $max_sum = $max_sum * $k;\n    }\n    $prefix_sum = array_fill(0, $n, 0);\n    $suffix_sum = array_fill(0, $n, 0);\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum[$i] = $curr_sum;\n    }\n    $curr_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum[$i] = $curr_sum;\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > 0) {\n            $max_sum = max($max_sum, $curr_sum * $k + ($prefix_sum[$n - 1] - $prefix_sum[$i]) * ($k - 2));\n        }\n    }\n    $curr_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > 0) {\n            $max_sum = max($max_sum, $curr_sum * $k + ($suffix_sum[0] - $suffix_sum[$i]) * ($k -",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    if ($max_wrap_sum > $max_sum && $max_wrap_sum != 0) {\n        $max_sum = $max_wrap_sum;\n    }\n    return $max_sum * $k;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $prefix_sum = 0;\n    $suffix_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum = max($prefix_sum, $curr_sum);\n    }\n    $curr_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum = max($suffix_sum, $curr_sum);\n    }\n    $ans = max($max_sum, $prefix_sum + $suffix_sum + ($k - 2) * $prefix_sum);\n    return $ans;\n}\n\n$a = array(1, 2, 3, -2, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_wrap += $curr_sum;\n    }\n    if ($max_wrap > $max_sum) {\n        return $max_wrap * ($k - 2) + $max_sum;\n    } else {\n        return $max_sum * $k;\n    }\n}\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum * $k;\n    $max_sum = max($max_sum, $max_wrap_sum);\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, -2, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_wrap += $a[$i];\n    }\n    if ($max_wrap > 0) {\n        $max_sum = max($max_sum, $max_wrap * $k + $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4, 5];\n$k = 2;\n$n = count($a);\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    if ($max_wrap > 0) {\n        return max($max_wrap, $max_sum);\n    }\n    return $max_sum;\n}\n\n$a = [1, -2, 1];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n$a = array(1, -2, 1);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $total_sum = array_sum($a);\n    if ($total_sum > 0) {\n        $max_sum = max($max_sum, $total_sum * ($k - 2) + $prefix_sum + $suffix_sum);\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum += $a[$i];\n    }\n    $max_sum_so_far = $max_sum;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n    }\n    if ($max_sum_so_far < 0) {\n        return $max_sum;\n    }\n    return max($max_sum, ($max_sum_so_far * ($k - 2) + $max_sum));\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    return max($max_sum, $max_wrap * ($k - 2));\n}\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        $curr_wrap = $curr_wrap % $n;\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * ($k - 2);\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum = $curr_sum % $n;\n        $max_wrap += $curr_sum;\n    }\n    return max($max_sum, $max_wrap);\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        if ($sum > $max_sum) {\n            $max_sum = $sum;\n        }\n    }\n    $max_sum = $max_sum * $k;\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $max_wrap = $max_wrap + max_sub_array_sum($a, $n);\n    return max($max_sum, $max_wrap);\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_so_far = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_so_far) {\n                $max_so_far = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $max_sum += $max_so_far;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if($max_wrap == 0) {\n        return $max_sum;\n    }\n    return max($max_wrap + ($k - 2) * $max_wrap, $max_sum);\n}\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * ($k - 2) + $curr_sum);\n}\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n$a = [1, 2, 3, 4];\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    if ($max_wrap > $max_sum) {\n        return $max_wrap;\n    }\n    $max_sum_k = $max_sum;\n    $min_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $min_sum = min($min_sum, $curr_sum);\n        $max_sum_k = max($max_sum_k, $curr_sum - $min_sum);\n    }\n    return $max_sum_k;\n}\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        $max_wrap += $a[$i];\n    }\n    if ($curr_wrap < 0) {\n        $curr_wrap = 0;\n    }\n    $max_wrap = max($max_wrap, $curr_wrap);\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max(0, $curr_sum);\n        $max_sum = max($max_sum, $prefix_sum + ($k - 2) * $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max(0, $curr_sum);\n        $max_sum = max($max_sum, $suffix_sum + ($k - 2) * $curr_sum);\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_sum;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum * $k;\n    $max_sum = max($max_sum, $max_wrap_sum);\n    return $max_sum;\n}\n$a = array(1, -2, 1);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        if ($sum < 0) {\n            $sum = 0;\n        }\n        $max_sum = max($max_sum, $sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $prefix_sum = 0;\n    $suffix_sum = 0;\n    $total_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($prefix_sum < 0) {\n            $prefix_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $suffix_sum += $a[$i];\n        if ($suffix_sum < 0) {\n            $suffix_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    $max_sum = max($max_sum, $total_sum * ($k - 2) + $prefix_sum + $suffix_sum);\n    return $max_sum;\n}\n\n$a = [1, -2, 1];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum_so_far += $a[$i];\n    }\n    $max_sum = $max_sum_so_far;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_sum_so_far = max($max_sum_so_far, 0);\n    if ($max_sum_so_far < 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_sum_so_far * ($k - 2) + $curr_sum);\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    if ($max_wrap > $max_sum) {\n        return $max_wrap;\n    }\n    $max_sum_array = array();\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $max_sum_array[$i] = $curr_sum;\n    }\n    $min_sum_array = array();\n    $curr_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $min_sum_array[$i] = $curr_sum;\n    }\n    $max_sum = $max_sum;\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum = max($max_sum, $max_sum_array[$i] + ($min_sum_array[$i] * ($k - 2)));\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_sum;\n        }\n    }\n    if ($max_wrap_sum > 0) {\n        return max($max_wrap_sum * $k, $max_sum);\n    }\n    return $max_sum;\n}\n\n$a = [1, -2, 1];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = $curr_sum + $a[$i];\n        $curr_sum_so_far = $curr_sum_so_far + $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n    }\n    if ($k == 1) {\n        return $max_sum_so_far;\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap = $curr_wrap + $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        if ($curr_wrap > $max_wrap) {\n            $max_wrap = $curr_wrap;\n        }\n    }\n    $max_sum = max($max_sum, $max_wrap + ($k - 2) * $max_sum_so_far);\n    return $max_sum;\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    if ($max_wrap_sum > 0) {\n        $max_sum = max($max_sum, $max_wrap_sum * $k);\n    }\n    return $max_sum;\n}\n\n$a = [1, -2, 1];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, -2, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    if ($max_wrap > $max_sum && $k > 1) {\n        $max_sum = $max_wrap;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    $max_sum_so_far = $max_sum_so_far * $k;\n    $max_sum_so_far = max($max_sum_so_far, $max_sum);\n    $max_sum = $max_sum + ($k - 2) * $curr_sum_so_far;\n    return max($max_sum, $max_sum_so_far);\n}\n$a = array(1, 2, 3, -4, 5);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum < 0) {\n            $curr_wrap_sum = 0;\n        }\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    if ($max_wrap_sum > 0) {\n        return max($max_sum, $max_wrap_sum * $k);\n    } else {\n        return $max_sum;\n    }\n}\n\n$a = [1, -2, 1];\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    $total_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n    }\n    if ($total_sum > 0) {\n        $max_sum = max($max_sum, $total_sum * ($k - 2));\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap + ($k - 2) * $max_wrap);\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($max_wrap < 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n    }\n    $max_sum = $curr_sum;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = $curr_sum - $a[$i] + $a[($i + $n) % $n];\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    return $max_sum * $k;\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_sum_wrap = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum_wrap) {\n            $max_sum_wrap = $curr_sum;\n        }\n    }\n    $max_sum_wrap = $max_sum_wrap * $k;\n    $max_sum_wrap = max($max_sum_wrap, $max_sum);\n    return $max_sum_wrap;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_ending_here = 0;\n    $max_so_far = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $max_ending_here = $max_ending_here + $a[$i % $n];\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n            $s = $i + 1;\n        }\n    }\n    $max_sum = $max_so_far;\n    return $max_sum;\n}\n\n$a = array(2, 1, -5, 4, -3, 1, -3, 4, -1);\n$n = count($a);\n$k = 2;\necho \"Maximum sum of a contiguous subarray in the given array is \" . max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    $suffix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_sum_so_far = $max_sum;\n    for ($i = 1; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n        }\n        $max_sum_so_far += $max_sum;\n    }\n    return $max_sum_so_far;\n}\n\n$a = array(1, 2, 3, -2, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_element = 0;\n    $sum_of_all_elements = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_element = max($max_element, $a[$i]);\n        $sum_of_all_elements += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_element < 0) {\n        return $max_element;\n    }\n    $max_sum = max($max_sum, $curr_sum - $sum_of_all_elements);\n    return max($max_sum * $k, $curr_sum * $k);\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    $curr_sum_start = 0;\n    $curr_sum_end = 0;\n    $max_sum_start = 0;\n    $max_sum_end = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n            $curr_sum_start = $i + 1;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $max_sum_start = $curr_sum_start;\n            $max_sum_end = $i;\n        }\n    }\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n            $curr_sum_start = $i + 1;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n            $max_sum_start = $curr_sum_start;\n            $max_sum_end = $i;\n        }\n    }\n    $max_sum_so_far = $max_sum_so_far * ($k - 2);\n    $max_sum_so_far += $max_sum;\n    $curr_sum = 0;\n    $curr_sum_start = 0;\n    $curr_sum_end = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $",
    "    $max_sum = 0;\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n    }\n    $max_sum = $sum;\n    for ($i = 0; $i < $n; $i++) {\n        $sum = $sum - $a[$i] + $a[($i + $n) % $n];\n        $max_sum = max($max_sum, $sum);\n    }\n    return $max_sum * $k;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum_so_far += $a[$i];\n    }\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_sum *= $k;\n    if ($max_sum_so_far > 0) {\n        $max_sum += ($k - 2) * $max_sum_so_far;\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    $suffix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum = max($prefix_sum, $curr_sum);\n    }\n    $curr_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum = max($suffix_sum, $curr_sum);\n    }\n    $ans = max($max_sum, $prefix_sum + $suffix_sum + ($k - 2) * $prefix_sum);\n    return $ans;\n}\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    if ($max_wrap > $max_sum) {\n        $max_sum = $max_wrap;\n    }\n    return $max_sum * $k;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $sum_arr = array();\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $sum_arr[$i] = $max_sum;\n    }\n    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $sum_arr[$i] += $max_sum;\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n    }\n    $max_sum = $curr_sum * ($k - 2);\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum = max($max_sum, $sum_arr[$i]);\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_sum);\n    }\n    return max($max_sum, $max_wrap * ($k - 2) + $max_sum);\n}\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 10;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    $total_sum = array_sum($a);\n    $max_sum = max($max_sum, $total_sum * ($k - 2));\n    return $max_sum;\n}\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $curr_sum += $a[$i % $n];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($i >= $n - 1) {\n            $max_sum_so_far += $a[$i % $n];\n        }\n    }\n    if ($max_sum_so_far > 0) {\n        return max($max_sum, $max_sum_so_far * ($k - 2) + $max_sum);\n    } else {\n        return $max_sum;\n    }\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 3;\n\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n",
    "    $max_sum = 0;\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n    }\n    $max_sum = $sum;\n    for ($i = 0; $i < $n; $i++) {\n        $sum = $sum - $a[$i] + $a[($i + $n) % $n];\n        $max_sum = max($max_sum, $sum);\n    }\n    return $max_sum * $k;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_sum_so_far = $max_sum;\n    for ($i = 1; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n        }\n        $max_sum_so_far += $max_sum;\n    }\n    return $max_sum_so_far;\n}\n\n$a = array(2, 1, -5, 4, -3, 1, -3, 4, -1);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    $j = 0;\n    while ($j < $n) {\n        $curr_sum += $a[$j];\n        $j++;\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n            $i = $j;\n        }\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n    }\n    if ($curr_sum > 0) {\n        $max_sum += ($curr_sum * ($k - 2));\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $cur_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $cur_sum += $a[$i];\n        if ($cur_sum < 0) {\n            $cur_sum = 0;\n        }\n        $max_sum = max($max_sum, $cur_sum);\n    }\n    $max_wrap = 0;\n    $cur_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $cur_sum += $a[$i];\n        if ($cur_sum > 0) {\n            $max_wrap += $cur_sum;\n        } else {\n            $cur_sum = 0;\n        }\n    }\n    if ($max_wrap > 0) {\n        return max($max_sum, $max_wrap * $k);\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, -2, 5];\n$n = 5;\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_sum_so_far = $max_sum;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum = $curr_sum % $k;\n        $max_sum_so_far += $curr_sum;\n    }\n    return $max_sum_so_far;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $n) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        $i++;\n    }\n    $max_wrap = 0;\n    $i = 0;\n    while ($i < $n) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n        $i++;\n    }\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $n) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        $i++;\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    if ($max_wrap > $max_sum) {\n        $max_sum = $max_wrap;\n    }\n    return $max_sum * $k;\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    return $max_sum;\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    $total_sum = array_sum($a);\n    if ($total_sum > 0) {\n        $max_sum = max($max_sum, $total_sum * ($k - 2));\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return $max_sum;\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        $curr_wrap = $curr_wrap % $n;\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    return max($max_wrap, $max_sum);\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    if ($max_wrap > $max_sum && $k > 1) {\n        $max_sum = $max_wrap;\n    }\n    return $max_sum;\n}\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $curr_start = 0;\n    $max_start = 0;\n    $max_end = -1;\n    $i = 0;\n    while ($i < $n * $k) {\n        $curr_sum += $a[$i % $n];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $max_start = $curr_start;\n            $max_end = $i;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n            $curr_start = $i + 1;\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    if ($k == 1) {\n        return $max_sum_so_far;\n    }\n    $total_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n    }\n    $max_sum_wrap = $total_sum + ($k - 2) * $max_sum_so_far;\n    return max($max_sum_wrap, $max_sum);\n}\n\n$a = array(1, 2, 3, -4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_so_far = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $max_so_far += $a[$j];\n            if ($max_so_far < 0) {\n                $max_so_far = 0;\n                $s = $j + 1;\n            }\n            if ($max_sum < $max_so_far) {\n                $max_sum = $max_so_far;\n                $start = $s;\n                $end = $j;\n            }\n        }\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, -2, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_sum_so_far = 0;\n    $max_sum_ending_here = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $max_sum_ending_here += $a[$i % $n];\n        if ($max_sum_ending_here < 0) {\n            $max_sum_ending_here = 0;\n            $s = $i + 1;\n        }\n        if ($max_sum_so_far < $max_sum_ending_here) {\n            $max_sum_so_far = $max_sum_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n    }\n    $max_sum = $max_sum_so_far;\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    if ($max_wrap_sum > 0) {\n        $max_sum = max($max_sum, $max_wrap_sum * $k);\n    }\n    return $max_sum;\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    if ($max_wrap > $max_sum && $max_wrap != 0) {\n        return $max_wrap * $k;\n    }\n    return $max_sum * $k;\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $curr_sum += $a[$i % $n];\n        $curr_sum_so_far += $a[$i % $n];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    return max($max_sum, $max_sum_so_far);\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $sum_arr = array();\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $sum_arr[$i] = $max_sum;\n    }\n    $max_sum = $sum_arr[$n - 1];\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum = $curr_sum % $n;\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho \"Maximum subarray sum is \" . max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = max($a[$i], $curr_sum + $a[$i]);\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = max($a[$i], $curr_sum + $a[$i]);\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    if ($max_wrap_sum > 0 && $k > 1) {\n        $max_sum = max($max_sum, $max_wrap_sum * ($k - 1));\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n            if ($max_sum_so_far < $curr_sum) {\n                $max_sum_so_far = $curr_sum;\n            }\n        }\n        $max_sum += $max_sum_so_far;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_ending_here = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_ending_here = $max_ending_here + $a[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($max_sum < $max_ending_here) {\n            $max_sum = $max_ending_here;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap = $max_wrap + $a[$i];\n        $curr_sum = $curr_sum + $a[$i];\n    }\n    if ($curr_sum > 0) {\n        $max_sum = max($max_sum, ($max_wrap * $k + $max_sum));\n    } else {\n        $max_sum = max($max_sum, $max_wrap);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum_so_far += $a[$i];\n    }\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_sum_so_far = max($max_sum_so_far, $max_sum);\n    $max_sum = $max_sum * ($k - 2);\n    $max_sum += $max_sum_so_far;\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_arr = array();\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $max_sum_arr[$i] = $curr_sum;\n    }\n    $max_sum = $max_sum_arr[$n - 1];\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = $max_sum_arr[$i] + ($k - 1) * $max_sum_arr[$n - 1];\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n    }\n    return $max_sum;\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    return max($max_sum, $max_wrap * ($k - 2) + $max_sum);\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    $total_sum = array_sum($a);\n    $max_sum = max($max_sum, $total_sum * ($k - 2));\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_wrap += $curr_sum;\n    }\n    if ($max_wrap > $max_sum) {\n        return $max_wrap * ($k - 2) + $max_sum;\n    } else {\n        return $max_sum * $k;\n    }\n}\n\n$a = array(1, 2, 3, 4);\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum * $k;\n    return max($max_sum, $max_wrap_sum);\n}\n\n$a = [1, -2, 1];\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n    }\n    $max_sum_so_far = $max_sum_so_far * ($k - 2);\n    $max_sum = $max_sum + $max_sum_so_far;\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    if ($max_wrap > 0) {\n        $max_sum = max($max_sum, $max_wrap);\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum = $max_sum * $k;\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = max($curr_sum, 0);\n            $max_wrap = $curr_sum;\n        }\n        $max_sum = max($max_sum, $max_wrap * ($k - 2) + $max_wrap);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n    }\n    if ($max_sum_so_far == 0) {\n        return $max_sum_so_far;\n    }\n    return max($max_sum, $max_sum_so_far * $k);\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    if ($max_wrap > $max_sum) {\n        $max_sum = $max_wrap;\n    }\n    return $max_sum * $k;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_sum_so_far = 0;\n    $max_sum_ending_here = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $max_sum_ending_here = $max_sum_ending_here + $a[$i % $n];\n        if ($max_sum_ending_here < 0) {\n            $max_sum_ending_here = 0;\n        }\n        if ($max_sum_so_far < $max_sum_ending_here) {\n            $max_sum_so_far = $max_sum_ending_here;\n        }\n    }\n    return $max_sum_so_far;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $sum_array = array_fill(0, $n, 0);\n    for ($i = 0; $i < $k; $i++) {\n        $curr_sum = 0;\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            $sum_array[$j] += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $sum_array[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    if ($k == 1) {\n        return $max_sum_so_far;\n    }\n    $max_sum_so_far = $max_sum_so_far * $k;\n    $max_sum_so_far = max($max_sum_so_far, $max_sum_so_far + $max_sum);\n    return $max_sum_so_far;\n}\n",
    "    $max_sum = 0;\n    $max_sum_so_far = 0;\n    $max_sum_ending_here = 0;\n    $i = 0;\n    while ($i < $k) {\n        $j = 0;\n        while ($j < $n) {\n            $max_sum_ending_here += $a[$j];\n            if ($max_sum_ending_here < 0) {\n                $max_sum_ending_here = 0;\n            }\n            if ($max_sum_so_far < $max_sum_ending_here) {\n                $max_sum_so_far = $max_sum_ending_here;\n            }\n            $j++;\n        }\n        $max_sum += $max_sum_so_far;\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    $max_sum = max($max_sum, $max_sum_so_far);\n    if ($max_sum > 0) {\n        return ($max_sum * $k);\n    } else {\n        return $max_sum;\n    }\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($max_wrap > 0) {\n        return max($max_sum, $max_wrap * ($k - 2) + $max_sum);\n    } else {\n        return $max_sum;\n    }\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);"
  ]
}