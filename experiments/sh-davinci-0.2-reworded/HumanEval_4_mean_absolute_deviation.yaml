name: HumanEval_4_mean_absolute_deviation
language: sh
prompt: "#!/bin/bash\n# For a given list of input numbers, calculate Mean Absolute\
  \ Deviation\n# around the mean of this dataset.\n# Mean Absolute Deviation is the\
  \ average absolute difference between each\n# element and a centerpoint (mean in\
  \ this case):\n# MAD = average | x - x_mean |\n# >>> $(mean_absolute_deviation \"\
  1.0 2.0 3.0 4.0\")\n# \"1.0\"\n#\n# $1 is a space-separated list\nmean_absolute_deviation()\
  \ {\n"
tests: "}\n\ncandidate() {\n    mean_absolute_deviation \"$@\"\n}\n\nset -e\nrun_test()\
  \ {\n    [[ $(candidate \"1.0 2.0\") = \"0.5\" ]]\n    [[ $(candidate \"1.0 2.0\
  \ 3.0 4.0\") = \"1.0\" ]]\n    [[ $(candidate \"1.0 2.0 3.0 4.0 5.0\") = \"1.2\"\
  \ ]]\n}\n\nrun_test"
completions: ["    local mean=$(mean \"$1\")\n    local abs_diff_sum=0\n    for x\
    \ in $1; do\n        local abs_diff=$(echo \"$x - $mean\" | bc -l | awk '{printf\
    \ \"%f\", $0}')\n        abs_diff_sum=$(echo \"$abs_diff_sum + $abs_diff\" | bc\
    \ -l)\n    done\n    echo \"$abs_diff_sum / $#\" | bc -l | awk '{printf \"%f\"\
    , $0}'", "    local -a xs=($1)\n    local x_mean=$(mean \"${xs[@]}\")\n    local\
    \ -a abs_diffs=()\n    for x in \"${xs[@]}\"; do\n        abs_diffs+=($(echo \"\
    $x - $x_mean\" | bc -l | awk '{printf \"%f\", $0}'))\n    done\n    echo \"${abs_diffs[@]}\"\
    \ | mean", "  local x_mean=$(mean \"$1\")\n  local x_abs_deviations=$(echo \"\
    $1\" | awk -v x_mean=\"$x_mean\" '{print $1 - x_mean}' | awk '{print $1 < 0 ?\
    \ -$1 : $1}')\n  local x_abs_deviations_sum=$(echo \"$x_abs_deviations\" | awk\
    \ '{sum += $1} END {print sum}')\n  local x_abs_deviations_count=$(echo \"$x_abs_deviations\"\
    \ | wc -w)\n  echo \"$x_abs_deviations_sum / $x_abs_deviations_count\" | bc -l",
  "    local mean=$(mean \"$1\")\n    local abs_deviations=$(echo \"$1\" | awk -v\
    \ mean=$mean '{print abs($1 - mean)}')\n    mean \"$abs_deviations\"", "    local\
    \ -a arr=(\"$@\")\n    local mean=$(mean \"${arr[@]}\")\n    local sum=0\n   \
    \ for i in \"${arr[@]}\"; do\n        sum=$(echo \"$sum + abs($i - $mean)\" |\
    \ bc -l)\n    done\n    echo \"$sum / ${#arr[@]}\" | bc -l", "    local -a arr=(\"\
    $@\")\n    local -i n=${#arr[@]}\n    local -i i\n    local -i sum=0\n    local\
    \ -i mean\n    local -i mad\n    local -i abs_diff\n    # Calculate mean\n   \
    \ for ((i=0; i<n; i++)); do\n        sum=$((sum + arr[i]))\n    done\n    mean=$((sum\
    \ / n))\n    # Calculate MAD\n    sum=0\n    for ((i=0; i<n; i++)); do\n     \
    \   abs_diff=$((arr[i] - mean))\n        abs_diff=$((abs_diff > 0 ? abs_diff :\
    \ -abs_diff))\n        sum=$((sum + abs_diff))\n    done\n    mad=$((sum / n))\n\
    \    echo $mad", "    local mean=$(mean \"$1\")\n    local abs_deviations=$(echo\
    \ \"$1\" | awk -v mean=$mean '{print abs($1 - mean)}')\n    mean \"$abs_deviations\"",
  "    local -a x\n    local x_mean\n    local x_mad\n    local x_sum\n    local x_n\n\
    \    local x_i\n    local x_abs_diff\n    local x_abs_diff_sum\n    local x_abs_diff_mean\n\
    \    x=($1)\n    x_sum=0\n    x_n=${#x[@]}\n    for ((x_i=0; x_i<x_n; x_i++));\
    \ do\n        x_sum=$(echo \"$x_sum + ${x[$x_i]}\" | bc -l)\n    done\n    x_mean=$(echo\
    \ \"$x_sum / $x_n\" | bc -l)\n    x_abs_diff_sum=0\n    for ((x_i=0; x_i<x_n;\
    \ x_i++)); do\n        x_abs_diff=$(echo \"scale=2; ${x[$x_i]} - $x_mean\" | bc\
    \ -l)\n        x_abs_diff=$(echo \"scale=2; $x_abs_diff < 0 ? -$x_abs_diff : $x_abs_diff\"\
    \ | bc -l)\n        x_abs_diff_sum=$(echo \"$x_abs_diff_sum + $x_abs_diff\" |\
    \ bc -l)\n    done\n    x_abs_diff_mean=$(echo \"$x_abs_diff_sum / $x_n\" | bc\
    \ -l)\n    echo \"$x_abs_diff_mean\"", "    local mean=$(mean \"$1\")\n    local\
    \ sum=0\n    for x in $1; do\n        sum=$(echo \"$sum + abs($x - $mean)\" |\
    \ bc -l)\n    done\n    echo \"$sum / $#\" | bc -l", "    local -a x\n    local\
    \ -a x_mean\n    local -a x_dev\n    local -a x_dev_abs\n    local -a x_dev_abs_sum\n\
    \    local -a x_dev_abs_mean\n    local -a x_dev_abs_mean_rounded\n    local -a\
    \ x_dev_abs_mean_rounded_str\n    local -a x_dev_abs_mean_rounded_str_trimmed\n\
    \    local -a x_dev_abs_mean_rounded_str_trimmed_final\n    local -a x_dev_abs_mean_rounded_str_trimmed_final_final\n\
    \    local -a x_dev_abs_mean_rounded_str_trimmed_final_final_final\n    local\
    \ -a x_dev_abs_mean_rounded_str_trimmed_final_final_final_final\n    local -a\
    \ x_dev_abs_mean_rounded_str_trimmed_final_final_final_final_final\n    local\
    \ -a x_dev_abs_mean_rounded_str_trimmed_final_final_final_final_final_final\n\
    \    local -a x_dev_abs_mean_rounded_str_trimmed_final_final_final_final_final_final_final\n\
    \    local -a x_dev_abs_mean_rounded_str_trimmed_final_final_final_final_final_final_final_final\n\
    \    local -a x_dev_abs_mean_rounded_str_trimmed_final_final_final_final_final_final_final_final_final\n\
    \    local -a x_dev_abs_mean_rounded_str_trimmed_final_final_final_final_final_final_final_final_final_final\n\
    \    local -a x_dev_abs_mean_rounded_str_trimmed_final_final_final_final_final_final_final_final_final_final_final\n\
    \    local -a x_dev_abs_mean_rounded_str_trimmed_final_final_final_final_final_final_final_final_final_final_final_final\n\
    \    local -a x_dev_abs", "  local -a x\n  local -i n\n  local -i i\n  local -r\
    \ x_mean=$(mean \"$@\")\n  local -r x_mad=$(echo \"$@\" | awk '{for(i=1;i<=NF;i++)\
    \ print $i}' | \\\n    while read x_i; do\n      echo \"$x_i $x_mean\" | awk '{print\
    \ $1-$2}' | \\\n      awk '{if($1<0) print $1*-1; else print $1}'\n    done |\
    \ \\\n    awk '{sum+=$1} END {print sum/NR}')\n  echo \"$x_mad\"", "    local\
    \ mean=$(mean \"$1\")\n    local abs_deviations=$(echo \"$1\" | awk -v mean=$mean\
    \ '{print $1-mean}' | awk '{print $1<0?-$1:$1}')\n    local sum_abs_deviations=$(echo\
    \ \"$abs_deviations\" | awk '{sum+=$1} END {print sum}')\n    local n=$(echo \"\
    $1\" | wc -w)\n    echo \"$sum_abs_deviations / $n\" | bc -l", "    local x_mean=$(mean\
    \ \"$1\")\n    local x_deviation=$(echo \"$1\" | awk -v mean=$x_mean '{ print\
    \ $1 - mean }')\n    local x_abs_deviation=$(echo \"$x_deviation\" | awk '{ print\
    \ sqrt($1*$1) }')\n    local x_sum_abs_deviation=$(echo \"$x_abs_deviation\" |\
    \ awk '{ sum += $1 } END { print sum }')\n    local x_count=$(echo \"$1\" | wc\
    \ -w)\n    echo \"$x_sum_abs_deviation / $x_count\" | bc -l", "    local mean=$(mean\
    \ \"$1\")\n    local abs_deviations=$(echo \"$1\" | awk -v mean=$mean '{print\
    \ $1 - mean}' | awk '{print $1 < 0 ? -$1 : $1}')\n    echo \"$abs_deviations\"\
    \ | mean", "    local mean=$(mean \"$@\")\n    local abs_devs=$(echo \"$@\" |\
    \ awk -v mean=$mean '{print $1 - mean}' | awk '{print $1 < 0 ? -$1 : $1}')\n \
    \   echo \"$abs_devs\" | awk '{sum += $1} END {print sum / NR}'", "    local mean=$(mean\
    \ \"$1\")\n    local sum=0\n    for x in $1; do\n        sum=$(echo \"$sum + abs($x\
    \ - $mean)\" | bc -l)\n    done\n    echo \"$sum / $#\" | bc -l", "    local -a\
    \ x\n    local x_mean\n    local x_dev\n    local x_sum\n    local x_count\n \
    \   local x_mad\n    local x_mad_sum\n    local x_mad_mean\n    local x_mad_rounded\n\
    \    local x_mad_rounded_str\n    local x_mad_rounded_len\n    local x_mad_rounded_len_str\n\
    \    local x_mad_rounded_len_str_len\n    local x_mad_rounded_len_str_len_str\n\
    \    local x_mad_rounded_len_str_len_str_len\n    local x_mad_rounded_len_str_len_str_len_str\n\
    \    local x_mad_rounded_len_str_len_str_len_str_len\n    local x_mad_rounded_len_str_len_str_len_str_len_str\n\
    \    local x_mad_rounded_len_str_len_str_len_str_len_str_len\n    local x_mad_rounded_len_str_len_str_len_str_len_str_len_str\n\
    \    local x_mad_rounded_len_str_len_str_len_str_len_str_len_str_len\n    local\
    \ x_mad_rounded_len_str_len_str_len_str_len_str_len_str_len_str\n    local x_mad_rounded_len_str_len_str_len_str_len_str_len_str_len_str_len\n\
    \    local x_mad_rounded_len_str_len_str_len_str_len_str_len_str_len_str_len_str\n\
    \    local x_mad_rounded_len_str_len_str_len_str_len_str_len_str_len_str_len_str_len\n\
    \    local x_mad_rounded_len_str_len_str_len_str_len_str_len_str_len_str_len_str_len_str\n\
    \    local x_mad_rounded_len_str_len_str_len_str_len_str_len_str_len_str_len_str_len_str_len",
  "    local -a x=($1)\n    local -a x_mean=($(mean \"${x[@]}\"))\n    local -a x_abs_dev=($(absolute_deviation\
    \ \"${x[@]}\" \"${x_mean[@]}\"))\n    mean \"${x_abs_dev[@]}\"", "    local mean=$(mean\
    \ \"$1\")\n    local abs_deviations=$(echo \"$1\" | awk -v mean=$mean '{print\
    \ $1-mean}' | awk '{print $1<0?-$1:$1}')\n    echo \"$abs_deviations\" | mean",
  "    local mean=$(mean \"$1\")\n    local abs_deviations=$(echo \"$1\" | awk -v\
    \ mean=$mean '{print $1-mean}' | awk '{print $1<0?-$1:$1}')\n    local sum=$(echo\
    \ \"$abs_deviations\" | awk '{sum+=$1} END {print sum}')\n    local count=$(echo\
    \ \"$abs_deviations\" | wc -w)\n    echo \"$sum / $count\" | bc -l"]
stop_tokens:
- "\n}"
