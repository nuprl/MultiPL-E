name: HumanEval_124_valid_date
language: lua
prompt: "-- You have to write a function which validates a given date string and\n\
  -- returns True if the date is valid otherwise False.\n-- The date is valid if all\
  \ of the following rules are satisfied:\n-- 1. The date string is not empty.\n--\
  \ 2. The number of days is not less than 1 or higher than 31 days for months 1,3,5,7,8,10,12.\
  \ And the number of days is not less than 1 or higher than 30 days for months 4,6,9,11.\
  \ And, the number of days is not less than 1 or higher than 29 for the month 2.\n\
  -- 3. The months should not be less than 1 or higher than 12.\n-- 4. The date should\
  \ be in the format: mm-dd-yyyy\n-- >>> valid_date('03-11-2000')\n-- true\n-- >>>\
  \ valid_date('15-01-2012')\n-- false\n-- >>> valid_date('04-0-2040')\n-- false\n\
  -- >>> valid_date('06-04-2020')\n-- true\n-- >>> valid_date('06/04/2020')\n-- false\n\
  local function valid_date(date)\n"
tests: "lu = require('luaunit')\n\nfunction test_humaneval()\nlocal candidate = valid_date\n\
  \    lu.assertEquals(candidate('03-11-2000'), true)\n    lu.assertEquals(candidate('15-01-2012'),\
  \ false)\n    lu.assertEquals(candidate('04-0-2040'), false)\n    lu.assertEquals(candidate('06-04-2020'),\
  \ true)\n    lu.assertEquals(candidate('01-01-2007'), true)\n    lu.assertEquals(candidate('03-32-2011'),\
  \ false)\n    lu.assertEquals(candidate(''), false)\n    lu.assertEquals(candidate('04-31-3000'),\
  \ false)\n    lu.assertEquals(candidate('06-06-2005'), true)\n    lu.assertEquals(candidate('21-31-2000'),\
  \ false)\n    lu.assertEquals(candidate('04-12-2003'), true)\n    lu.assertEquals(candidate('04122003'),\
  \ false)\n    lu.assertEquals(candidate('20030412'), false)\n    lu.assertEquals(candidate('2003-04'),\
  \ false)\n    lu.assertEquals(candidate('2003-04-12'), false)\n    lu.assertEquals(candidate('04-2003'),\
  \ false)\nend\n\nos.exit(lu.LuaUnit.run())"
completions: ["  local month, day, year = date:match('(%d%d)-(%d%d)-(%d%d%d%d)')\n\
    \  if not month or not day or not year then return false end\n  local month =\
    \ tonumber(month)\n  local day = tonumber(day)\n  local year = tonumber(year)\n\
    \  if month < 1 or month > 12 then return false end\n  if month == 2 then\n  \
    \  if day < 1 or day > 29 then return false end\n  elseif month == 4 or month\
    \ == 6 or month == 9 or month == 11 then\n    if day < 1 or day > 30 then return\
    \ false end\n  else\n    if day < 1 or day > 31 then return false end\n  end\n\
    \  return true\nend", "  if date == nil or date == '' then\n    return false\n\
    \  end\n  local month, day, year = date:match('(%d+)-(%d+)-(%d+)')\n  if month\
    \ == nil or day == nil or year == nil then\n    return false\n  end\n  if tonumber(month)\
    \ < 1 or tonumber(month) > 12 then\n    return false\n  end\n  if tonumber(day)\
    \ < 1 or tonumber(day) > 31 then\n    return false\n  end\n  if tonumber(month)\
    \ == 2 and tonumber(day) > 29 then\n    return false\n  end\n  if tonumber(month)\
    \ == 4 or tonumber(month) == 6 or tonumber(month) == 9 or tonumber(month) == 11\
    \ then\n    if tonumber(day) > 30 then\n      return false\n    end\n  end\n \
    \ return true\nend", "  if date == nil or date == '' then\n    return false\n\
    \  end\n  local date_table = string.split(date, '-')\n  if #date_table ~= 3 then\n\
    \    return false\n  end\n  local month = tonumber(date_table[1])\n  local day\
    \ = tonumber(date_table[2])\n  local year = tonumber(date_table[3])\n  if month\
    \ == nil or day == nil or year == nil then\n    return false\n  end\n  if month\
    \ < 1 or month > 12 then\n    return false\n  end\n  if month == 2 then\n    if\
    \ day < 1 or day > 29 then\n      return false\n    end\n  elseif month == 4 or\
    \ month == 6 or month == 9 or month == 11 then\n    if day < 1 or day > 30 then\n\
    \      return false\n    end\n  else\n    if day < 1 or day > 31 then\n      return\
    \ false\n    end\n  end\n  return true\nend", "    local month, day, year = date:match(\"\
    (%d%d)-(%d%d)-(%d%d%d%d)\")\n    if month == nil or day == nil or year == nil\
    \ then\n        return false\n    end\n    month = tonumber(month)\n    day =\
    \ tonumber(day)\n    year = tonumber(year)\n    if month < 1 or month > 12 then\n\
    \        return false\n    end\n    if month == 2 then\n        if year % 4 ==\
    \ 0 and year % 100 ~= 0 or year % 400 == 0 then\n            if day < 1 or day\
    \ > 29 then\n                return false\n            end\n        else\n   \
    \         if day < 1 or day > 28 then\n                return false\n        \
    \    end\n        end\n    elseif month == 4 or month == 6 or month == 9 or month\
    \ == 11 then\n        if day < 1 or day > 30 then\n            return false\n\
    \        end\n    else\n        if day < 1 or day > 31 then\n            return\
    \ false\n        end\n    end\n    return true\nend", "    local month, day, year\
    \ = date:match(\"(%d%d)-(%d%d)-(%d%d%d%d)\")\n    if not month or not day or not\
    \ year then\n        return false\n    end\n    month = tonumber(month)\n    day\
    \ = tonumber(day)\n    year = tonumber(year)\n    if month < 1 or month > 12 then\n\
    \        return false\n    end\n    if month == 2 then\n        if year % 4 ==\
    \ 0 and (year % 100 ~= 0 or year % 400 == 0) then\n            if day < 1 or day\
    \ > 29 then\n                return false\n            end\n        else\n   \
    \         if day < 1 or day > 28 then\n                return false\n        \
    \    end\n        end\n    elseif month == 4 or month == 6 or month == 9 or month\
    \ == 11 then\n        if day < 1 or day > 30 then\n            return false\n\
    \        end\n    else\n        if day < 1 or day > 31 then\n            return\
    \ false\n        end\n    end\n    return true\nend", "    local m, d, y = date:match('(%d%d)-(%d%d)-(%d%d%d%d)')\n\
    \    if not m then return false end\n    m, d, y = tonumber(m), tonumber(d), tonumber(y)\n\
    \    if m < 1 or m > 12 then return false end\n    if m == 2 and d > 29 then return\
    \ false end\n    if m == 2 and d == 29 and not is_leap_year(y) then return false\
    \ end\n    if m == 2 and d > 28 then return false end\n    if m == 2 and d ==\
    \ 28 and is_leap_year(y) then return false end\n    if m == 4 or m == 6 or m ==\
    \ 9 or m == 11 then\n        if d > 30 then return false end\n    end\n    if\
    \ m == 1 or m == 3 or m == 5 or m == 7 or m == 8 or m == 10 or m == 12 then\n\
    \        if d > 31 then return false end\n    end\n    return true\nend", "  \
    \  local month, day, year = date:match(\"(%d+)-(%d+)-(%d+)\")\n    if not month\
    \ or not day or not year then\n        return false\n    end\n    month = tonumber(month)\n\
    \    day = tonumber(day)\n    year = tonumber(year)\n    if month < 1 or month\
    \ > 12 then\n        return false\n    end\n    if month == 2 then\n        if\
    \ day < 1 or day > 29 then\n            return false\n        end\n    elseif\
    \ month == 4 or month == 6 or month == 9 or month == 11 then\n        if day <\
    \ 1 or day > 30 then\n            return false\n        end\n    else\n      \
    \  if day < 1 or day > 31 then\n            return false\n        end\n    end\n\
    \    return true\nend", "    local m, d, y = date:match('(%d%d)-(%d%d)-(%d%d%d%d)')\n\
    \    if not m then return false end\n    m, d, y = tonumber(m), tonumber(d), tonumber(y)\n\
    \    if m < 1 or m > 12 then return false end\n    if m == 2 and d > 29 then return\
    \ false end\n    if m == 2 and d == 29 and not is_leap_year(y) then return false\
    \ end\n    if m == 2 and d > 28 then return false end\n    if m == 2 and d ==\
    \ 28 and is_leap_year(y) then return false end\n    if m == 4 or m == 6 or m ==\
    \ 9 or m == 11 then\n        if d > 30 then return false end\n    end\n    if\
    \ m == 1 or m == 3 or m == 5 or m == 7 or m == 8 or m == 10 or m == 12 then\n\
    \        if d > 31 then return false end\n    end\n    return true\nend", "  local\
    \ months = {\n    [1] = 31,\n    [2] = 29,\n    [3] = 31,\n    [4] = 30,\n   \
    \ [5] = 31,\n    [6] = 30,\n    [7] = 31,\n    [8] = 31,\n    [9] = 30,\n    [10]\
    \ = 31,\n    [11] = 30,\n    [12] = 31\n  }\n  local month, day, year = date:match('(%d+)-(%d+)-(%d+)')\n\
    \  if not month or not day or not year then\n    return false\n  end\n  month\
    \ = tonumber(month)\n  day = tonumber(day)\n  year = tonumber(year)\n  if month\
    \ < 1 or month > 12 then\n    return false\n  end\n  if day < 1 or day > months[month]\
    \ then\n    return false\n  end\n  return true\nend", "  local month, day, year\
    \ = date:match('(%d%d)-(%d%d)-(%d%d%d%d)')\n  if month == nil or day == nil or\
    \ year == nil then\n    return false\n  end\n  month = tonumber(month)\n  day\
    \ = tonumber(day)\n  year = tonumber(year)\n  if month < 1 or month > 12 then\n\
    \    return false\n  end\n  if month == 2 then\n    if day < 1 or day > 29 then\n\
    \      return false\n    end\n  elseif month == 4 or month == 6 or month == 9\
    \ or month == 11 then\n    if day < 1 or day > 30 then\n      return false\n \
    \   end\n  else\n    if day < 1 or day > 31 then\n      return false\n    end\n\
    \  end\n  return true\nend", "  local month, day, year = date:match('(%d%d)-(%d%d)-(%d%d%d%d)')\n\
    \  if not month or not day or not year then return false end\n  month = tonumber(month)\n\
    \  day = tonumber(day)\n  year = tonumber(year)\n  if month < 1 or month > 12\
    \ then return false end\n  if month == 2 then\n    if day < 1 or day > 29 then\
    \ return false end\n  elseif month == 4 or month == 6 or month == 9 or month ==\
    \ 11 then\n    if day < 1 or day > 30 then return false end\n  else\n    if day\
    \ < 1 or day > 31 then return false end\n  end\n  return true\nend", "  local\
    \ date_pattern = '^(%d%d)-(%d%d)-(%d%d%d%d)$'\n  local month, day, year = date:match(date_pattern)\n\
    \  if not month or not day or not year then\n    return false\n  end\n  month\
    \ = tonumber(month)\n  day = tonumber(day)\n  year = tonumber(year)\n  if month\
    \ < 1 or month > 12 then\n    return false\n  end\n  if day < 1 or day > 31 then\n\
    \    return false\n  end\n  if month == 2 then\n    if day > 29 then\n      return\
    \ false\n    end\n  elseif month == 4 or month == 6 or month == 9 or month ==\
    \ 11 then\n    if day > 30 then\n      return false\n    end\n  end\n  return\
    \ true\nend", "  local month, day, year = date:match('(%d%d)-(%d%d)-(%d%d%d%d)')\n\
    \  if month == nil or day == nil or year == nil then\n    return false\n  end\n\
    \  month = tonumber(month)\n  day = tonumber(day)\n  year = tonumber(year)\n \
    \ if month < 1 or month > 12 then\n    return false\n  end\n  if month == 2 then\n\
    \    if day < 1 or day > 29 then\n      return false\n    end\n  elseif month\
    \ == 4 or month == 6 or month == 9 or month == 11 then\n    if day < 1 or day\
    \ > 30 then\n      return false\n    end\n  else\n    if day < 1 or day > 31 then\n\
    \      return false\n    end\n  end\n  return true\nend", "  local month, day,\
    \ year = date:match('(%d+)-(%d+)-(%d+)')\n  if not month or not day or not year\
    \ then return false end\n  month, day, year = tonumber(month), tonumber(day),\
    \ tonumber(year)\n  if month < 1 or month > 12 then return false end\n  if month\
    \ == 2 then\n    if year % 4 == 0 and year % 100 ~= 0 or year % 400 == 0 then\n\
    \      if day < 1 or day > 29 then return false end\n    else\n      if day <\
    \ 1 or day > 28 then return false end\n    end\n  elseif month == 4 or month ==\
    \ 6 or month == 9 or month == 11 then\n    if day < 1 or day > 30 then return\
    \ false end\n  else\n    if day < 1 or day > 31 then return false end\n  end\n\
    \  return true\nend", "  local month, day, year = date:match(\"(%d+)-(%d+)-(%d+)\"\
    )\n  local month = tonumber(month)\n  local day = tonumber(day)\n  local year\
    \ = tonumber(year)\n  if month == 2 then\n    if day < 1 or day > 29 then\n  \
    \    return false\n    end\n  elseif month == 1 or month == 3 or month == 5 or\
    \ month == 7 or month == 8 or month == 10 or month == 12 then\n    if day < 1\
    \ or day > 31 then\n      return false\n    end\n  elseif month == 4 or month\
    \ == 6 or month == 9 or month == 11 then\n    if day < 1 or day > 30 then\n  \
    \    return false\n    end\n  else\n    return false\n  end\n  if month < 1 or\
    \ month > 12 then\n    return false\n  end\n  if year < 1 then\n    return false\n\
    \  end\n  return true\nend", "  local months = {31, 28, 31, 30, 31, 30, 31, 31,\
    \ 30, 31, 30, 31}\n  local month, day, year = date:match('(%d+)-(%d+)-(%d+)')\n\
    \  if not month or not day or not year then return false end\n  month, day, year\
    \ = tonumber(month), tonumber(day), tonumber(year)\n  if month < 1 or month >\
    \ 12 then return false end\n  if day < 1 or day > months[month] then return false\
    \ end\n  if month == 2 and day == 29 and not is_leap_year(year) then return false\
    \ end\n  return true\nend", "    -- your code here\n    local month, day, year\
    \ = date:match('(%d%d)-(%d%d)-(%d%d%d%d)')\n    if not month or not day or not\
    \ year then\n        return false\n    end\n    month = tonumber(month)\n    day\
    \ = tonumber(day)\n    year = tonumber(year)\n    if month < 1 or month > 12 then\n\
    \        return false\n    end\n    if month == 2 then\n        if year % 4 ==\
    \ 0 and year % 100 ~= 0 or year % 400 == 0 then\n            if day < 1 or day\
    \ > 29 then\n                return false\n            end\n        else\n   \
    \         if day < 1 or day > 28 then\n                return false\n        \
    \    end\n        end\n    elseif month == 1 or month == 3 or month == 5 or month\
    \ == 7 or month == 8 or month == 10 or month == 12 then\n        if day < 1 or\
    \ day > 31 then\n            return false\n        end\n    else\n        if day\
    \ < 1 or day > 30 then\n            return false\n        end\n    end\n    return\
    \ true\nend", "  if date == nil or date == '' then\n    return false\n  end\n\
    \  local day, month, year = date:match('(%d%d)-(%d%d)-(%d%d%d%d)')\n  if day ==\
    \ nil or month == nil or year == nil then\n    return false\n  end\n  if tonumber(day)\
    \ < 1 or tonumber(day) > 31 then\n    return false\n  end\n  if tonumber(month)\
    \ < 1 or tonumber(month) > 12 then\n    return false\n  end\n  if tonumber(month)\
    \ == 2 and tonumber(day) > 29 then\n    return false\n  end\n  if tonumber(month)\
    \ == 4 and tonumber(day) > 30 then\n    return false\n  end\n  if tonumber(month)\
    \ == 6 and tonumber(day) > 30 then\n    return false\n  end\n  if tonumber(month)\
    \ == 9 and tonumber(day) > 30 then\n    return false\n  end\n  if tonumber(month)\
    \ == 11 and tonumber(day) > 30 then\n    return false\n  end\n  return true\n\
    end", "  local month, day, year = date:match(\"(%d+)-(%d+)-(%d+)\")\n  if month\
    \ == nil or day == nil or year == nil then\n    return false\n  end\n  month =\
    \ tonumber(month)\n  day = tonumber(day)\n  year = tonumber(year)\n  if month\
    \ < 1 or month > 12 then\n    return false\n  end\n  if month == 2 then\n    if\
    \ day < 1 or day > 29 then\n      return false\n    end\n  elseif month == 4 or\
    \ month == 6 or month == 9 or month == 11 then\n    if day < 1 or day > 30 then\n\
    \      return false\n    end\n  else\n    if day < 1 or day > 31 then\n      return\
    \ false\n    end\n  end\n  return true\nend", "  local month, day, year = date:match(\"\
    (%d%d)-(%d%d)-(%d%d%d%d)\")\n  if not month or not day or not year then return\
    \ false end\n  month = tonumber(month)\n  day = tonumber(day)\n  year = tonumber(year)\n\
    \  if month < 1 or month > 12 then return false end\n  if month == 2 then\n  \
    \  if day < 1 or day > 29 then return false end\n  elseif month == 4 or month\
    \ == 6 or month == 9 or month == 11 then\n    if day < 1 or day > 30 then return\
    \ false end\n  else\n    if day < 1 or day > 31 then return false end\n  end\n\
    \  return true\nend"]
stop_tokens:
- "\nlocal"
- "\nfunction"
- "\n--"
- "\n\n"
