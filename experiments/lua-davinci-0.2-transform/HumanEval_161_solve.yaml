name: HumanEval_161_solve
language: lua
prompt: "-- You are given a string s.\n-- if s[i] is a letter, reverse its case from\
  \ lower to upper or vise versa, \n-- otherwise keep it as it is.\n-- If the string\
  \ contains no letters, reverse the string.\n-- The function should return the resulted\
  \ string.\n-- Examples\n-- >>> solve('1234')\n-- '4321'\n-- >>> solve('ab')\n--\
  \ 'AB'\n-- >>> solve('#a@C')\n-- '#A@c'\nlocal function solve(s)\n"
tests: "lu = require('luaunit')\n\nfunction test_humaneval()\nlocal candidate = solve\n\
  \    lu.assertEquals(candidate('AsDf'), 'aSdF')\n    lu.assertEquals(candidate('1234'),\
  \ '4321')\n    lu.assertEquals(candidate('ab'), 'AB')\n    lu.assertEquals(candidate('#a@C'),\
  \ '#A@c')\n    lu.assertEquals(candidate('#AsdfW^45'), '#aSDFw^45')\n    lu.assertEquals(candidate('#6@2'),\
  \ '2@6#')\n    lu.assertEquals(candidate('#$a^D'), '#$A^d')\n    lu.assertEquals(candidate('#ccc'),\
  \ '#CCC')\nend\n\nos.exit(lu.LuaUnit.run())"
completions: ["    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match('%a') then\n            t[#t + 1] = c:lower() == c and\
    \ c:upper() or c:lower()\n        else\n            t[#t + 1] = c\n        end\n\
    \    end\n    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local\
    \ t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%l') then\n                t[#t + 1] = c:upper()\n\
    \            else\n                t[#t + 1] = c:lower()\n            end\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return table.concat(t)\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        if s[i]:match('%a') then\n            t[i] = s[i]:lower()\
    \ == s[i] and s[i]:upper() or s[i]:lower()\n        else\n            t[i] = s[i]\n\
    \        end\n    end\n    return #t > 0 and table.concat(t) or s:reverse()\n\
    end", "    local t = {}\n    for i = 1, #s do\n        if s[i]:match('%a') then\n\
    \            t[i] = s[i]:lower() == s[i] and s[i]:upper() or s[i]:lower()\n  \
    \      else\n            t[i] = s[i]\n        end\n    end\n    return #t > 0\
    \ and table.concat(t) or s:reverse()\nend", "    local t = {}\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n      \
    \      if c:match('%l') then\n                c = c:upper()\n            else\n\
    \                c = c:lower()\n            end\n        end\n        t[#t + 1]\
    \ = c\n    end\n    return table.concat(t)\nend", "    local t = {}\n    for i\
    \ = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n \
    \           t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n\
    \            t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match('%a') then\n            t[#t + 1] = c:lower()\
    \ == c and c:upper() or c:lower()\n        else\n            t[#t + 1] = c\n \
    \       end\n    end\n    return #t > 0 and table.concat(t) or s:reverse()\nend",
  "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match('%a') then\n            if c:match('%l') then\n                c\
    \ = c:upper()\n            else\n                c = c:lower()\n            end\n\
    \        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\nend",
  "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n     \
    \   if c:match('%a') then\n            if c:match('%l') then\n               \
    \ c = c:upper()\n            else\n                c = c:lower()\n           \
    \ end\n        end\n        res[#res + 1] = c\n    end\n    return table.concat(res)\n\
    end", "    local res = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      res = res .. c:upper()\n            else\n                res = res ..\
    \ c:lower()\n            end\n        else\n            res = res .. c\n     \
    \   end\n    end\n    return #res > 0 and res or s:reverse()\nend", "  local res\
    \ = ''\n  for i = 1, #s do\n    local c = s:sub(i, i)\n    if c:match('%a') then\n\
    \      res = res .. c:lower() == c and c:upper() or c:lower()\n    else\n    \
    \  res = res .. c\n    end\n  end\n  return res\nend", "    local res = ''\n \
    \   for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%u') then\n                res = res .. c:lower()\n\
    \            else\n                res = res .. c:upper()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return #res\
    \ == 0 and s:reverse() or res\nend", "    local letters = {}\n    local other\
    \ = {}\n    for i = 1, #s do\n        if s[i]:match('%a') then\n            table.insert(letters,\
    \ s[i])\n        else\n            table.insert(other, s[i])\n        end\n  \
    \  end\n    if #letters == 0 then\n        return s:reverse()\n    end\n    local\
    \ result = {}\n    for i = 1, #letters do\n        if letters[i]:match('%l') then\n\
    \            table.insert(result, letters[i]:upper())\n        else\n        \
    \    table.insert(result, letters[i]:lower())\n        end\n    end\n    for i\
    \ = 1, #other do\n        table.insert(result, other[i])\n    end\n    return\
    \ table.concat(result)\nend", "    local t = {}\n    for i = 1, #s do\n      \
    \  local c = s:sub(i, i)\n        if c:match('%a') then\n            if c:match('%l')\
    \ then\n                c = c:upper()\n            else\n                c = c:lower()\n\
    \            end\n        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      res[#res + 1] = c:upper()\n            else\n                res[#res +\
    \ 1] = c:lower()\n            end\n        else\n            res[#res + 1] = c\n\
    \        end\n    end\n    if #res == 0 then\n        return s:reverse()\n   \
    \ end\n    return table.concat(res)\nend", "    local t = {}\n    for i = 1, #s\
    \ do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n         \
    \   if c:match('%l') then\n                c = c:upper()\n            else\n \
    \               c = c:lower()\n            end\n        end\n        t[#t + 1]\
    \ = c\n    end\n    return table.concat(t)\nend", "    local t = {}\n    for i\
    \ = 1, #s do\n        if s[i]:match('%a') then\n            t[i] = s[i]:lower()\
    \ == s[i] and s[i]:upper() or s[i]:lower()\n        else\n            t[i] = s[i]\n\
    \        end\n    end\n    return #t > 0 and table.concat(t) or s:reverse()\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      c = c:upper()\n            else\n                c = c:lower()\n      \
    \      end\n        end\n        res[#res + 1] = c\n    end\n    return table.concat(res)\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      c = c:upper()\n            else\n                c = c:lower()\n      \
    \      end\n        end\n        res[#res + 1] = c\n    end\n    return table.concat(res)\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local letters\
    \ = {}\n    for i = 1, #s do\n        if s[i]:match('%a') then\n            letters[#letters\
    \ + 1] = s[i]\n        end\n    end\n    if #letters == 0 then\n        return\
    \ s:reverse()\n    end\n    local result = {}\n    for i = 1, #s do\n        if\
    \ s[i]:match('%a') then\n            result[#result + 1] = letters[#letters]\n\
    \            letters[#letters] = nil\n        else\n            result[#result\
    \ + 1] = s[i]\n        end\n    end\n    return table.concat(result)\nend", " \
    \   local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n    \
    \    if c:match('%a') then\n            res[#res + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            res[#res + 1] = c\n        end\n   \
    \ end\n    return #res == 0 and s:reverse() or table.concat(res)\nend", "    local\
    \ t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            t[#t + 1] = c:upper() == c and c:lower() or c:upper()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n    for i = 1,\
    \ #s do\n        if s[i]:match(\"%a\") then\n            t[i] = s[i]:lower() ==\
    \ s[i] and s[i]:upper() or s[i]:lower()\n        else\n            t[i] = s[i]\n\
    \        end\n    end\n    return #s == 0 and s or table.concat(t)\nend", "  \
    \  local res = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n     \
    \   if c:match('%a') then\n            res = res .. (c:lower() == c and c:upper()\
    \ or c:lower())\n        else\n            res = res .. c\n        end\n    end\n\
    \    return res\nend", "    local res = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match('%a') then\n            res[#res + 1] =\
    \ c:lower() == c and c:upper() or c:lower()\n        else\n            res[#res\
    \ + 1] = c\n        end\n    end\n    return #res == 0 and s:reverse() or table.concat(res)\n\
    end", "  local t = {}\n  for i = 1, #s do\n    local c = s:sub(i, i)\n    if c:match('%a')\
    \ then\n      if c:match('%u') then\n        c = c:lower()\n      else\n     \
    \   c = c:upper()\n      end\n    end\n    t[#t + 1] = c\n  end\n  return table.concat(t)\n\
    end", "    local res = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      res = res .. c:upper()\n            else\n                res = res ..\
    \ c:lower()\n            end\n        else\n            res = res .. c\n     \
    \   end\n    end\n    return res\nend", "    local t = {}\n    for i = 1, #s do\n\
    \        local c = s:sub(i, i)\n        if c:match('%a') then\n            t[#t\
    \ + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n           \
    \ t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t) or\
    \ s:reverse()\nend", "    if s:match(\"%a\") then\n        return s:gsub(\"%a\"\
    , function(c)\n            return c:lower() == c and c:upper() or c:lower()\n\
    \        end)\n    else\n        return s:reverse()\n    end\nend", "    local\
    \ t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%l') then\n                t[#t + 1] = c:upper()\n\
    \            else\n                t[#t + 1] = c:lower()\n            end\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return table.concat(t)\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      c = c:upper()\n            else\n                c = c:lower()\n      \
    \      end\n        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        if s[i]:match('%a') then\n            t[i] = s[i]:upper()\
    \ == s[i] and s[i]:lower() or s[i]:upper()\n        else\n            t[i] = s[i]\n\
    \        end\n    end\n    return #t == 0 and s:reverse() or table.concat(t)\n\
    end", "    local res = ''\n    for i = 1, #s do\n        if s[i]:match('%a') then\n\
    \            res = res .. s[i]:lower() == s[i] and s[i]:upper() or s[i]:lower()\n\
    \        else\n            res = res .. s[i]\n        end\n    end\n    return\
    \ res\nend", "    local res = ''\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match('%a') then\n            if c:match('%l') then\n     \
    \           res = res .. c:upper()\n            else\n                res = res\
    \ .. c:lower()\n            end\n        else\n            res = res .. c\n  \
    \      end\n    end\n    return res\nend", "    local res = {}\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n      \
    \      res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n\
    \            res[#res + 1] = c\n        end\n    end\n    return #res > 0 and\
    \ table.concat(res) or s:reverse()\nend", "    local t = {}\n    for i = 1, #s\
    \ do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n         \
    \   t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n    \
    \        t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match('%a') then\n            if c:match('%l')\
    \ then\n                c = c:upper()\n            else\n                c = c:lower()\n\
    \            end\n        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            t[#t + 1] = c:upper() == c and c:lower()\
    \ or c:upper()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n      \
    \      if c:match('%u') then\n                t[#t + 1] = c:lower()\n        \
    \    else\n                t[#t + 1] = c:upper()\n            end\n        else\n\
    \            t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    if s:match('%a') then\n        return s:gsub('%a',\
    \ function(c)\n            return c:lower() == c and c:upper() or c:lower()\n\
    \        end)\n    else\n        return s:reverse()\n    end\nend", "    local\
    \ t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            t[#t + 1] = c:upper() == c and c:lower() or c:upper()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "    local res = ''\n    for i =\
    \ 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n   \
    \         if c:match('%l') then\n                res = res .. c:upper()\n    \
    \        else\n                res = res .. c:lower()\n            end\n     \
    \   else\n            res = res .. c\n        end\n    end\n    return res\nend",
  "    local t = {}\n    for i = 1, #s do\n        if s[i]:match('%a') then\n    \
    \        t[i] = s[i]:lower() == s[i] and s[i]:upper() or s[i]:lower()\n      \
    \  else\n            t[i] = s[i]\n        end\n    end\n    return #t > 0 and\
    \ table.concat(t) or s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n\
    \        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            t[#t\
    \ + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n           \
    \ t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t) or\
    \ s:reverse()\nend", "    local res = ''\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match('%a') then\n            res = res .. c:lower()\
    \ == c and c:upper() or c:lower()\n        else\n            res = res .. c\n\
    \        end\n    end\n    return #res == 0 and s:reverse() or res\nend", "  \
    \  local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match('%a') then\n            t[#t + 1] = c:upper() == c and c:lower()\
    \ or c:upper()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%l') then\n                c = c:upper()\n   \
    \         else\n                c = c:lower()\n            end\n        end\n\
    \        t[#t + 1] = c\n    end\n    return table.concat(t)\nend", "    local\
    \ res = {}\n    for i = #s, 1, -1 do\n        local c = s:sub(i, i)\n        if\
    \ c:match('%a') then\n            res[#res + 1] = c:upper() == c and c:lower()\
    \ or c:upper()\n        else\n            res[#res + 1] = c\n        end\n   \
    \ end\n    return table.concat(res)\nend", "    local t = {}\n    for i = 1, #s\
    \ do\n        if s[i]:match('%a') then\n            t[i] = s[i]:lower() == s[i]\
    \ and s[i]:upper() or s[i]:lower()\n        else\n            t[i] = s[i]\n  \
    \      end\n    end\n    return #t > 0 and table.concat(t) or s:reverse()\nend",
  "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match('%a') then\n            if c:match('%u') then\n                t[#t\
    \ + 1] = c:lower()\n            else\n                t[#t + 1] = c:upper()\n\
    \            end\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local res =\
    \ ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%l') then\n                res = res .. c:upper()\n\
    \            else\n                res = res .. c:lower()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            if c:match(\"%l\") then\n                t[#t + 1] = c:upper()\n\
    \            else\n                t[#t + 1] = c:lower()\n            end\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "  local res = {}\n  for i = 1,\
    \ #s do\n    local c = s:sub(i, i)\n    if c:match('%a') then\n      if c:match('%u')\
    \ then\n        res[#res + 1] = c:lower()\n      else\n        res[#res + 1] =\
    \ c:upper()\n      end\n    else\n      res[#res + 1] = c\n    end\n  end\n  return\
    \ #res > 0 and table.concat(res) or s:reverse()\nend", "    local res = {}\n \
    \   for i = 1, #s do\n        if s[i]:match('%a') then\n            res[i] = s[i]:upper()\
    \ == s[i] and s[i]:lower() or s[i]:upper()\n        else\n            res[i] =\
    \ s[i]\n        end\n    end\n    return #res > 0 and table.concat(res) or s:reverse()\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            t[#t + 1] = c:upper() == c and c:lower() or c:upper()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n      \
    \      t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n \
    \           t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n        if s[i]:match(\"\
    %a\") then\n            t[i] = s[i]:lower() == s[i] and s[i]:upper() or s[i]:lower()\n\
    \        else\n            t[i] = s[i]\n        end\n    end\n    return #s:gsub(\"\
    %a\", \"\") == #s and s:reverse() or table.concat(t)\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        if s[i]:match(\"%a\") then\n            t[i] =\
    \ s[i]:lower() == s[i] and s[i]:upper() or s[i]:lower()\n        else\n      \
    \      t[i] = s[i]\n        end\n    end\n    return #s:gsub(\"%a\", \"\") ==\
    \ #s and s:reverse() or table.concat(t)\nend", "    local res = ''\n    for i\
    \ = #s, 1, -1 do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n\
    \            res = res .. c:lower() == c and c:upper() or c:lower()\n        else\n\
    \            res = res .. c\n        end\n    end\n    return res\nend", "   \
    \ local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if\
    \ c:match('%a') then\n            if c:match('%l') then\n                c = c:upper()\n\
    \            else\n                c = c:lower()\n            end\n        end\n\
    \        t[#t + 1] = c\n    end\n    return table.concat(t)\nend", "    local\
    \ t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%l') then\n                c = c:upper()\n   \
    \         else\n                c = c:lower()\n            end\n        end\n\
    \        t[#t + 1] = c\n    end\n    return table.concat(t)\nend", "    local\
    \ t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n    for c in\
    \ s:gmatch('.') do\n        if c:match('%a') then\n            t[#t+1] = c:lower()\
    \ == c and c:upper() or c:lower()\n        else\n            t[#t+1] = c\n   \
    \     end\n    end\n    return #t == 0 and s:reverse() or table.concat(t)\nend",
  "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match('%a') then\n            t[#t + 1] = c:upper() == c and c:lower()\
    \ or c:upper()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local res =\
    \ ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%l') then\n                res = res .. c:upper()\n\
    \            else\n                res = res .. c:lower()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local res = ''\n    for i = #s, 1, -1 do\n        local c = s:sub(i,\
    \ i)\n        if c:match('%a') then\n            res = res .. c:lower() == c and\
    \ c:upper() or c:lower()\n        else\n            res = res .. c\n        end\n\
    \    end\n    return res\nend", "    local t = {}\n    for i = 1, #s do\n    \
    \    local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            if c:match(\"\
    %l\") then\n                c = c:upper()\n            else\n                c\
    \ = c:lower()\n            end\n        end\n        t[#t + 1] = c\n    end\n\
    \    return table.concat(t)\nend", "  local res = {}\n  for i = 1, #s do\n   \
    \ local c = s:sub(i, i)\n    if c:match('%a') then\n      res[#res + 1] = c:lower()\
    \ == c and c:upper() or c:lower()\n    else\n      res[#res + 1] = c\n    end\n\
    \  end\n  return #res > 0 and table.concat(res) or s:reverse()\nend", "    local\
    \ res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%u') then\n                res[#res + 1] = c:lower()\n\
    \            else\n                res[#res + 1] = c:upper()\n            end\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res > 0 and table.concat(res) or s:reverse()\nend", "    local t = {}\n   \
    \ for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n\
    \            if c:match('%l') then\n                c = c:upper()\n          \
    \  else\n                c = c:lower()\n            end\n        end\n       \
    \ t[#t + 1] = c\n    end\n    return table.concat(t)\nend", "    local res = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res == 0 and s:reverse() or table.concat(res)\nend", "  local t = {}\n  for\
    \ i = 1, #s do\n    local c = s:sub(i, i)\n    if c:match('%a') then\n      if\
    \ c:match('%l') then\n        c = c:upper()\n      else\n        c = c:lower()\n\
    \      end\n    end\n    t[#t + 1] = c\n  end\n  return table.concat(t)\nend",
  "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match('%a') then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local letters\
    \ = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            table.insert(letters, c)\n        end\n    end\n    if #letters\
    \ == 0 then\n        return s:reverse()\n    end\n    local res = {}\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n\
    \            local l = table.remove(letters)\n            if l:match('%l') then\n\
    \                table.insert(res, l:upper())\n            else\n            \
    \    table.insert(res, l:lower())\n            end\n        else\n           \
    \ table.insert(res, c)\n        end\n    end\n    return table.concat(res)\nend",
  "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match('%a') then\n            if c:match('%l') then\n                c\
    \ = c:upper()\n            else\n                c = c:lower()\n            end\n\
    \        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\nend",
  "  local t = {}\n  for i = 1, #s do\n    local c = s:sub(i, i)\n    if c:match('%a')\
    \ then\n      t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n    else\n\
    \      t[#t + 1] = c\n    end\n  end\n  return #t > 0 and table.concat(t) or s:reverse()\n\
    end", "    local t = {}\n    for i = 1, #s do\n        if s[i]:match('%a') then\n\
    \            t[i] = s[i]:lower() == s[i] and s[i]:upper() or s[i]:lower()\n  \
    \      else\n            t[i] = s[i]\n        end\n    end\n    return #t > 0\
    \ and table.concat(t) or s:reverse()\nend", "    local res = ''\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n      \
    \      res = res .. c:lower() == c and c:upper() or c:lower()\n        else\n\
    \            res = res .. c\n        end\n    end\n    return #res == 0 and s:reverse()\
    \ or res\nend", "    local res = ''\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match('%a') then\n            if c:match('%l') then\n     \
    \           res = res .. c:upper()\n            else\n                res = res\
    \ .. c:lower()\n            end\n        else\n            res = res .. c\n  \
    \      end\n    end\n    return res\nend", "    local t = {}\n    for i = 1, #s\
    \ do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n         \
    \   if c:match('%l') then\n                c = c:upper()\n            else\n \
    \               c = c:lower()\n            end\n        end\n        t[#t + 1]\
    \ = c\n    end\n    return table.concat(t)\nend", "    local t = {}\n    for i\
    \ = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n \
    \           if c:match('%l') then\n                c = c:upper()\n           \
    \ else\n                c = c:lower()\n            end\n        end\n        t[#t\
    \ + 1] = c\n    end\n    return table.concat(t)\nend", "    local res = ''\n \
    \   for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%l') then\n                res = res .. c:upper()\n\
    \            else\n                res = res .. c:lower()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      c = c:upper()\n            else\n                c = c:lower()\n      \
    \      end\n        end\n        res[#res + 1] = c\n    end\n    return table.concat(res)\n\
    end", "    local result = ''\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match('%a') then\n            if c:match('%l') then\n     \
    \           result = result .. c:upper()\n            else\n                result\
    \ = result .. c:lower()\n            end\n        else\n            result = result\
    \ .. c\n        end\n    end\n    return result\nend", "    local res = ''\n \
    \   for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%u') then\n                res = res .. c:lower()\n\
    \            else\n                res = res .. c:upper()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "    local result = ''\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n\
    \            result = result .. (c:lower() == c and c:upper() or c:lower())\n\
    \        else\n            result = result .. c\n        end\n    end\n    return\
    \ #result > 0 and result or s:reverse()\nend", "    local t = {}\n    for i =\
    \ 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n   \
    \         t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n\
    \            t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    local res = ''\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match('%a') then\n            if c:match('%l')\
    \ then\n                res = res .. c:upper()\n            else\n           \
    \     res = res .. c:lower()\n            end\n        else\n            res =\
    \ res .. c\n        end\n    end\n    return res\nend", "    local t = {}\n  \
    \  for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n\
    \            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n\
    \            t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    local res = ''\n    for i = #s, 1, -1 do\n      \
    \  local c = s:sub(i, i)\n        if c:match('%a') then\n            res = res\
    \ .. c:gsub('%a', function(c)\n                return c:lower() == c and c:upper()\
    \ or c:lower()\n            end)\n        else\n            res = res .. c\n \
    \       end\n    end\n    return res\nend", "    local res = {}\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n      \
    \      res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n\
    \            res[#res + 1] = c\n        end\n    end\n    return #res == 0 and\
    \ s:reverse() or table.concat(res)\nend", "  local res = ''\n  for i = 1, #s do\n\
    \    local c = s:sub(i, i)\n    if c:match('%a') then\n      res = res .. c:lower()\
    \ == c and c:upper() or c:lower()\n    else\n      res = res .. c\n    end\n \
    \ end\n  return res\nend", "    local t = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match('%a') then\n            if c:match('%l')\
    \ then\n                t[#t + 1] = c:upper()\n            else\n            \
    \    t[#t + 1] = c:lower()\n            end\n        else\n            t[#t +\
    \ 1] = c\n        end\n    end\n    return table.concat(t)\nend", "    local res\
    \ = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%l') then\n                res = res .. c:upper()\n\
    \            else\n                res = res .. c:lower()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      c = c:upper()\n            else\n                c = c:lower()\n      \
    \      end\n        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\n\
    end", "  local res = {}\n  for i = 1, #s do\n    if s[i]:match(\"%a\") then\n\
    \      res[i] = s[i]:lower() == s[i] and s[i]:upper() or s[i]:lower()\n    else\n\
    \      res[i] = s[i]\n    end\n  end\n  return #res > 0 and table.concat(res)\
    \ or s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match('%a') then\n            t[#t + 1] = c:lower()\
    \ == c and c:upper() or c:lower()\n        else\n            t[#t + 1] = c\n \
    \       end\n    end\n    return #t > 0 and table.concat(t) or s:reverse()\nend",
  "    local res = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n     \
    \   if c:match('%a') then\n            if c:match('%u') then\n               \
    \ res = res .. c:lower()\n            else\n                res = res .. c:upper()\n\
    \            end\n        else\n            res = res .. c\n        end\n    end\n\
    \    return res\nend", "  local res = ''\n  for i = 1, #s do\n    local c = s:sub(i,\
    \ i)\n    if c:match('%a') then\n      if c:match('%u') then\n        res = res\
    \ .. c:lower()\n      else\n        res = res .. c:upper()\n      end\n    else\n\
    \      res = res .. c\n    end\n  end\n  return #res == 0 and s:reverse() or res\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            c = c:lower() == c and c:upper() or\
    \ c:lower()\n        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      c = c:upper()\n            else\n                c = c:lower()\n      \
    \      end\n        end\n        res[#res + 1] = c\n    end\n    return table.concat(res)\n\
    end", "    local res = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      res = res .. c:upper()\n            else\n                res = res ..\
    \ c:lower()\n            end\n        else\n            res = res .. c\n     \
    \   end\n    end\n    return res\nend", "    local t = {}\n    for i = 1, #s do\n\
    \        local c = s:sub(i, i)\n        if c:match('%a') then\n            if\
    \ c:match('%l') then\n                t[#t + 1] = c:upper()\n            else\n\
    \                t[#t + 1] = c:lower()\n            end\n        else\n      \
    \      t[#t + 1] = c\n        end\n    end\n    return table.concat(t)\nend",
  "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match('%a') then\n            c = c:upper() == c and c:lower() or c:upper()\n\
    \        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\nend",
  "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match(\"%a\") then\n            if c:match(\"%l\") then\n             \
    \   c = c:upper()\n            else\n                c = c:lower()\n         \
    \   end\n        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\n\
    end", "    local s1 = s:gsub('%a', function(c)\n        if c:lower() == c then\n\
    \            return c:upper()\n        else\n            return c:lower()\n  \
    \      end\n    end)\n    if s1 == s then\n        return s:reverse()\n    else\n\
    \        return s1\n    end\nend", "  local res = {}\n  for i = 1, #s do\n   \
    \ local c = s:sub(i, i)\n    if c:match('%a') then\n      res[#res + 1] = c:lower()\
    \ == c and c:upper() or c:lower()\n    else\n      res[#res + 1] = c\n    end\n\
    \  end\n  return #res > 0 and table.concat(res) or s:reverse()\nend", "    local\
    \ res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res > 0 and table.concat(res) or s:reverse()\nend", "    local function is_letter(c)\n\
    \        return c:match(\"[a-zA-Z]\")\n    end\n    local function reverse_case(c)\n\
    \        if c:match(\"[a-z]\") then\n            return c:upper()\n        elseif\
    \ c:match(\"[A-Z]\") then\n            return c:lower()\n        else\n      \
    \      return c\n        end\n    end\n    local function reverse(s)\n       \
    \ local t = {}\n        for i = 1, #s do\n            t[i] = s:sub(#s - i + 1,\
    \ #s - i + 1)\n        end\n        return table.concat(t)\n    end\n    local\
    \ function reverse_case_string(s)\n        local t = {}\n        for i = 1, #s\
    \ do\n            t[i] = reverse_case(s:sub(i, i))\n        end\n        return\
    \ table.concat(t)\n    end\n    local function has_letter(s)\n        for i =\
    \ 1, #s do\n            if is_letter(s:sub(i, i)) then\n                return\
    \ true\n            end\n        end\n        return false\n    end\n    if has_letter(s)\
    \ then\n        return reverse_case_string(s)\n    else\n        return reverse(s)\n\
    \    end\nend", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match('%a') then\n            if c:match('%u') then\n     \
    \           c = c:lower()\n            else\n                c = c:upper()\n \
    \           end\n        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\n\
    end", "    local t = {}\n    for i = 1, #s do\n        if s[i]:match(\"%a\") then\n\
    \            t[i] = s[i]:upper() == s[i] and s[i]:lower() or s[i]:upper()\n  \
    \      else\n            t[i] = s[i]\n        end\n    end\n    return #t > 0\
    \ and table.concat(t) or s:reverse()\nend", "    local t = {}\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n      \
    \      t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n \
    \           t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match('%a') then\n            if c:match('%l')\
    \ then\n                c = c:upper()\n            else\n                c = c:lower()\n\
    \            end\n        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      c = c:upper()\n            else\n                c = c:lower()\n      \
    \      end\n        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%l') then\n                t[#t + 1] = c:upper()\n\
    \            else\n                t[#t + 1] = c:lower()\n            end\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t ==\
    \ 0 and s:reverse() or table.concat(t)\nend", "    local t = {}\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n      \
    \      if c:match('%l') then\n                c = c:upper()\n            else\n\
    \                c = c:lower()\n            end\n        end\n        t[#t + 1]\
    \ = c\n    end\n    return table.concat(t)\nend", "    local t = {}\n    for i\
    \ = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n \
    \           if c:match('%l') then\n                c = c:upper()\n           \
    \ else\n                c = c:lower()\n            end\n        end\n        t[#t\
    \ + 1] = c\n    end\n    return table.concat(t)\nend", "    local t = {}\n   \
    \ for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n\
    \            if c:match('%l') then\n                c = c:upper()\n          \
    \  else\n                c = c:lower()\n            end\n        end\n       \
    \ t[#t + 1] = c\n    end\n    return table.concat(t)\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%l') then\n                c = c:upper()\n   \
    \         else\n                c = c:lower()\n            end\n        end\n\
    \        t[#t + 1] = c\n    end\n    return table.concat(t)\nend", "  local t\
    \ = {}\n  for i = 1, #s do\n    local c = s:sub(i, i)\n    if c:match('%a') then\n\
    \      if c:match('%l') then\n        t[#t + 1] = c:upper()\n      else\n    \
    \    t[#t + 1] = c:lower()\n      end\n    else\n      t[#t + 1] = c\n    end\n\
    \  end\n  if #t == 0 then\n    return s:reverse()\n  end\n  return table.concat(t)\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            res[#res + 1] = c:lower() == c and\
    \ c:upper() or c:lower()\n        else\n            res[#res + 1] = c\n      \
    \  end\n    end\n    return #res > 0 and table.concat(res) or s:reverse()\nend",
  "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match('%a') then\n            if c:match('%l') then\n                t[#t\
    \ + 1] = c:upper()\n            else\n                t[#t + 1] = c:lower()\n\
    \            end\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return table.concat(t)\nend", "    local t = {}\n    for i = 1, #s do\n \
    \       local c = s:sub(i, i)\n        if c:match('%a') then\n            if c:match('%l')\
    \ then\n                c = c:upper()\n            else\n                c = c:lower()\n\
    \            end\n        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\n\
    end", "    local res = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      res = res .. c:upper()\n            else\n                res = res ..\
    \ c:lower()\n            end\n        else\n            res = res .. c\n     \
    \   end\n    end\n    return #res > 0 and res or s:reverse()\nend", "    local\
    \ res = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%l') then\n                res = res .. c:upper()\n\
    \            else\n                res = res .. c:lower()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return #res\
    \ > 0 and res or s:reverse()\nend", "    local res = {}\n    for i = 1, #s do\n\
    \        local c = s:sub(i, i)\n        if c:match('%a') then\n            if\
    \ c:match('%l') then\n                res[#res + 1] = c:upper()\n            else\n\
    \                res[#res + 1] = c:lower()\n            end\n        else\n  \
    \          res[#res + 1] = c\n        end\n    end\n    if #res == 0 then\n  \
    \      return s:reverse()\n    end\n    return table.concat(res)\nend", "    local\
    \ t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "    local res = ''\n    for i =\
    \ 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n   \
    \         if c:match('%u') then\n                res = res .. c:lower()\n    \
    \        else\n                res = res .. c:upper()\n            end\n     \
    \   else\n            res = res .. c\n        end\n    end\n    return res\nend",
  "    if s:match('%a') then\n        return s:gsub('%a', function(c)\n          \
    \  return c:lower() == c and c:upper() or c:lower()\n        end)\n    else\n\
    \        return s:reverse()\n    end\nend", "    local t = {}\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n      \
    \      t[#t + 1] = c:upper() == c and c:lower() or c:upper()\n        else\n \
    \           t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    if s:match('%a') then\n        return s:gsub('%a',\
    \ function(c)\n            return c:lower() == c and c:upper() or c:lower()\n\
    \        end)\n    else\n        return s:reverse()\n    end\nend", "    local\
    \ t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%u') then\n                c = c:lower()\n   \
    \         else\n                c = c:upper()\n            end\n        end\n\
    \        t[#t + 1] = c\n    end\n    return table.concat(t)\nend", "    local\
    \ res = {}\n    for i = 1, #s do\n        if s[i]:match('%a') then\n         \
    \   res[i] = s[i]:match('%l') and s[i]:upper() or s[i]:lower()\n        else\n\
    \            res[i] = s[i]\n        end\n    end\n    return #res > 0 and table.concat(res)\
    \ or s:reverse()\nend", "    local res = {}\n    for i = 1, #s do\n        if\
    \ s[i]:match('%a') then\n            res[i] = s[i]:lower() == s[i] and s[i]:upper()\
    \ or s[i]:lower()\n        else\n            res[i] = s[i]\n        end\n    end\n\
    \    return #res > 0 and table.concat(res) or s:reverse()\nend", "    local t\
    \ = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "    local res = ''\n    for i =\
    \ 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n   \
    \         if c:match('%l') then\n                res = res .. c:upper()\n    \
    \        else\n                res = res .. c:lower()\n            end\n     \
    \   else\n            res = res .. c\n        end\n    end\n    return res\nend",
  "    local res = ''\n    for i = #s, 1, -1 do\n        if s[i]:match('%a') then\n\
    \            res = res .. s[i]:lower() == s[i] and s[i]:upper() or s[i]:lower()\n\
    \        else\n            res = res .. s[i]\n        end\n    end\n    return\
    \ res\nend", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match('%a') then\n            t[#t + 1] = c:lower() == c and\
    \ c:upper() or c:lower()\n        else\n            t[#t + 1] = c\n        end\n\
    \    end\n    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local\
    \ res = {}\n    for i = #s, 1, -1 do\n        local c = s:sub(i, i)\n        if\
    \ c:match('%a') then\n            res[#res + 1] = c:upper() == c and c:lower()\
    \ or c:upper()\n        else\n            res[#res + 1] = c\n        end\n   \
    \ end\n    return table.concat(res)\nend", "    local t = {}\n    for i = 1, #s\
    \ do\n        if s[i]:match('%a') then\n            if s[i]:match('%u') then\n\
    \                t[i] = s[i]:lower()\n            else\n                t[i] =\
    \ s[i]:upper()\n            end\n        else\n            t[i] = s[i]\n     \
    \   end\n    end\n    return table.concat(t)\nend", "  local t = {}\n  for i =\
    \ 1, #s do\n    if s[i]:match('%a') then\n      t[i] = s[i]:lower() == s[i] and\
    \ s[i]:upper() or s[i]:lower()\n    else\n      t[i] = s[i]\n    end\n  end\n\
    \  return #s:gsub('%a', '') == #s and s:reverse() or table.concat(t)\nend", " \
    \   local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n      \
    \  if c:match('%a') then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            t[#t + 1] = c:upper() == c and c:lower() or c:upper()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "  return s:gsub('%a', function(c)\
    \ return c:lower() == c and c:upper() or c:lower() end)\nend", "    local res\
    \ = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%l') then\n                res = res .. c:upper()\n\
    \            else\n                res = res .. c:lower()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "  local t = {}\n  for i = 1, #s do\n    local c = s:sub(i, i)\n    if c:match('%a')\
    \ then\n      if c:match('%l') then\n        c = c:upper()\n      else\n     \
    \   c = c:lower()\n      end\n    end\n    t[#t + 1] = c\n  end\n  return table.concat(t)\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            t[#t + 1] = c:upper() == c and c:lower()\
    \ or c:upper()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n      \
    \      if c:match('%u') then\n                t[#t + 1] = c:lower()\n        \
    \    else\n                t[#t + 1] = c:upper()\n            end\n        else\n\
    \            t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match('%a') then\n            t[#t + 1] = c:lower()\
    \ == c and c:upper() or c:lower()\n        else\n            t[#t + 1] = c\n \
    \       end\n    end\n    return #t > 0 and table.concat(t) or s:reverse()\nend",
  "    if not s:match('%a') then\n        return s:reverse()\n    end\n    return\
    \ s:gsub('%a', function(c)\n        return c:upper() == c and c:lower() or c:upper()\n\
    \    end)\nend", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match('%a') then\n            t[#t + 1] = c:upper() == c and\
    \ c:lower() or c:upper()\n        else\n            t[#t + 1] = c\n        end\n\
    \    end\n    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local\
    \ t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n      \
    \      t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n \
    \           t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match('%a') then\n            t[#t + 1] = c:upper()\
    \ == c and c:lower() or c:upper()\n        else\n            t[#t + 1] = c\n \
    \       end\n    end\n    return #t > 0 and table.concat(t) or s:reverse()\nend",
  "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n     \
    \   if c:match('%a') then\n            if c:match('%l') then\n               \
    \ c = c:upper()\n            else\n                c = c:lower()\n           \
    \ end\n        end\n        res[#res + 1] = c\n    end\n    return table.concat(res)\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      c = c:upper()\n            else\n                c = c:lower()\n      \
    \      end\n        end\n        res[#res + 1] = c\n    end\n    return table.concat(res)\n\
    end", "    local res = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      res = res .. c:upper()\n            else\n                res = res ..\
    \ c:lower()\n            end\n        else\n            res = res .. c\n     \
    \   end\n    end\n    return res\nend", "    local t = {}\n    for i = 1, #s do\n\
    \        local c = s:sub(i, i)\n        if c:match('%a') then\n            t[#t\
    \ + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n           \
    \ t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t) or\
    \ s:reverse()\nend", "    local res = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match('%a') then\n            if c:match('%u')\
    \ then\n                res[#res + 1] = c:lower()\n            else\n        \
    \        res[#res + 1] = c:upper()\n            end\n        else\n          \
    \  res[#res + 1] = c\n        end\n    end\n    return #res > 0 and table.concat(res)\
    \ or s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n        if s[i]:match('%a')\
    \ then\n            t[i] = s[i]:lower() == s[i] and s[i]:upper() or s[i]:lower()\n\
    \        else\n            t[i] = s[i]\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "    local res = {}\n    local letters\
    \ = {}\n    for i = 1, #s do\n        if s[i]:match('%a') then\n            letters[#letters\
    \ + 1] = s[i]\n        else\n            res[#res + 1] = s[i]\n        end\n \
    \   end\n    for i = 1, #letters do\n        res[#res + 1] = letters[#letters\
    \ - i + 1]\n    end\n    return table.concat(res)\nend", "  local t = {}\n  for\
    \ i = 1, #s do\n    local c = s:sub(i, i)\n    if c:match('%a') then\n      if\
    \ c:match('%u') then\n        t[#t + 1] = c:lower()\n      else\n        t[#t\
    \ + 1] = c:upper()\n      end\n    else\n      t[#t + 1] = c\n    end\n  end\n\
    \  return #t > 0 and table.concat(t) or s:reverse()\nend", "    local res = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res == 0 and s:reverse() or table.concat(res)\nend", "    local t = {}\n  \
    \  for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n\
    \            if c:match('%u') then\n                c = c:lower()\n          \
    \  else\n                c = c:upper()\n            end\n        end\n       \
    \ t[#t + 1] = c\n    end\n    return table.concat(t)\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n      \
    \      t[#t + 1] = c:upper() == c and c:lower() or c:upper()\n        else\n \
    \           t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match('%a') then\n            t[#t + 1] = c:lower()\
    \ == c and c:upper() or c:lower()\n        else\n            t[#t + 1] = c\n \
    \       end\n    end\n    return #t > 0 and table.concat(t) or s:reverse()\nend",
  "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match('%a') then\n            c = c:lower() == c and c:upper() or c:lower()\n\
    \        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\nend",
  "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match('%a') then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "  local t = {}\n\
    \  for i = 1, #s do\n    local c = s:sub(i, i)\n    if c:match('%a') then\n  \
    \    t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n    else\n      t[#t\
    \ + 1] = c\n    end\n  end\n  return #t > 0 and table.concat(t) or s:reverse()\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "  local t = {}\n\
    \  for i = 1, #s do\n    local c = s:sub(i, i)\n    if c:match('%a') then\n  \
    \    t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n    else\n      t[#t\
    \ + 1] = c\n    end\n  end\n  return #t > 0 and table.concat(t) or s:reverse()\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      c = c:upper()\n            else\n                c = c:lower()\n      \
    \      end\n        end\n        res[#res + 1] = c\n    end\n    return table.concat(res)\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%l') then\n          \
    \      c = c:upper()\n            else\n                c = c:lower()\n      \
    \      end\n        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            res[#res + 1] = c:lower() == c and\
    \ c:upper() or c:lower()\n        else\n            res[#res + 1] = c\n      \
    \  end\n    end\n    return #res == 0 and s:reverse() or table.concat(res)\nend",
  "    local res = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n     \
    \   if c:match('%a') then\n            if c:match('%l') then\n               \
    \ res = res .. c:upper()\n            else\n                res = res .. c:lower()\n\
    \            end\n        else\n            res = res .. c\n        end\n    end\n\
    \    if res == '' then\n        return s:reverse()\n    end\n    return res\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "  local res = ''\n\
    \  for i = 1, #s do\n    local c = s:sub(i, i)\n    if c:match('%a') then\n  \
    \    if c:match('%l') then\n        res = res .. c:upper()\n      else\n     \
    \   res = res .. c:lower()\n      end\n    else\n      res = res .. c\n    end\n\
    \  end\n  if res == '' then\n    return s:reverse()\n  end\n  return res\nend",
  "  local res = ''\n  for i = #s, 1, -1 do\n    local c = s:sub(i, i)\n    if c:match('%a')\
    \ then\n      res = res .. c:gsub('%a', function(c)\n        return c:lower()\
    \ == c and c:upper() or c:lower()\n      end)\n    else\n      res = res .. c\n\
    \    end\n  end\n  return res\nend", "    local t = {}\n    for i = 1, #s do\n\
    \        local c = s:sub(i, i)\n        if c:match('%a') then\n            t[#t\
    \ + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n           \
    \ t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t) or\
    \ s:reverse()\nend", "    local res = {}\n    for i = 1, #s do\n        local\
    \ char = s:sub(i, i)\n        if char:match('%a') then\n            if char:match('%l')\
    \ then\n                char = char:upper()\n            else\n              \
    \  char = char:lower()\n            end\n        end\n        res[#res + 1] =\
    \ char\n    end\n    return table.concat(res)\nend", "    local res = ''\n   \
    \ for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n\
    \            if c:match('%u') then\n                res = res .. c:lower()\n \
    \           else\n                res = res .. c:upper()\n            end\n  \
    \      else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match(\"%a\") then\n            if c:match(\"%l\") then\n      \
    \          c = c:upper()\n            else\n                c = c:lower()\n  \
    \          end\n        end\n        res[#res + 1] = c\n    end\n    return table.concat(res)\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        if s[i]:match('%a') then\n            t[i] = s[i]:lower()\
    \ == s[i] and s[i]:upper() or s[i]:lower()\n        else\n            t[i] = s[i]\n\
    \        end\n    end\n    return #t > 0 and table.concat(t) or s:reverse()\n\
    end", "  local res = {}\n  for i = 1, #s do\n    local c = s:sub(i, i)\n    if\
    \ c:match('%a') then\n      if c:match('%u') then\n        res[#res + 1] = c:lower()\n\
    \      else\n        res[#res + 1] = c:upper()\n      end\n    else\n      res[#res\
    \ + 1] = c\n    end\n  end\n  return #res > 0 and table.concat(res) or s:reverse()\n\
    end", "    local t = {}\n    for i = 1, #s do\n        if s[i]:match(\"%a\") then\n\
    \            t[i] = s[i]:lower() == s[i] and s[i]:upper() or s[i]:lower()\n  \
    \      else\n            t[i] = s[i]\n        end\n    end\n    return #s:gsub(\"\
    %a\", \"\") == #s and s:reverse() or table.concat(t)\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "  local t = {}\n  for i = 1, #s\
    \ do\n    local c = s:sub(i, i)\n    if c:match('%a') then\n      t[#t + 1] =\
    \ c:lower() == c and c:upper() or c:lower()\n    else\n      t[#t + 1] = c\n \
    \   end\n  end\n  return #t > 0 and table.concat(t) or s:reverse()\nend", "  \
    \  local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match('%a') then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend"]
stop_tokens:
- "\nlocal"
- "\nfunction"
- "\n--"
- "\n\n"
