name: HumanEval_17_parse_music
language: lua
prompt: "-- Input to this function is a string representing musical notes in a special\
  \ ASCII format.\n-- Your task is to parse this string and return table of integers\
  \ corresponding to how many beats does each\n-- not last.\n-- Here is a legend:\n\
  -- 'o' - whole note, lasts four beats\n-- 'o|' - half note, lasts two beats\n--\
  \ '.|' - quater note, lasts one beat\n-- >>> parse_music('o o| .| o| o| .| .| .|\
  \ .| o o')\n-- [4, 2, 1, 2, 2, 1, 1, 1, 1, 4, 4]\nlocal function parse_music(music_string)\n"
tests: "lu = require('luaunit')\n\nfunction test_humaneval()\nlocal candidate = parse_music\n\
  \    lu.assertEquals(candidate(''), {})\n    lu.assertEquals(candidate('o o o o'),\
  \ {4, 4, 4, 4})\n    lu.assertEquals(candidate('.| .| .| .|'), {1, 1, 1, 1})\n \
  \   lu.assertEquals(candidate('o| o| .| .| o o o o'), {2, 2, 1, 1, 4, 4, 4, 4})\n\
  \    lu.assertEquals(candidate('o| .| o| .| o o| o o|'), {2, 1, 2, 1, 4, 2, 4, 2})\n\
  end\n\nos.exit(lu.LuaUnit.run())"
completions: ["    local table = {}\n    local i = 1\n    while i <= #music_string\
    \ do\n        if music_string[i] == '.' then\n            table[i] = 1\n     \
    \   elseif music_string[i] == '|' then\n            table[i] = 2\n        elseif\
    \ music_string[i] == 'o' then\n            table[i] = 4\n        end\n       \
    \ i = i + 1\n    end\n    return table\nend", "    local result = {}\n    local\
    \ i = 1\n    while i <= #music_string do\n        local note = music_string:sub(i,\
    \ i+2)\n        if note == 'o' then\n            result[i] = 4\n        elseif\
    \ note == 'o|' then\n            result[i] = 2\n        elseif note == '.|' then\n\
    \            result[i] = 1\n        else\n            result[i] = 0\n        i\
    \ = i + 1\n    end\n    return result\nend", "    local result = {}\n    local\
    \ i = 1\n    while i <= #music_string do\n        local note = string.sub(music_string,\
    \ i, i)\n        local note_count = 0\n        if note == 'o' then\n         \
    \   note_count = 4\n        elseif note == 'o|' then\n            note_count =\
    \ 2\n        elseif note == '.|' then\n            note_count = 1\n        end\n\
    \        result[i] = note_count\n        i = i + 1\n    end\n    return result\n\
    end", "    local result = {}\n    local i = 1\n    while i <= #music_string do\n\
    \        if music_string[i] == '.' then\n            result[i] = 1\n        elseif\
    \ music_string[i] == '|' then\n            result[i] = 2\n        elseif music_string[i]\
    \ == 'o' then\n            result[i] = 4\n        else\n            result[i]\
    \ = 0\n        i = i + 1\n    end\n    return result\nend", "    local result\
    \ = {}\n    local i = 1\n    while i <= #music_string do\n        if music_string[i]\
    \ ~= '.' then\n            result[i] = result[i] + 1\n        else\n         \
    \   i = i + 1\n        end\n        i = i + 1\n    end\n    return result\nend",
  "    local result = {}\n    local i = 1\n    while i <= #music_string do\n     \
    \   if music_string[i] == '.' then\n            result[i] = 1\n        elseif\
    \ music_string[i] == '|' then\n            result[i] = 2\n        elseif music_string[i]\
    \ == 'o' then\n            result[i] = 4\n        else\n            result[i]\
    \ = 0\n        end\n        i = i + 1\n    end\n    return result\nend", "   \
    \ local result = {}\n    local i = 1\n    while i <= #music_string do\n      \
    \  if music_string[i] == '.' then\n            result[i] = 1\n        elseif music_string[i]\
    \ == '|' then\n            result[i] = 2\n        elseif music_string[i] == 'o'\
    \ then\n            result[i] = 4\n        else\n            result[i] = 0\n \
    \       i = i + 1\n    end\n    return result\nend", "    local notes = {}\n \
    \   local note_count = {}\n    local i = 1\n    local j = 1\n    local k = 1\n\
    \    local l = 1\n    local m = 1\n    local n = 1\n    local o = 1\n    local\
    \ p = 1\n    local q = 1\n    local r = 1\n    local s = 1\n    local t = 1\n\
    \    local u = 1\n    local v = 1\n    local w = 1\n    local x = 1\n    local\
    \ y = 1\n    local z = 1\n    local a = 1\n    local b = 1\n    local c = 1\n\
    \    local d = 1\n    local e = 1\n    local f = 1\n    local g = 1\n    local\
    \ h = 1\n    local i = 1\n    local j = 1\n    local k = 1\n    local l = 1\n\
    \    local m = 1\n    local n = 1\n    local o = 1\n    local p = 1\n    local\
    \ q = 1\n    local r = 1\n    local s = 1\n    local t = 1\n    local u = 1\n\
    \    local v = 1\n    local w = 1\n    local x = 1\n    local y = 1\n    local\
    \ z = 1\n    local a = 1\n    local b = 1\n    local c = 1\n    local d = 1\n\
    \    local e = 1\n    local f = 1\n    local g = 1\n    local h = 1\n    local\
    \ i = 1\n    local j = 1\n    local k = 1\n    local l = 1\n    local m = 1\n\
    \    local n = 1\n    local o = 1\n    local p = 1\n    local q = 1\n    local\
    \ r = 1\n    local s = 1\n    local t = 1\n    local u = 1\n    local v = 1\n\
    \    local w = 1\n    local x = 1\n    local y = 1\n    local z = 1\n    local\
    \ a = 1\n    local b = 1\n    local c = 1\n    local d = 1\n    local e = 1\n\
    \    local f = 1\n    local g = 1\n    local h = 1\n    local i = 1\n    local\
    \ j = 1\n    local k = 1\n    local l = 1\n    local m = 1\n", "    local result\
    \ = {}\n    local i = 1\n    local len = #music_string\n    while i <= len do\n\
    \        if music_string[i] == '.' then\n            result[i] = 1\n        elseif\
    \ music_string[i] == '|' then\n            result[i] = 2\n        elseif music_string[i]\
    \ == 'o' then\n            result[i] = 4\n        else\n            result[i]\
    \ = 0\n        end\n        i = i + 1\n    end\n    return result\nend", "   \
    \ local result = {}\n    local notes = {}\n    local i = 1\n    local j = 1\n\
    \    local k = 1\n    local l = 1\n    local m = 1\n    local n = 1\n    local\
    \ o = 1\n    local p = 1\n    local q = 1\n    local r = 1\n    local s = 1\n\
    \    local t = 1\n    local u = 1\n    local v = 1\n    local w = 1\n    local\
    \ x = 1\n    local y = 1\n    local z = 1\n    local a = 1\n    local b = 1\n\
    \    local c = 1\n    local d = 1\n    local e = 1\n    local f = 1\n    local\
    \ g = 1\n    local h = 1\n    local i = 1\n    local j = 1\n    local k = 1\n\
    \    local l = 1\n    local m = 1\n    local n = 1\n    local o = 1\n    local\
    \ p = 1\n    local q = 1\n    local r = 1\n    local s = 1\n    local t = 1\n\
    \    local u = 1\n    local v = 1\n    local w = 1\n    local x = 1\n    local\
    \ y = 1\n    local z = 1\n    local a = 1\n    local b = 1\n    local c = 1\n\
    \    local d = 1\n    local e = 1\n    local f = 1\n    local g = 1\n    local\
    \ h = 1\n    local i = 1\n    local j = 1\n    local k = 1\n    local l = 1\n\
    \    local m = 1\n    local n = 1\n    local o = 1\n    local p = 1\n    local\
    \ q = 1\n    local r = 1\n    local s = 1\n    local t = 1\n    local u = 1\n\
    \    local v = 1\n    local w = 1\n    local x = 1\n    local y = 1\n    local\
    \ z = 1\n    local a = 1\n    local b = 1\n    local c = 1\n    local d = 1\n\
    \    local e = 1\n    local f = 1\n    local g = 1\n    local h = 1\n    local\
    \ i = 1\n    local j = 1\n    local k = 1\n    local l = 1\n    local m = 1\n\
    \    local", "    local notes = {}\n    local i = 1\n    local len = string.len(music_string)\n\
    \    while i <= len do\n        local note = music_string:sub(i, i+2)\n      \
    \  if note == 'o' then\n            notes[i] = 4\n        elseif note == 'o|'\
    \ then\n            notes[i] = 2\n        elseif note == '.|' then\n         \
    \   notes[i] = 1\n        else\n            notes[i] = 0\n        i = i + 1\n\
    \    end\n    return notes\nend", "    local notes = {}\n    local i = 1\n   \
    \ local note_count = 0\n    local last_note = false\n    local last_duration =\
    \ 0\n    local last_duration_count = 0\n    local last_duration_note = false\n\
    \    local last_duration_note_count = 0\n    local last_duration_note_note = false\n\
    \    local last_duration_note_note_count = 0\n    local last_duration_note_note_note\
    \ = false\n    local last_duration_note_note_note_count = 0\n    local last_duration_note_note_note_note\
    \ = false\n    local last_duration_note_note_note_note_count = 0\n    local last_duration_note_note_note_note_note\
    \ = false\n    local last_duration_note_note_note_note_note_count = 0\n    local\
    \ last_duration_note_note_note_note_note_note = false\n    local last_duration_note_note_note_note_note_note_count\
    \ = 0\n    local last_duration_note_note_note_note_note_note_note = false\n  \
    \  local last_duration_note_note_note_note_note_note_note_count = 0\n    local\
    \ last_duration_note_note_note_note_note_note_note_note = false\n    local last_duration_note_note_note_note_note_note_note_note_count\
    \ = 0\n    local last_duration_note_note_note_note_note_note_note_note_note =\
    \ false\n    local last_duration_note_note_note_note_note_note_note_note_note_count\
    \ = 0\n    local last_duration_note_note_note_note_note_note_note_note_note_note\
    \ = false\n    local last_duration_note_note_note_note_note_note_note_note_note_note_count\
    \ = 0\n    local last_duration_note_note_note_note_note_note_note_note_note_note_note\
    \ = false\n    local last_duration_note_note_note_note_note_note_note_note_note_note_note_count\
    \ = 0\n    local last_", "    local result = {}\n    for i = 1, #music_string,\
    \ 2 do\n        if music_string[i] == 'o' then\n            result[i] = 4\n  \
    \      elseif music_string[i] == 'o|' then\n            result[i] = 2\n      \
    \  elseif music_string[i] == '.|' then\n            result[i] = 1\n        end\n\
    \    end\n    return result\nend", "    local result = {}\n    local i = 1\n \
    \   local len = #music_string\n    while i <= len do\n        if music_string[i]\
    \ == '.' then\n            result[i] = 1\n        elseif music_string[i] == '|'\
    \ then\n            result[i] = 2\n        elseif music_string[i] == 'o' then\n\
    \            result[i] = 4\n        else\n            result[i] = 0\n        end\n\
    \        i = i + 1\n    end\n    return result\nend", "    local beats = {}\n\
    \    local notes = {}\n    local i = 1\n    local j = 1\n    while i <= #music_string\
    \ do\n        if music_string[i] == '.' then\n            beats[j] = beats[j]\
    \ + 1\n            j = j + 1\n        elseif music_string[i] == '|' then\n   \
    \         beats[j] = beats[j] + 1\n            j = j + 1\n        elseif music_string[i]\
    \ == 'o' then\n            beats[j] = beats[j] + 1\n            j = j + 1\n  \
    \      elseif music_string[i] == 'o|' then\n            beats[j] = beats[j] +\
    \ 1\n            j = j + 1\n        elseif music_string[i] == 'o' then\n     \
    \       beats[j] = beats[j] + 1\n            j = j + 1\n        elseif music_string[i]\
    \ == 'o|' then\n            beats[j] = beats[j] + 1\n            j = j + 1\n \
    \       elseif music_string[i] == 'o' then\n            beats[j] = beats[j] +\
    \ 1\n            j = j + 1\n        elseif music_string[i] == 'o|' then\n    \
    \        beats[j] = beats[j] + 1\n            j = j + 1\n        elseif music_string[i]\
    \ == 'o' then\n            beats[j] = beats[j] + 1\n            j = j + 1\n  \
    \      elseif music_string[i] == 'o|' then\n            beats[j] = beats[j] +\
    \ 1\n            j = j + 1\n        elseif music_string[i] == 'o' then\n     \
    \       beats[j] = beats[j] + 1\n            j = j + 1\n        elseif music_string[i]\
    \ == 'o|' then\n            beats[j] = beats[j] + 1\n            j = j + 1\n \
    \       elseif music_string[i] == 'o' then\n            beats[j] = beats[j] +\
    \ 1\n            j = j + 1\n        elseif music_string[", "    local result =\
    \ {}\n    local notes = {}\n    local i = 1\n    local len = #music_string\n \
    \   while i <= len do\n        if music_string[i] == '.' then\n            if\
    \ notes[#                                                                    \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                    ", "    local result = {}\n\
    \    local i = 1\n    while i <= #music_string do\n        local note = music_string:sub(i,\
    \ i+2)\n        if note == 'o' then\n            result[i] = 4\n        elseif\
    \ note == 'o|' then\n            result[i] = 2\n        elseif note == '.|' then\n\
    \            result[i] = 1\n        end\n        i = i + 1\n    end\n    return\
    \ result\nend", "    local result = {}\n    local music_table = {'o', 'o|', '.|',\
    \ 'o|', 'o|', '.|', '.|', '.|', 'o', 'o', 'o', 'o'}\n    local i = 1\n    while\
    \ i <= #music_string do\n        if music_string[i] == '.' then\n            result[i]\
    \ = result[i-1] + 1\n        else\n            result[i] = result[i-1]\n     \
    \   end\n        i = i + 1\n    end\n    return result\nend", "    local music_table\
    \ = {}\n    local music_note_table = {}\n    local music_note_count = {}\n   \
    \ local music_note_count_table = {}\n    local music_note_count_table_count =\
    \ {}\n    local music_note_count_table_count_table = {}\n    local music_note_count_table_count_table_count\
    \ = {}\n    local music_note_count_table_count_table_count_table = {}\n    local\
    \ music_note_count_table_count_table_count_table_count = {}\n    local music_note_count_table_count_table_count_table_count_table\
    \ = {}\n    local music_note_count_table_count_table_count_table_count_table_count\
    \ = {}\n    local music_note_count_table_count_table_count_table_count_table_count_table\
    \ = {}\n    local music_note_count_table_count_table_count_table_count_table_count_table_count\
    \ = {}\n    local music_note_count_table_count_table_count_table_count_table_count_table_count_table\
    \ = {}\n    local music_note_count_table_count_table_count_table_count_table_count_table_count_table_count\
    \ = {}\n    local music_note_count_table_count_table_count_table_count_table_count_table_count_table_count_table\
    \ = {}\n    local music_note_count_table_count_table_count_table_count_table_count_table_count_table_count_table_count\
    \ = {}\n    local music_note_count_table_count_table_count_table_count_table_count_table_count_table_count_table_count_table\
    \ = {}\n    local music_note_count_table_count_table_count_table_count_table_count_table_count_table_count_table_count_table_count_table\
    \ = {}\n    local music_note_count_table_count_table_count_table_count_table_count_table_count_table_count_table_count_table_count_table_count_table\
    \ = {}\n    local", "    local result = {}\n    local i = 1\n    while i <= #music_string\
    \ do\n        if music_string[i] == '.' then\n            result[i] = 1\n    \
    \    elseif music_string[i] == '|' then\n            result[i] = 2\n        elseif\
    \ music_string[i] == 'o' then\n            result[i] = 4\n        else\n     \
    \       result[i] = 0\n        i = i + 1\n    end\n    return result\nend"]
stop_tokens:
- "\nlocal"
- "\nfunction"
- "\n--"
- "\n\n"
