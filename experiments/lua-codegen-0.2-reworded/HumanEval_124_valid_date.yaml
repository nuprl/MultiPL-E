name: HumanEval_124_valid_date
language: lua
prompt: "-- You have to write a function which validates a given date string and\n\
  -- returns true if the date is valid otherwise false.\n-- The date is valid if all\
  \ of the following rules are satisfied:\n-- 1. The date string is not empty.\n--\
  \ 2. The number of days is not less than 1 or higher than 31 days for months 1,3,5,7,8,10,12.\
  \ And the number of days is not less than 1 or higher than 30 days for months 4,6,9,11.\
  \ And, the number of days is not less than 1 or higher than 29 for the month 2.\n\
  -- 3. The months should not be less than 1 or higher than 12.\n-- 4. The date should\
  \ be in the format: mm-dd-yyyy\n-- >>> valid_date('03-11-2000')\n-- True\n-- >>>\
  \ valid_date('15-01-2012')\n-- False\n-- >>> valid_date('04-0-2040')\n-- False\n\
  -- >>> valid_date('06-04-2020')\n-- True\n-- >>> valid_date('06/04/2020')\n-- False\n\
  local function valid_date(date)\n"
tests: "lu = require('luaunit')\n\nfunction test_humaneval()\nlocal candidate = valid_date\n\
  \    lu.assertEquals(candidate('03-11-2000'), true)\n    lu.assertEquals(candidate('15-01-2012'),\
  \ false)\n    lu.assertEquals(candidate('04-0-2040'), false)\n    lu.assertEquals(candidate('06-04-2020'),\
  \ true)\n    lu.assertEquals(candidate('01-01-2007'), true)\n    lu.assertEquals(candidate('03-32-2011'),\
  \ false)\n    lu.assertEquals(candidate(''), false)\n    lu.assertEquals(candidate('04-31-3000'),\
  \ false)\n    lu.assertEquals(candidate('06-06-2005'), true)\n    lu.assertEquals(candidate('21-31-2000'),\
  \ false)\n    lu.assertEquals(candidate('04-12-2003'), true)\n    lu.assertEquals(candidate('04122003'),\
  \ false)\n    lu.assertEquals(candidate('20030412'), false)\n    lu.assertEquals(candidate('2003-04'),\
  \ false)\n    lu.assertEquals(candidate('2003-04-12'), false)\n    lu.assertEquals(candidate('04-2003'),\
  \ false)\nend\n\nos.exit(lu.LuaUnit.run())"
completions: ["    if not date or string.len(date) == 0 then\n        return false\n\
    \    end\n    local month, day, year = string.match(date, '^([0-9]{1,2})-([0-9]{1,2})-([0-9]{4})$')\n\
    \    if not month or not day or not year then\n        return false\n    end\n\
    \    month = tonumber(month)\n    day = tonumber(day)\n    year = tonumber(year)\n\
    \    if month < 1 or month > 12 then\n        return false\n    end\n    if month\
    \ == 2 then\n        if day < 1 or day > 29 then\n            return false\n \
    \       end\n    elseif month == 4 or month == 6 or month == 9 or month == 11\
    \ then\n        if day < 1 or day > 30 then\n            return false\n      \
    \  end\n    elseif month == 1 or month == 3 or month == 5 or month == 7 or month\
    \ == 8 or month == 10 or month == 12 then\n        if day < 1 or day > 31 then\n\
    \            return false\n        end\n    end\n    return true\nend", "    if\
    \ not date or string.len(date) == 0 then\n        return false\n    end\n    local\
    \ month, day, year = string.match(date, '^([0-9]{1,2})-([0-9]{1,2})-([0-9]{4})$')\n\
    \    if not month or not day or not year then\n        return false\n    end\n\
    \    month = tonumber(month)\n    day = tonumber(day)\n    year = tonumber(year)\n\
    \    if month < 1 or month > 12 then\n        return false\n    end\n    if month\
    \ == 2 then\n        if not (day < 1 or day > 29) then\n            return false\n\
    \        end\n    elseif month == 4 or month == 6 or month == 9 or month == 11\
    \ then\n        if not (day < 1 or day > 30) then\n            return false\n\
    \        end\n    elseif month == 1 or month == 3 or month == 5 or month == 7\
    \ or month == 8 or month == 10 or month == 12 then\n        if not (day < 1 or\
    \ day > 31) then\n            return false\n        end\n    end\n    return true\n\
    end", "    if not date or string.len(date) == 0 then\n        return false\n \
    \   end\n    if string.len(date) < 8 then\n        return false\n    end\n   \
    \ if string.sub(date, 1, 2) < 1 or string.sub(date, 1, 2) > 12 then\n        return\
    \ false\n    end\n    if string.sub(date, 3, 5) < 1 or string.sub(date, 3, 5)\
    \ > 31 then\n        return false\n    end\n    if string.sub(date, 6, 8) < 1\
    \ or string.sub(date, 6, 8) > 30 then\n        return false\n    end\n    if string.sub(date,\
    \ 9, 11) < 1 or string.sub(date, 9, 11) > 29 then\n        return false\n    end\n\
    \    return true\nend", "    if not date or string.len(date) < 1 or string.len(date)\
    \ > 10 then\n        return false\n    end\n    local month, day, year = string.match(date,\
    \ '^([0-9]{1,2})-([0-9]{1,2})-([0-9]{4})$')\n    if not month or not day or not\
    \ year then\n        return false\n    end\n    month = string.tonumber(month)\n\
    \    day = string.tonumber(day)\n    year = string.tonumber(year)\n    if month\
    \ < 1 or month > 12 then\n        return false\n    end\n    if month == 2 then\n\
    \        if not (day >= 1 and day <= 29) then\n            return false\n    \
    \    end\n    elseif month == 4 or month == 6 or month == 9 or month == 11 then\n\
    \        if not (day >= 1 and day <= 30) then\n            return false\n    \
    \    end\n    elseif month == 1 or month == 3 or month == 5 or month == 7 or month\
    \ == 8 or month == 10 or month == 12 then\n        if not (day >= 1 and day <=\
    \ 31) then\n            return false\n        end\n    end\n    return true\n\
    end", "    if not date then\n        return false\n    end\n    local month, day,\
    \ year = string.match(date, '^([0-9]{1,2})-([0-9]{1,2})-([0-9]{4})$')\n    if\
    \ not month then\n        return false\n    end\n    if not day then\n       \
    \ return false\n    end\n    if not year then\n        return false\n    end\n\
    \    if month < 1 or month > 12 then\n        return false\n    end\n    if day\
    \ < 1 or day > 31 then\n        return false\n    end\n    if month == 2 and day\
    \ > 29 then\n        return false\n    end\n    if month == 1 or month == 3 or\
    \ month == 5 or month == 7 or month == 8 or month == 10 or month == 12 then\n\
    \        if day < 1 or day > 30 then\n            return false\n        end\n\
    \    end\n    if month == 4 or month == 6 or month == 9 or month == 11 then\n\
    \        if day < 1 or day > 29 then\n            return false\n        end\n\
    \    end\n    return true\nend", "    if date == '' then\n        return false\n\
    \    end\n    if date:match('^(0[1-9]|[12][0-9]|3[01])-(0[1-9]|1[012])-(20[0-9]{2}|19[0-9]{2})$')\
    \ then\n        return true\n    end\n    if date:match('^(0[1-9]|[12][0-9]|3[01])-(0[1-9]|1[012])-(20[0-9]{2}|19[0-9]{2})$')\
    \ then\n        return true\n    end\n    if date:match('^(0[1-9]|[12][0-9]|3[01])-(0[1-9]|1[012])-(20[0-9]{2}|19[0-9]{2})$')\
    \ then\n        return true\n    end\n    if date:match('^(0[1-9]|[12][0-9]|3[01])-(0[1-9]|1[012])-(20[0-9]{2}|19[0-9]{2})$')\
    \ then\n        return true\n    end\n    if date:match('^(0[1-9]|[12][0-9]|3[01])-(0[1-9]|1[012])-(20[0-9]{2}|19[0-9]{2})$')\
    \ then\n        return true\n    end\n    if date:match('^(0[1-9]|[12][0-9]|3[01])-(0[1-9]|1[012])-(20[0-9]{2}|19[0-9]{2})$')\
    \ then\n        return true\n    end\n    if date:match('^(0[1-9]|[12][0-9]|3[01])-(0[1-9]|1[012])-(20[0-9]{2}|19[0-9]{2})$')\
    \ then\n        return true\n    end\n    if date:match('^(", "    if not date\
    \ then return false\n    if not date:match('^[0-9]{2}-[0-9]{2}-[0-9]{4}$') then\
    \ return false\n    if not date:match('^[0-9]{2}-[0-9]{2}-[0-9]{2}$') then return\
    \ false\n    if not date:match('^[0-9]{2}-[0-9]{2}-[0-9]{2}$') then return false\n\
    \    if not date:match('^[0-9]{2}-[0-9]{2}-[0-9]{2}$') then return false\n   \
    \ if not date:match('^[0-9]{2}-[0-9]{2}-[0-9]{2}$') then return false\n    if\
    \ not date:match('^[0-9]{2}-[0-9]{2}-[0-9]{2}$') then return false\n    if not\
    \ date:match('^[0-9]{2}-[0-9]{2}-[0-9]{2}$') then return false\n    if not date:match('^[0-9]{2}-[0-9]{2}-[0-9]{2}$')\
    \ then return false\n    if not date:match('^[0-9]{2}-[0-9]{2}-[0-9]{2}$') then\
    \ return false\n    if not date:match('^[0-9]{2}-[0-9]{2}-[0-9]{2}$') then return\
    \ false\n    if not date:match('^[0-9]{2}-[0-9]{2}-[0-9]{2}$') then return false\n\
    \    if not date:match('^[0-9]{2}-[0-9]{2}-[0-9]{2}$') then return false\n   \
    \ if not date:match('^[0-9]{2}-[0-9]{2}-[0-9]{2}$') then return false\n    if\
    \ not date:match('^[0", "    if not date or string.len(date) == 0 then\n     \
    \   return false\n    end\n    local month, day, year = string.match(date, '^([0-9]{1,2})-([0-9]{1,2})-([0-9]{4})$')\n\
    \    if not month or not day or not year then\n        return false\n    end\n\
    \    month = tonumber(month)\n    day = tonumber(day)\n    year = tonumber(year)\n\
    \    if month < 1 or month > 12 then\n        return false\n    end\n    if month\
    \ == 2 then\n        if not (day >= 1 and day <= 29) then\n            return\
    \ false\n        end\n    elseif month == 1 or month == 3 or month == 5 or month\
    \ == 7 or month == 8 or month == 10 or month == 12 then\n        if not (day >=\
    \ 1 and day <= 31) then\n            return false\n        end\n    elseif month\
    \ == 4 or month == 6 or month == 9 or month == 11 then\n        if not (day >=\
    \ 1 and day <= 30) then\n            return false\n        end\n    else\n   \
    \     return false\n    end\n    return true\nend", "    if not date then\n  \
    \      return false\n    end\n    local day, month, year = date:match('^(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])-(0[0-9]|[12][0-9]|3[01]|[12][0-9]|30|31)$')\n\
    \    if not day then\n        return false\n    end\n    if not month then\n \
    \       return false\n    end\n    if not year then\n        return false\n  \
    \  end\n    if month < 1 or month > 12 then\n        return false\n    end\n \
    \   if day < 1 or day > 31 then\n        return false\n    end\n    if month ==\
    \ 2 and day > 29 then\n        return false\n    end\n    return true\nend", " \
    \   if not date or string.len(date) < 1 or string.len(date) > 10 then\n      \
    \  return false\n    end\n    if string.sub(date, 1, 2) < 1 or string.sub(date,\
    \ 1, 2) > 12 then\n        return false\n    end\n    if string.sub(date, 3, 5)\
    \ < 1 or string.sub(date, 3, 5) > 12 then\n        return false\n    end\n   \
    \ if string.sub(date, 6, 8) < 1 or string.sub(date, 6, 8) > 31 then\n        return\
    \ false\n    end\n    if string.sub(date, 9, 11) < 1 or string.sub(date, 9, 11)\
    \ > 30 then\n        return false\n    end\n    if string.sub(date, 12, 14) <\
    \ 1 or string.sub(date, 12, 14) > 29 then\n        return false\n    end\n   \
    \ return true\nend", "    if not date or string.len(date) == 0 then\n        return\
    \ false\n    end\n    local month, day, year = string.match(date, '^([0-9]{1,2})-([0-9]{1,2})-([0-9]{4})$')\n\
    \    if not month or not day or not year then\n        return false\n    end\n\
    \    month = tonumber(month)\n    day = tonumber(day)\n    year = tonumber(year)\n\
    \    if month < 1 or month > 12 then\n        return false\n    end\n    if month\
    \ == 2 then\n        if not day or not (day >= 1 and day <= 29) then\n       \
    \     return false\n        end\n    elseif month == 1 or month == 3 or month\
    \ == 5 or month == 7 or month == 8 or month == 10 or month == 12 then\n      \
    \  if not day or not (day >= 1 and day <= 31) then\n            return false\n\
    \        end\n    elseif month == 4 or month == 6 or month == 9 or month == 11\
    \ then\n        if not day or not (day >= 1 and day <= 30) then\n            return\
    \ false\n        end\n    end\n    return true\nend", "    if not date then return\
    \ false\n    if not string.len(date) then return false\n    if not string.sub(date,1,3)\
    \ then return false\n    if not string.sub(date,4,6) then return false\n    if\
    \ not string.sub(date,7,10) then return false\n    if not string.sub(date,11,13)\
    \ then return false\n    if not string.sub(date,14,16) then return false\n   \
    \ if not string.sub(date,17,19) then return false\n    if not string.sub(date,20,22)\
    \ then return false\n    if not string.sub(date,23,25) then return false\n   \
    \ if not string.sub(date,26,28) then return false\n    if not string.sub(date,29,31)\
    \ then return false\n    if not string.sub(date,32,34) then return false\n   \
    \ if not string.sub(date,35,37) then return false\n    if not string.sub(date,38,40)\
    \ then return false\n    if not string.sub(date,41,43) then return false\n   \
    \ if not string.sub(date,44,46) then return false\n    if not string.sub(date,47,49)\
    \ then return false\n    if not string.sub(date,50,52) then return false\n   \
    \ if not string.sub(date,53,55) then return false\n    if not string.sub(date,56,58)\
    \ then return false\n    if not string.sub(date,59,61) then return false\n   \
    \ if not string.sub(date,62,64) then return false\n    if not string.sub(date,65,67)\
    \ then return false\n    if not string.sub(date,68,70) then return false\n   \
    \ if not string.sub(date,71,73) then return false\n    if not string.sub(date,74,76)\
    \ then return false\n    if not string.sub(date,77,79) then return false\n   \
    \ if not string.sub(date,80,82) then return false\n    if not string.sub(date,83,85)\
    \ then return false\n    if not string.sub(date,86,88) then return", "    if not\
    \ date or not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false\n    if not date:\n        return false\n\
    \    if not date:\n        return false", "    if not date or string.len(date)\
    \ < 1 or string.len(date) > 10 then\n        return false\n    end\n    if string.sub(date,\
    \ 1, 2) < 1 or string.sub(date, 1, 2) > 12 then\n        return false\n    end\n\
    \    if string.sub(date, 3, 5) < 1 or string.sub(date, 3, 5) > 12 then\n     \
    \   return false\n    end\n    if string.sub(date, 6, 8) < 1 or string.sub(date,\
    \ 6, 8) > 31 then\n        return false\n    end\n    if string.sub(date, 9, 11)\
    \ < 1 or string.sub(date, 9, 11) > 30 then\n        return false\n    end\n  \
    \  if string.sub(date, 12, 14) < 1 or string.sub(date, 12, 14) > 29 then\n   \
    \     return false\n    end\n    return true\nend", "    if not date or string.len(date)\
    \ == 0 then\n        return false\n    end\n    local month, day, year = string.match(date,\
    \ '^([0-9]{1,2})-([0-9]{1,2})-([0-9]{4})$')\n    if not month or not day or not\
    \ year then\n        return false\n    end\n    month = tonumber(month)\n    day\
    \ = tonumber(day)\n    year = tonumber(year)\n    if month < 1 or month > 12 then\n\
    \        return false\n    end\n    if month == 2 then\n        if not day or\
    \ not year or not (day < 1 or day > 29) then\n            return false\n     \
    \   end\n    elseif month == 4 or month == 6 or month == 9 or month == 11 then\n\
    \        if not day or not year or not (day < 1 or day > 30) then\n          \
    \  return false\n        end\n    elseif month == 1 or month == 3 or month ==\
    \ 5 or month == 7 or month == 8 or month == 10 or month == 12 then\n        if\
    \ not day or not year or not (day < 1 or day > 31) then\n            return false\n\
    \        end\n    end\n    return true\nend", "    if date ~= '' then\n      \
    \  if date:match('^([0-9]{1,2})-([0-9]{1,2})-([0-9]{4})$') then\n            return\
    \ true\n        end\n        return false\n    end\nend", "    if not date or\
    \ string.len(date) == 0 then\n        return false\n    end\n    local month,\
    \ day, year = string.match(date, '^([0-9]{1,2})-([0-9]{1,2})-([0-9]{4})$')\n \
    \   if not month or not day or not year then\n        return false\n    end\n\
    \    month = tonumber(month)\n    day = tonumber(day)\n    year = tonumber(year)\n\
    \    if month < 1 or month > 12 then\n        return false\n    end\n    if month\
    \ == 2 then\n        if day < 1 or day > 29 then\n            return false\n \
    \       end\n    elseif month == 4 or month == 6 or month == 9 or month == 11\
    \ then\n        if day < 1 or day > 30 then\n            return false\n      \
    \  end\n    elseif month == 1 or month == 3 or month == 5 or month == 7 or month\
    \ == 8 or month == 10 or month == 12 then\n        if day < 1 or day > 31 then\n\
    \            return false\n        end\n    end\n    return true\nend", "    if\
    \ not date then\n        return false\n    end\n    local month, day, year = string.match(date,\
    \ '^([0-9]{1,2})-([0-9]{1,2})-([0-9]{4})$')\n    if not month then\n        return\
    \ false\n    end\n    if not day then\n        return false\n    end\n    if not\
    \ year then\n        return false\n    end\n    if month < 1 or month > 12 then\n\
    \        return false\n    end\n    if day < 1 or day > 31 then\n        return\
    \ false\n    end\n    if month == 2 and day > 29 then\n        return false\n\
    \    end\n    if month == 1 or month == 3 or month == 5 or month == 7 or month\
    \ == 8 or month == 10 or month == 12 then\n        if day < 1 or day > 30 then\n\
    \            return false\n        end\n    end\n    return true\nend", "    if\
    \ not date or string.len(date) < 1 or string.len(date) > 10 then\n        return\
    \ false\n    end\n    if string.sub(date, 1, 2) < 1 or string.sub(date, 1, 2)\
    \ > 12 then\n        return false\n    end\n    if string.sub(date, 3, 5) < 1\
    \ or string.sub(date, 3, 5) > 12 then\n        return false\n    end\n    if string.sub(date,\
    \ 6, 8) < 1 or string.sub(date, 6, 8) > 31 then\n        return false\n    end\n\
    \    if string.sub(date, 9, 11) < 1 or string.sub(date, 9, 11) > 30 then\n   \
    \     return false\n    end\n    if string.sub(date, 12, 14) < 1 or string.sub(date,\
    \ 12, 14) > 29 then\n        return false\n    end\n    return true\nend", " \
    \   if date == '' then\n        return false\n    end\n    local month, day, year\
    \ = string.match(date, '^(0[1-9]|1[0-2])([-0-9]|[1-2][0-9]|3[0-1])([0-9]|[1-2][0-9]|3[0-1])($|[^0-9])')\n\
    \    if month == nil or day == nil or year == nil then\n        return false\n\
    \    end\n    local month_num = tonumber(month)\n    local day_num = tonumber(day)\n\
    \    local year_num = tonumber(year)\n    if month_num < 1 or month_num > 12 then\n\
    \        return false\n    end\n    if day_num < 1 or day_num > 31 then\n    \
    \    return false\n    end\n    if month_num == 2 then\n        if day_num < 1\
    \ or day_num > 29 then\n            return false\n        end\n    end\n    if\
    \ month_num == 1 or month_num == 3 or month_num == 5 or month_num == 7 or month_num\
    \ == 8 or month_num == 10 or month_num == 12 then\n        if day_num < 1 or day_num\
    \ > 30 then\n            return false\n        end\n    end\n    if month_num\
    \ == 4 or month_num == 6 or month_num == 9 or month_num == 11 then\n        if\
    \ day_num < 1 or day_num > 30 then\n            return false\n        end\n  \
    \  end\n    return true\nend"]
stop_tokens:
- "\nlocal"
- "\nfunction"
- "\n--"
- "\n\n"
