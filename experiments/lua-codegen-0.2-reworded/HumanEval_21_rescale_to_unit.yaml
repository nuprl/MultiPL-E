name: HumanEval_21_rescale_to_unit
language: lua
prompt: "-- Given table of numbers (of at least two elements), apply a linear transform\
  \ to that table,\n-- such that the smallest number will become 0 and the largest\
  \ will become 1\n-- >>> rescale_to_unit([1.0, 2.0, 3.0, 4.0, 5.0])\n-- [0.0, 0.25,\
  \ 0.5, 0.75, 1.0]\nlocal function rescale_to_unit(numbers)\n"
tests: "lu = require('luaunit')\n\nfunction test_humaneval()\nlocal candidate = rescale_to_unit\n\
  \    lu.assertEquals(candidate({2.0, 49.9}), {0.0, 1.0})\n    lu.assertEquals(candidate({100.0,\
  \ 49.9}), {1.0, 0.0})\n    lu.assertEquals(candidate({1.0, 2.0, 3.0, 4.0, 5.0}),\
  \ {0.0, 0.25, 0.5, 0.75, 1.0})\n    lu.assertEquals(candidate({2.0, 1.0, 5.0, 3.0,\
  \ 4.0}), {0.25, 0.0, 1.0, 0.5, 0.75})\n    lu.assertEquals(candidate({12.0, 11.0,\
  \ 15.0, 13.0, 14.0}), {0.25, 0.0, 1.0, 0.5, 0.75})\nend\n\nos.exit(lu.LuaUnit.run())"
completions: ["    local result = {}\n    for i = 1, #numbers, 1 do\n        result[i]\
    \ = numbers[i] - min(numbers)\n    end\n    return result\nend", "    local min\
    \ = math.inf\n    local max = -math.inf\n    for _,n in ipairs(numbers) do\n \
    \       min = math.min(min, n)\n        max = math.max(max, n)\n    end\n    if\
    \ max == -math.inf then\n        return numbers\n    end\n    return map(function(n)\
    \ return (n - min) / (max - min) end, numbers)\nend", "    local min = math.inf\n\
    \    local max = -math.inf\n    for _,n in ipairs(numbers) do\n        min = math.min(min,\
    \ n)\n        max = math.max(max, n)\n    end\n    return math.floor(min) .. \"\
    ,\" .. math.ceil(max)\nend", "    local min = math.inf\n    local max = -math.inf\n\
    \    for i = 1, #numbers, 1 do\n        min = math.min(min, numbers[i])\n    \
    \    max = math.max(max, numbers[i])\n    end\n    for i = 1, #numbers, 1 do\n\
    \        numbers[i] = (numbers[i] - min) / (max - min)\n    end\nend", "    local\
    \ min = math.inf\n    local max = -math.inf\n    for i=1,#                   \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                             ", "    local min = math.inf\n    local max = -math.inf\n\
    \    for i = 1, #numbers, 1 do\n        min = math.min(min, numbers[i])\n    \
    \    max = math.max(max, numbers[i])\n    end\n    for i = 1, #numbers, 1 do\n\
    \        numbers[i] = (numbers[i] - min) / (max - min)\n    end\nend", "    local\
    \ n = #numbers\n    local min = numbers[1]\n    local max = numbers[n]\n    for\
    \ i = 2, n do\n        min = math.min(min, numbers[i])\n        max = math.max(max,\
    \ numbers[i])\n    end\n    for i = 1, n do\n        numbers[i] = (numbers[i]\
    \ - min) / (max - min)\n    end\n    return numbers\nend", "    local max = math.max(...numbers)\n\
    \    local min = math.min(...numbers)\n    return math.floor((max - min) / (max\
    \ + min)) * (max + min) + min\nend", "    local min = math.inf\n    local max\
    \ = -math.inf\n    for i = 1, #numbers, 1 do\n        if numbers[i] < min then\
    \ min = numbers[i] end\n        if numbers[i] > max then max = numbers[i] end\n\
    \    end\n    if max == min then\n        return numbers\n    end\n    for i =\
    \ 1, #numbers, 1 do\n        numbers[i] = (numbers[i] - min) / (max - min)\n \
    \   end\n    return numbers\nend", "    local max = math.max(...numbers)\n   \
    \ local min = math.min(...numbers)\n    local scale = 1.0 / (max - min)\n    return\
    \ map(function(x) return x * scale - min }, numbers)\nend", "    local result\
    \ = {}\n    for i = 1, #numbers, 1 do\n        result[i] = numbers[i] / math.max(numbers[1],\
    \ numbers[#                                                                  \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                  ", "    local min = math.inf\n\
    \    local max = -math.inf\n    for i = 1, #numbers, 1 do\n        min = math.min(min,\
    \ numbers[i])\n        max = math.max(max, numbers[i])\n    end\n    for i = 1,\
    \ #numbers, 1 do\n        numbers[i] = (numbers[i] - min) / (max - min)\n    end\n\
    \    return numbers\nend", "    local min = math.inf\n    local max = -math.inf\n\
    \    for i = 1, #numbers, 1 do\n        min = math.min(min, numbers[i])\n    \
    \    max = math.max(max, numbers[i])\n    end\n    for i = 1, #numbers, 1 do\n\
    \        numbers[i] = (numbers[i] - min) / (max - min)\n    end\nend", "    local\
    \ n = #numbers\n    local min = numbers[1]\n    local max = numbers[n]\n    local\
    \ scale = 1.0 / (max - min)\n    return for i=1,n do numbers[i] *= scale end\n\
    end", "    local min = math.inf\n    local max = -math.inf\n    for i = 1, #numbers,\
    \ 1 do\n        min = math.min(min, numbers[i])\n        max = math.max(max, numbers[i])\n\
    \    end\n    for i = 1, #numbers, 1 do\n        numbers[i] = (numbers[i] - min)\
    \ / (max - min)\n    end\n    return numbers\nend", "    local min = math.inf\n\
    \    local max = -math.inf\n    for i = 1, #numbers, 2 do\n        min = math.min(min,\
    \ numbers[i])\n        max = math.max(max, numbers[i])\n    end\n    for i = 1,\
    \ #numbers, 2 do\n        numbers[i] = (numbers[i] - min) / (max - min)\n    end\n\
    \    return numbers\nend", "    local n = #numbers\n    local min = math.inf\n\
    \    local max = -math.inf\n    for i = 1, n, 1 do\n        min = math.min(min,\
    \ numbers[i])\n        max = math.max(max, numbers[i])\n    end\n    if max ==\
    \ -math.inf then\n        return numbers\n    end\n    local scale = 1.0 / (max\
    \ - min)\n    return for i = 1, n, 1 do\n        numbers[i] = (numbers[i] - min)\
    \ * scale\n    end\nend", "    local min = math.inf\n    local max = -math.inf\n\
    \    for i = 1, #numbers, 1 do\n        min = math.min(min, numbers[i])\n    \
    \    max = math.max(max, numbers[i])\n    end\n    for i = 1, #numbers, 1 do\n\
    \        numbers[i] = (numbers[i] - min) / (max - min)\n    end\n    return numbers\n\
    end", "    local min = math.inf\n    local max = -math.inf\n    for i = 1, #numbers,\
    \ 1 do\n        min = math.min(min, numbers[i])\n        max = math.max(max, numbers[i])\n\
    \    end\n    for i = 1, #numbers, 1 do\n        numbers[i] = (numbers[i] - min)\
    \ / (max - min)\n    end\n    return numbers\nend", "    local result = {}\n \
    \   for i=1,#                                                                \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \          "]
stop_tokens:
- "\nlocal"
- "\nfunction"
- "\n--"
- "\n\n"
