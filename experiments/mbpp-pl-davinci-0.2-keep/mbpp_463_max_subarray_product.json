{
  "name": "mbpp_463_max_subarray_product",
  "language": "pl",
  "prompt": "# Write a function to find the maximum product subarray of the given array.\nsub max_subarray_product {\n    my($arr) = @_;\n",
  "doctests": "keep",
  "original": "/home/arjun/repos/MultiPL-E/datasets/../datasets/mbpp-typed/mbpp_463_max_subarray_product.py",
  "prompt_terminology": "verbatim",
  "tests": "use Test::Deep;\n\n\nsub testhumaneval {\n    my $candidate = \\&max_subarray_product;\n        if(eq_deeply($candidate->([1, -2, -3, 0, 7, -8, -2]),112)) {\n        print \"ok!\" }else{\n        exit 1;\n        }\n        if(eq_deeply($candidate->([6, -3, -10, 0, 2]),180)) {\n        print \"ok!\" }else{\n        exit 1;\n        }\n        if(eq_deeply($candidate->([-2, -40, 0, -2, -3]),80)) {\n        print \"ok!\" }else{\n        exit 1;\n        }\n}\n\ntesthumaneval();",
  "stop_tokens": [
    "\nsub",
    "\n#",
    "\n\n"
  ],
  "completions": [
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_product = $arr->[0];",
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_ending_here = $arr->[0];\n    my $min_ending_here = $arr->[0];\n    my $max_product = $arr->[0];\n    for my $i (1 .. $#$arr) {\n        my $num = $arr->[$i];\n        if ($num > 0) {\n            $max_ending_here = $max_ending_here * $num;\n            $min_ending_here = $min_so_far * $num;\n        }\n        elsif ($num == 0) {\n            $max_ending_here = 0;\n            $min_ending_here = 0;\n        }\n        else {\n            $max_ending_here = $min_so_far * $num;\n            $min_ending_here = $max_so_far * $num;\n        }\n        $max_so_far = max($max_ending_here, $max_so_far);\n        $min_so_far = min($min_ending_here, $min_so_far);\n        $max_product = max($max_product, $max_so_far);\n    }\n    return $max_product;\n}",
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_product = $arr->[0];\n    for my $i (1 .. $#$arr) {\n        my $curr = $arr->[$i];\n        my $max_copy = $max_so_far;\n        $max_so_far = max($curr, $max_so_far * $curr, $min_so_far * $curr);\n        $min_so_far = min($curr, $max_copy * $curr, $min_so_far * $curr);\n        $max_product = max($max_product, $max_so_far);\n    }\n    return $max_product;\n}",
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_product = $arr->[0];\n    for (my $i = 1; $i < @$arr; $i++) {\n        my $curr = $arr->[$i];\n        my $max_candidate = max($curr, $max_so_far * $curr, $min_so_far * $curr);\n        my $min_candidate = min($curr, $max_so_far * $curr, $min_so_far * $curr);\n        $max_so_far = $max_candidate;\n        $min_so_far = $min_candidate;\n        $max_product = max($max_product, $max_so_far);\n    }\n    return $max_product;\n}",
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_product = $arr->[0];\n    for(my $i = 1; $i < scalar(@$arr); $i++) {\n        my $curr = $arr->[$i];\n        my $temp_max = $max_so_far;\n        $max_so_far = max($curr, $max_so_far * $curr, $min_so_far * $curr);\n        $min_so_far = min($curr, $temp_max * $curr, $min_so_far * $curr);\n        $max_product = max($max_product, $max_so_far);\n    }\n    return $max_product;\n}",
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_product = $arr->[0];\n    for my $i (1..$#$arr) {\n        my $curr = $arr->[$i];\n        my $max_temp = $max_so_far;\n        $max_so_far = max($curr, $max_so_far * $curr, $min_so_far * $curr);\n        $min_so_far = min($curr, $max_temp * $curr, $min_so_far * $curr);\n        $max_product = max($max_product, $max_so_far);\n    }\n    return $max_product;\n}",
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_product = $arr->[0];\n    for my $i (1 .. $#$arr) {\n        my $curr = $arr->[$i];\n        my $max_candidate = $max_so_far * $curr;\n        my $min_candidate = $min_so_far * $curr;\n        $max_so_far = max($curr, $max_candidate, $min_candidate);\n        $min_so_far = min($curr, $max_candidate, $min_candidate);\n        $max_product = max($max_product, $max_so_far);\n    }\n    return $max_product;\n}",
    "    my $max = $arr->[0];\n    my $min = $arr->[0];\n    my $max_so_far = $arr->[0];\n    for my $i (1..$#$arr) {\n        my $curr = $arr->[$i];\n        if ($curr < 0) {\n            ($max, $min) = ($min, $max);\n        }\n        $max = max($curr, $max * $curr);\n        $min = min($curr, $min * $curr);\n        $max_so_far = max($max_so_far, $max);\n    }\n    return $max_so_far;\n}",
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_product = $arr->[0];\n    for (my $i = 1; $i < scalar @$arr; $i++) {\n        my $curr = $arr->[$i];\n        my $temp_max = $max_so_far;\n        $max_so_far = max($curr, $curr * $max_so_far, $curr * $min_so_far);\n        $min_so_far = min($curr, $curr * $temp_max, $curr * $min_so_far);\n        $max_product = max($max_product, $max_so_far);\n    }\n    return $max_product;\n}",
    "    my $max_product = $arr->[0];\n    my $min_product = $arr->[0];\n    my $max_so_far = $arr->[0];\n    for my $i (1 .. $#$arr) {\n        my $curr = $arr->[$i];\n        my $temp_max = $max_product;\n        $max_product = max($curr, $max_product * $curr, $min_product * $curr);\n        $min_product = min($curr, $temp_max * $curr, $min_product * $curr);\n        $max_so_far = max($max_so_far, $max_product);\n    }\n    return $max_so_far;\n}",
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_product = $arr->[0];\n    for (my $i = 1; $i < @$arr; $i++) {\n        my $curr = $arr->[$i];\n        my $max_copy = $max_so_far;\n        $max_so_far = max($curr, $max_so_far * $curr, $min_so_far * $curr);\n        $min_so_far = min($curr, $max_copy * $curr, $min_so_far * $curr);\n        $max_product = max($max_product, $max_so_far);\n    }\n    return $max_product;\n}",
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_ending_here = $arr->[0];\n    my $min_ending_here = $arr->[0];\n    my $max_product = $arr->[0];\n    for my $i (1 .. $#$arr) {\n        $max_ending_here = max($arr->[$i], $max_ending_here * $arr->[$i], $min_ending_here * $arr->[$i]);\n        $min_ending_here = min($arr->[$i], $max_ending_here * $arr->[$i], $min_ending_here * $arr->[$i]);\n        $max_so_far = max($max_so_far, $max_ending_here);\n        $min_so_far = min($min_so_far, $min_ending_here);\n        $max_product = max($max_product, $max_so_far);\n    }\n    return $max_product;\n}",
    "    my $max_ending_here = 1;\n    my $min_ending_here = 1;\n    my $max_so_far = 1;\n    my $size = scalar(@$arr);\n    for (my $i = 0; $i < $size; $i++) {\n        if ($arr->[$i] > 0) {\n            $max_ending_here = $max_ending_here * $arr->[$i];\n            $min_ending_here = min($min_ending_here * $arr->[$i], 1);\n        }\n        elsif ($arr->[$i] == 0) {\n            $max_ending_here = 1;\n            $min_ending_here = 1;\n        }\n        else {\n            my $temp = $max_ending_here;\n            $max_ending_here = max($min_ending_here * $arr->[$i], 1);\n            $min_ending_here = $temp * $arr->[$i];\n        }\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n        }\n    }\n    return $max_so_far;\n}",
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_ending_here = $arr->[0];\n    my $min_ending_here = $arr->[0];\n    my $max_product = $arr->[0];\n    for my $i (1..$#$arr) {\n        $max_ending_here = max($arr->[$i], $max_ending_here * $arr->[$i], $min_ending_here * $arr->[$i]);\n        $min_ending_here = min($arr->[$i], $max_ending_here * $arr->[$i], $min_ending_here * $arr->[$i]);\n        $max_product = max($max_product, $max_ending_here);\n    }\n    return $max_product;\n}",
    "    my $max_ending_here = 1;\n    my $min_ending_here = 1;\n    my $max_so_far = 1;\n    for my $i (0 .. $#$arr) {\n        if ($arr->[$i] > 0) {\n            $max_ending_here *= $arr->[$i];\n            $min_ending_here = min($min_ending_here * $arr->[$i], 1);\n        }\n        elsif ($arr->[$i] == 0) {\n            $max_ending_here = 1;\n            $min_ending_here = 1;\n        }\n        else {\n            my $temp = $max_ending_here;\n            $max_ending_here = max($min_ending_here * $arr->[$i], 1);\n            $min_ending_here = $temp * $arr->[$i];\n        }\n        $max_so_far = max($max_so_far, $max_ending_here);\n    }\n    return $max_so_far;\n}",
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_ending_here = $arr->[0];\n    my $min_ending_here = $arr->[0];\n    my $max_product = $arr->[0];\n    for my $i (1..$#$arr) {\n        $max_ending_here = max($arr->[$i], $max_ending_here * $arr->[$i], $min_ending_here * $arr->[$i]);\n        $min_ending_here = min($arr->[$i], $max_ending_here * $arr->[$i], $min_ending_here * $arr->[$i]);\n        $max_product = max($max_product, $max_ending_here);\n    }\n    return $max_product;\n}",
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_ending_here = $arr->[0];\n    my $min_ending_here = $arr->[0];\n    my $max_product = $arr->[0];\n    for (my $i = 1; $i < scalar @$arr; $i++) {\n        if ($arr->[$i] > 0) {\n            $max_ending_here = max($max_ending_here * $arr->[$i], $arr->[$i]);\n            $min_ending_here = min($min_ending_here * $arr->[$i], $arr->[$i]);\n        } else {\n            $max_ending_here = max($min_ending_here * $arr->[$i], $arr->[$i]);\n            $min_ending_here = min($max_ending_here * $arr->[$i], $arr->[$i]);\n        }\n        $max_product = max($max_product, $max_ending_here);\n    }\n    return $max_product;\n}",
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_product = $arr->[0];\n    for my $i (1..$#$arr) {\n        my $curr = $arr->[$i];\n        my $max_copy = $max_so_far;\n        $max_so_far = max($curr, $max_so_far * $curr, $min_so_far * $curr);\n        $min_so_far = min($curr, $max_copy * $curr, $min_so_far * $curr);\n        $max_product = max($max_product, $max_so_far);\n    }\n    return $max_product;\n}",
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_ending_here = $arr->[0];\n    my $min_ending_here = $arr->[0];\n    my $max_product = $arr->[0];\n    for my $i (1..$#$arr) {\n        $max_ending_here = max($arr->[$i], $max_ending_here * $arr->[$i], $min_ending_here * $arr->[$i]);\n        $min_ending_here = min($arr->[$i], $max_ending_here * $arr->[$i], $min_ending_here * $arr->[$i]);\n        $max_product = max($max_product, $max_ending_here);\n    }\n    return $max_product;\n}",
    "    my $max_so_far = $arr->[0];\n    my $min_so_far = $arr->[0];\n    my $max_ending_here = $arr->[0];\n    my $min_ending_here = $arr->[0];\n    my $max_product = $arr->[0];\n    for my $i (1..$#$arr) {\n        $max_ending_here = max($arr->[$i], $max_ending_here * $arr->[$i], $min_ending_here * $arr->[$i]);\n        $min_ending_here = min($arr->[$i], $max_ending_here * $arr->[$i], $min_ending_here * $arr->[$i]);\n        $max_so_far = max($max_so_far, $max_ending_here);\n        $min_so_far = min($min_so_far, $min_ending_here);\n        $max_product = max($max_product, $max_so_far);\n    }\n    return $max_product;\n}"
  ]
}