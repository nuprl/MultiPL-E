{
  "name": "mbpp_286_max_sub_array_sum_repeated",
  "language": "pl",
  "prompt": "# Write a function to find the largest sum of a contiguous array in the modified array which is formed by repeating the given array k times.\nsub max_sub_array_sum_repeated {\n    my($a, $n, $k) = @_;\n",
  "doctests": "keep",
  "original": "/home/arjun/repos/MultiPL-E/datasets/../datasets/mbpp-typed/mbpp_286_max_sub_array_sum_repeated.py",
  "prompt_terminology": "verbatim",
  "tests": "use Test::Deep;\n\n\nsub testhumaneval {\n    my $candidate = \\&max_sub_array_sum_repeated;\n        if(eq_deeply($candidate->([10, 20, -30, -1], 4, 3),30)) {\n        print \"ok!\" }else{\n        exit 1;\n        }\n        if(eq_deeply($candidate->([-1, 10, 20], 3, 2),59)) {\n        print \"ok!\" }else{\n        exit 1;\n        }\n        if(eq_deeply($candidate->([-1, -2, -3], 3, 3),-1)) {\n        print \"ok!\" }else{\n        exit 1;\n        }\n}\n\ntesthumaneval();",
  "stop_tokens": [
    "\nsub",
    "\n#",
    "\n\n"
  ],
  "completions": [
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;\n    my $i = 0;\n    my $j = 0;\n    my $size = scalar @$a;\n    for (my $i = 0; $i < $size; $i++) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($a->[$i] > $max_val) {\n            $max_val = $a->[$i];\n        }\n        if ($a->[$i] < $min_val) {\n            $min_val = $a->[$i];\n        }\n    }\n    if ($max_val < 0) {\n        return $max_val;\n    }\n    if ($max_sum == 0) {\n        return $max_val;\n    }\n    my $sum = 0;\n    for (my $i = 0; $i < $size; $i++) {\n        $sum += $a->[$i];\n    }\n    my $suffix_sum = 0;\n    my $prefix_sum = 0;\n    for (my $i = 0; $i < $size; $i++) {\n        $suffix_sum += $a->[$i];\n        $prefix_sum += $a->[$size - $i - 1];\n        $curr_sum = $suffix_sum + ($prefix_sum - $a->[$size - $i - 1]) * ($k - 2);\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    for (my $i = 0; $i < $n * $k; $i++) {\n        $max_ending_here = $max_ending_here + $a->[$i % $n];\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n            $s = $i + 1;\n        }\n    }\n    for (my $i = $start; $i <= $end; $i++) {\n        $curr_sum = $curr_sum + $a->[$i % $n];\n    }\n    $max_sum = $curr_sum;\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        $max_sum += $a->[$i];\n        $curr_val += $a->[$i];\n        $max_val = $curr_val if $curr_val > $max_val;\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($k == 1) {\n        return $max_val;\n    }\n    my $suffix_sum = 0;\n    my $prefix_sum = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $suffix_sum += $a->[$i];\n        $prefix_sum += $a->[$n - $i - 1];\n        $max_sum = max($max_sum, $suffix_sum);\n        $max_sum = max($max_sum, $prefix_sum);\n        $max_sum = max($max_sum, $suffix_sum + $prefix_sum);\n    }\n    return max($max_sum, $max_val * $k);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $max_start_index = 0;\n    my $max_end_index = 0;\n    my $max_start_index_so_far = 0;\n    my $max_end_index_so_far = 0;\n    my $max_start_so_far = 0;\n    my $max_end_so_far = 0;\n    my $max_start_index_ending_here = 0;\n    my $max_end_index_ending_here = 0;\n    my $max_start_ending_here = 0;\n    my $max_end_ending_here = 0;\n    my $max_start_index_ending_here_temp = 0;\n    my $max_end_index_ending_here_temp = 0;\n    my $max_start_ending_here_temp = 0;\n    my $max_end_ending_here_temp = 0;\n    my $max_start_index_so_far_temp = 0;\n    my $max_end_index_so_far_temp = 0;\n    my $max_start_so_far_temp = 0;\n    my $max_end_so_far_temp = 0;\n    my $max_start_index_temp = 0;\n    my $max_end_index_temp = 0;\n    my $max_start_temp = 0;\n    my $max_end_temp = 0;\n    my $max_start_index_ending_here_temp_temp = 0;\n    my $max_end_index_ending_here_temp_temp = 0;\n    my $max_start_ending_here_temp_temp = 0;\n    my $max_end_ending_here_temp_temp = 0",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $m = 0;\n    my $len = 0;\n    my $sum = 0;\n    my $max_sum_k = 0;\n    my $max_sum_k_index = 0;\n    my $max_sum_k_len = 0;\n    my $max_sum_k_start = 0;\n    my $max_sum_k_end = 0;\n    my $max_sum_k_start_index = 0;\n    my $max_sum_k_end_index = 0;\n    my $max_sum_k_start_index_temp = 0;\n    my $max_sum_k_end_index_temp = 0;\n    my $max_sum_k_start_index_temp_2 = 0;\n    my $max_sum_k_end_index_temp_2 = 0;\n    my $max_sum_k_start_index_temp_3 = 0;\n    my $max_sum_k_end_index_temp_3 = 0;\n    my $max_sum_k_start_index_temp_4 = 0;\n    my $max_sum_k_end_index_temp_4 = 0;\n    my $max_sum_k_start_index_temp_5 = 0;\n    my $max_sum_k_end_index_temp_5 = 0;\n    my $max_sum_k_start_index_temp_6 = 0;\n    my $max_sum_k_end_index_temp_6 = 0;\n    my $max_sum_k_start_index_temp_7 = 0;\n    my $max_sum_k_end_index_temp_7 = 0;\n    my $max_sum_k_start_index_temp_8 = 0;\n    my $max_sum_k_end_index_temp_8 = 0;\n    my $max_sum_k_start",
    "\n    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $e = 0;\n    while ($i < $n * $k) {\n        $curr_sum += $a->[$j];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $start = $s;\n            $end = $e;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n            $s = $i;\n        }\n        $j++;\n        $e = $j;\n        if ($j == $n) {\n            $j = 0;\n        }\n        $i++;\n    }\n    return ($max_sum, $start, $end);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_sum += $a->[$i];\n        $curr_val += $a->[$i];\n        $max_val = $curr_val if $curr_val > $max_val;\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $suffix_sum = 0;\n    my $prefix_sum = 0;\n    for my $i (0..$n-1) {\n        $suffix_sum += $a->[$i];\n        $prefix_sum += $a->[$n-1-$i];\n        $max_sum = max($max_sum, $suffix_sum);\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    my $total_sum = 0;\n    for my $i (0..$n-1) {\n        $total_sum += $a->[$i];\n    }\n    if ($total_sum > 0) {\n        return max($max_sum, $total_sum * ($k-2) + $max_val);\n    } else {\n        return $max_sum;\n    }\n}",
    "    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_element = max(@$a);\n    my $sum = sum(@$a);\n    my $max_sum = $max_element * $k;\n    my $i;\n    for ($i = 0; $i < $n; $i++) {\n        $max_ending_here += $a->[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n        }\n    }\n    if ($max_so_far == 0) {\n        return $max_element;\n    }\n    my $circular_sum = $max_so_far;\n    $max_so_far = 0;\n    $max_ending_here = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_ending_here += $a->[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n        }\n    }\n    return max($max_sum, $circular_sum + ($k - 2) * $sum + $max_so_far);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_sum_so_far = 0;\n    my $max_sum_ending_here = 0;\n    my $max_sum_ending_here_prev = 0;\n    my $max_sum_ending_here_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $curr_start = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $curr_end = 0;\n    my $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        $curr_start = 0;\n        $curr_end = 0;\n        for (my $j = 0; $j < $n; $j++) {\n            $curr_sum += $a->[$j];\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n                $curr_start = $j + 1;\n            }\n            elsif ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n                $max_start = $curr_start;\n                $max_end = $j;\n            }\n        }\n        $i++;\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_sum_so_far = 0;\n    my $max_sum_ending_here = 0;\n    my $max_sum_ending_here_prev = 0;\n    my $max_sum_ending_here_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev",
    "    my $max_sum = -1e9;\n    my $curr_sum = 0;\n    my $prefix_sum = 0;\n    my $suffix_sum = 0;\n    my $max_prefix_sum = -1e9;\n    my $max_suffix_sum = -1e9;\n    my $min_prefix_sum = 1e9;\n    my $min_suffix_sum = 1e9;\n    for (my $i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $max_sum = max($max_sum, $curr_sum - $min_prefix_sum);\n        $min_prefix_sum = min($min_prefix_sum, $curr_sum);\n        $prefix_sum += $a->[$i];\n    }\n    $curr_sum = 0;\n    for (my $i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a->[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $max_sum = max($max_sum, $curr_sum - $min_suffix_sum);\n        $min_suffix_sum = min($min_suffix_sum, $curr_sum);\n        $suffix_sum += $a->[$i];\n    }\n    if ($k > 2) {\n        $max_sum = max($max_sum, $prefix_sum + ($k - 2) * $suffix_sum);\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for my $j (0 .. $n - 1) {\n            $curr_sum += $a->[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n        }\n        $i++;\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $i = 0;\n    my $j = 0;\n    my $sum = 0;\n    my $max_sum_index = 0;\n    my $max_sum_index_start = 0;\n    my $max_sum_index_end = 0;\n    my $max_sum_index_start_temp = 0;\n    my $max_sum_index_end_temp = 0;\n    my $max_sum_index_temp = 0;\n    my $max_sum_index_start_temp_2 = 0;\n    my $max_sum_index_end_temp_2 = 0;\n    my $max_sum_index_temp_2 = 0;\n    my $max_sum_index_start_temp_3 = 0;\n    my $max_sum_index_end_temp_3 = 0;\n    my $max_sum_index_temp_3 = 0;\n    my $max_sum_index_start_temp_4 = 0;\n    my $max_sum_index_end_temp_4 = 0;\n    my $max_sum_index_temp_4 = 0;\n    my $max_sum_index_start_temp_5 = 0;\n    my $max_sum_index_end_temp_5 = 0;\n    my $max_sum_index_temp_5 = 0;\n    my $max_sum_index_start_temp_6 = 0;\n    my $max_sum_index_end_temp_6 = 0;\n    my $max_sum_index_temp_6 = 0;\n    my $max_sum_index_start_temp_7 = 0;\n    my $max_sum_index_end_temp_7 = 0;\n    my $max_sum_index_temp_7 = 0;\n    my $max_sum_index_start_temp_8 = 0;\n    my",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    my $i = 0;\n    my $j = 0;\n    my $size = scalar(@$a);\n    my $sum = 0;\n    for (my $i = 0; $i < $size; $i++) {\n        $sum += $a->[$i];\n        $max_val = max($max_val, $a->[$i]);\n    }\n    if ($max_val < 0) {\n        return $max_val * $k;\n    }\n    for (my $i = 0; $i < $size; $i++) {\n        $curr_sum += $a->[$i];\n        $curr_val = max($curr_val, $curr_sum);\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_sum = $curr_val;\n    $max_sum += ($sum * ($k - 2));\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $max_val = max($max_val, $a->[$i]);\n        $min_val = min($min_val, $a->[$i]);\n        $curr_sum += $a->[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $array_sum = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $array_sum += $a->[$i];\n    }\n    if ($array_sum > 0) {\n        return max($max_sum, $array_sum * ($k - 2) + $max_sum);\n    }\n    if ($array_sum == 0) {\n        return max($max_sum, $max_val);\n    }\n    return max($max_sum, $array_sum * ($k - 2) + $max_sum);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_i = 0;\n    my $max_j = 0;\n    my $max_len = 0;\n    my $curr_len = 0;\n    my $max_ele = 0;\n    my $max_ele_index = 0;\n    my $curr_ele = 0;\n    my $curr_ele_index = 0;\n    my $max_ele_sum = 0;\n    my $curr_ele_sum = 0;\n    my $max_ele_sum_index = 0;\n    my $curr_ele_sum_index = 0;\n    my $max_ele_sum_len = 0;\n    my $curr_ele_sum_len = 0;\n    my $max_ele_sum_i = 0;\n    my $max_ele_sum_j = 0;\n    my $curr_ele_sum_i = 0;\n    my $curr_ele_sum_j = 0;\n    my $max_ele_sum_k = 0;\n    my $curr_ele_sum_k = 0;\n    my $max_ele_sum_k_index = 0;\n    my $curr_ele_sum_k_index = 0;\n    my $max_ele_sum_k_len = 0;\n    my $curr_ele_sum_k_len = 0;\n    my $max_ele_sum_k_i = 0;\n    my $max_ele_sum_k_j = 0;\n    my $curr_ele_sum_k_i = 0;\n    my $curr_ele_sum_k_j = 0;\n    my $max_ele_sum_k_k = 0;\n    my $curr_ele_sum_k_k = 0;\n    my $max_ele_sum_k_k_index = 0;\n    my $curr_ele_sum_k_k_index = 0;\n    my $max_ele_sum_k_k_len =",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_i = 0;\n    my $max_j = 0;\n    my $max_len = 0;\n    my $curr_len = 0;\n    my $max_sum_i = 0;\n    my $max_sum_j = 0;\n    my $max_sum_len = 0;\n    while ($i < $n) {\n        $curr_sum += $a->[$i];\n        $curr_len++;\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $max_sum_i = $i - $curr_len + 1;\n            $max_sum_j = $i;\n            $max_sum_len = $curr_len;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n            $curr_len = 0;\n        }\n        $i++;\n    }\n    $max_sum *= $k;\n    $max_sum_len *= $k;\n    $i = 0;\n    $j = 0;\n    $curr_sum = 0;\n    $curr_len = 0;\n    while ($i < $n) {\n        $curr_sum += $a->[$i];\n        $curr_len++;\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $max_i = $i - $curr_len + 1;\n            $max_j = $i;\n            $max_len = $curr_len;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n            $curr_len = 0;\n        }\n        $i++;\n    }\n    if ($max_sum_i <= $max_i && $max_sum_j >= $max_j) {\n        $max_sum_len = $",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $e = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $max_so_far_start = 0;\n    my $max_so_far_end = 0;\n    my $max_so_far_sum = 0;\n    my $max_sum_start = 0;\n    my $max_sum_end = 0;\n    my $max_sum_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_start = 0;\n    my $max_sum_curr_end = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my $max_sum_curr_sum = 0;\n    my",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    my $i = 0;\n    my $j = 0;\n    my $l = 0;\n    my $r = 0;\n    my $m = 0;\n    my $s = 0;\n    my $e = 0;\n    my $max_end = 0;\n    my $max_start = 0;\n    my $curr_start = 0;\n    my $curr_end = 0;\n    my $curr_max_sum = 0;\n    my $curr_max_start = 0;\n    my $curr_max_end = 0;\n    my $curr_max_val = 0;\n    my $curr_max_sum_start = 0;\n    my $curr_max_sum_end = 0;\n    my $curr_max_sum_val = 0;\n    my $curr_max_sum_start_val = 0;\n    my $curr_max_sum_end_val = 0;\n    my $curr_max_sum_start_val_index = 0;\n    my $curr_max_sum_end_val_index = 0;\n    my $curr_max_sum_start_index = 0;\n    my $curr_max_sum_end_index = 0;\n    my $curr_max_sum_index = 0;\n    my $curr_max_sum_start_index_val = 0;\n    my $curr_max_sum_end_index_val = 0;\n    my $curr_max_sum_index_val = 0;\n    my $curr_max_sum_index_val_start = 0;\n    my $curr_max_sum_index_val_end = 0;\n    my $curr_max_sum_index_val_start_index = 0;\n    my $curr_max_sum_index_val_end_index = 0;\n    my $curr_max_sum_index_val_start_index_",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $i;\n    for($i = 0; $i < $n; $i++) {\n        $max_ending_here += $a->[$i];\n        if($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if($max_sum < $max_ending_here) {\n            $max_sum = $max_ending_here;\n        }\n    }\n    my $sum = 0;\n    for($i = 0; $i < $n; $i++) {\n        $sum += $a->[$i];\n        $a->[$i] = -$a->[$i];\n    }\n    $curr_sum = 0;\n    $max_ending_here = 0;\n    for($i = 0; $i < $n; $i++) {\n        $max_ending_here += $a->[$i];\n        if($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if($curr_sum < $max_ending_here) {\n            $curr_sum = $max_ending_here;\n        }\n    }\n    $curr_sum = $curr_sum + $sum;\n    if($curr_sum > $max_sum) {\n        $max_sum = $curr_sum;\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_sum_i = 0;\n    my $max_sum_j = 0;\n    my $max_sum_i_end = 0;\n    my $max_sum_j_end = 0;\n    my $max_sum_i_start = 0;\n    my $max_sum_j_start = 0;\n    my $max_sum_i_start_end = 0;\n    my $max_sum_j_start_end = 0;\n    my $max_sum_i_end_start = 0;\n    my $max_sum_j_end_start = 0;\n    my $max_sum_i_end_start_end = 0;\n    my $max_sum_j_end_start_end = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_sum += $a->[$i];\n        $curr_val += $a->[$i];\n        $max_val = $curr_val if $curr_val > $max_val;\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($k == 1) {\n        return $max_val;\n    }\n    my $suffix_sum = 0;\n    my $prefix_sum = 0;\n    for my $i (0..$n-1) {\n        $suffix_sum += $a->[$i];\n        $prefix_sum += $a->[$n-$i-1];\n        $max_sum = max($max_sum, $suffix_sum);\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    return max($max_sum, ($max_sum + ($k-2) * $curr_val));\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    my $i = 0;\n    while ($i < $n) {\n        $curr_sum += $a->[$i];\n        $curr_val += $a->[$i];\n        if ($curr_val > $max_val) {\n            $max_val = $curr_val;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        $i++;\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $prefix_sum = 0;\n    my $suffix_sum = 0;\n    $i = 0;\n    while ($i < $n) {\n        $prefix_sum += $a->[$i];\n        $i++;\n    }\n    $i = $n - 1;\n    while ($i >= 0) {\n        $suffix_sum += $a->[$i];\n        $i--;\n    }\n    my $total_sum = $prefix_sum;\n    my $ans = $max_sum;\n    if ($total_sum > 0) {\n        $ans = max($ans, $suffix_sum + $prefix_sum * ($k - 2) + $max_sum);\n    }\n    else {\n        $ans = max($ans, $max_val);\n    }\n    return $ans;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $e = 0;\n    my $max_sum_k = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = $a->[0];\n    for my $i (0 .. $n - 1) {\n        $max_val = max($max_val, $a->[$i]);\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return $max_val;\n    }\n    my $max_prefix_sum = 0;\n    my $max_suffix_sum = 0;\n    my $curr_prefix_sum = 0;\n    my $curr_suffix_sum = 0;\n    for my $i (0 .. $n - 1) {\n        $curr_prefix_sum += $a->[$i];\n        $max_prefix_sum = max($max_prefix_sum, $curr_prefix_sum);\n    }\n    for my $i (reverse 0 .. $n - 1) {\n        $curr_suffix_sum += $a->[$i];\n        $max_suffix_sum = max($max_suffix_sum, $curr_suffix_sum);\n    }\n    my $total_sum = 0;\n    for my $i (0 .. $n - 1) {\n        $total_sum += $a->[$i];\n    }\n    return max($max_sum, $max_prefix_sum + $max_suffix_sum + ($k - 2) * $total_sum);\n}",
    "    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_subarray_sum = 0;\n    my $max_subarray_sum_k = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_subarray_sum_k_index = 0;\n    my $max_subarray_sum_index = 0;\n    my $max_subarray_sum_end_index = 0;\n    my $max_subarray_sum_k_end_index = 0;\n    my $max_subarray_sum_k_start_index = 0;\n    my $max_subarray_sum_start_index = 0;\n    my $max_subarray_sum_k_start_index_temp = 0;\n    my $max_subarray_sum_start_index_temp = 0;\n    my $max_subarray_sum_k_end_index_temp = 0;\n    my $max_subarray_sum_end_index_temp = 0;\n    my $max_subarray_sum_k_temp = 0;\n    my $max_subarray_sum_temp = 0;\n    my $max_subarray_sum_k_index_temp = 0;\n    my $max_subarray_sum_index_temp = 0;\n    my $max_subarray_sum_k_start_index_temp_temp = 0;\n    my $max_subarray_sum_start_index_temp_temp = 0;\n    my $max_subarray_sum_k_end_index_temp_temp = 0;\n    my $max_subarray_sum_end_index_temp_temp = 0;\n    my $max_subarray_sum_k_temp_temp = 0;\n    my $max_subarray_sum_temp_temp = 0;\n    my $max_subarray_sum_k_index_temp_temp = 0;\n    my $max_subarray_sum_index_temp_temp = 0;\n    my $max_subarray_sum_k_start_index_temp_temp_temp = 0;\n    my",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $curr_sum_2 = 0;\n    my $max_sum_2 = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    for (my $i = 0; $i < $n; $i++) {\n        $curr_sum_2 += $a->[$i];\n        $max_sum_2 = max($max_sum_2, $curr_sum_2);\n        if ($curr_sum_2 > 0) {\n            $curr_sum_2 = 0;\n        }\n    }\n    my $total_sum = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $total_sum += $a->[$i];\n    }\n    if ($total_sum > 0) {\n        return max($max_sum, $total_sum * ($k - 2) + $max_sum_2);\n    } else {\n        return max($max_sum, $max_sum_2);\n    }\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    for my $i (0..$n-1) {\n        $max_ending_here = $max_ending_here + $a->[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($max_sum < $max_ending_here) {\n            $max_sum = $max_ending_here;\n        }\n        $curr_sum = $curr_sum + $a->[$i];\n    }\n    if ($curr_sum > 0) {\n        return max($max_sum, $curr_sum * ($k - 2) + $max_sum);\n    }\n    else {\n        return max($max_sum, $max_sum * $k);\n    }\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    while ($i < $k) {\n        $max_ending_here = 0;\n        $max_so_far = 0;\n        $j = 0;\n        while ($j < $n) {\n            $max_ending_here = $max_ending_here + $a->[$j];\n            if ($max_ending_here < 0) {\n                $max_ending_here = 0;\n            }\n            if ($max_so_far < $max_ending_here) {\n                $max_so_far = $max_ending_here;\n            }\n            $j++;\n        }\n        $curr_sum = $curr_sum + $max_so_far;\n        $i++;\n    }\n    $max_sum = $curr_sum;\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    my $i = 0;\n    while ($i < $n) {\n        $curr_sum += $a->[$i];\n        $curr_val += $a->[$i];\n        if ($curr_val < 0) {\n            $curr_val = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_val > $max_val) {\n            $max_val = $curr_val;\n        }\n        $i++;\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $prefix_sum = 0;\n    my $suffix_sum = 0;\n    $i = 0;\n    while ($i < $n) {\n        $prefix_sum += $a->[$i];\n        $i++;\n    }\n    $i = $n - 1;\n    while ($i >= 0) {\n        $suffix_sum += $a->[$i];\n        $i--;\n    }\n    my $ans = $prefix_sum + ($k - 2) * $max_val + $suffix_sum;\n    return $ans;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $e = 0;\n    my $len = 0;\n    my $max_len = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $max_s = 0;\n    my $max_e = 0;\n    my $max_len_so_far = 0;\n    my $max_start_so_far = 0;\n    my $max_end_so_far = 0;\n    my $max_s_so_far = 0;\n    my $max_e_so_far = 0;\n    my $curr_len = 0;\n    my $curr_start = 0;\n    my $curr_end = 0;\n    my $curr_s = 0;\n    my $curr_e = 0;\n    my $curr_len_so_far = 0;\n    my $curr_start_so_far = 0;\n    my $curr_end_so_far = 0;\n    my $curr_s_so_far = 0;\n    my $curr_e_so_far = 0;\n    my $max_sum_so_far_k = 0;\n    my $max_len_so_far_k = 0;\n    my $max_start_so_far_k = 0;\n    my $max_end_so_far_k = 0;\n    my $max_s_so_far_k = 0;\n    my $max_e_so_far_k = 0;\n    my $curr_len_so_far_k = 0;\n    my $curr_start_so_far_k = 0;\n    my $curr_end_so_far_k = 0;\n    my $curr_s_so_far_k = 0;\n    my $curr_",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $sum = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $sum += $a->[$i];\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($sum > 0) {\n        return max($max_sum, $sum * ($k - 2) + $max_sum);\n    }\n    return max($max_sum, $max_sum * $k);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_wrap_sum = 0;\n    my $curr_wrap_sum = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $sum_arr = 0;\n    for my $i (0 .. $n - 1) {\n        $sum_arr += $a->[$i];\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $max_wrap = $sum_arr + max_sub_array_sum_repeated($a, $n, $k - 2);\n    return max($max_sum, $max_wrap);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    my $i = 0;\n    my $j = 0;\n    my $l = 0;\n    my $r = 0;\n    my $m = 0;\n    my $s = 0;\n    my $e = 0;\n    my $sum = 0;\n    my $len = 0;\n    my $max_len = 0;\n    my $max_index = 0;\n    my $max_index_sum = 0;\n    my $max_index_len = 0;\n    my $max_index_sum_len = 0;\n    my $max_index_sum_len_index = 0;\n    my $max_index_sum_len_index_sum = 0;\n    my $max_index_sum_len_index_len = 0;\n    my $max_index_sum_len_index_sum_len = 0;\n    my $max_index_sum_len_index_sum_len_index = 0;\n    my $max_index_sum_len_index_sum_len_index_sum = 0;\n    my $max_index_sum_len_index_sum_len_index_len = 0;\n    my $max_index_sum_len_index_sum_len_index_sum_len = 0;\n    my $max_index_sum_len_index_sum_len_index_sum_len_index = 0;\n    my $max_index_sum_len_index_sum_len_index_sum_len_index_sum = 0;\n    my $max_index_sum_len_index_sum_len_index_sum_len_index_len = 0;\n    my $max_index_sum_len_index_sum_len_index_sum_len_index_sum_len = 0;\n    my $max_index_sum_len_index_sum_len_index_sum_len_index_sum_len_index = 0;\n    my $max_index_sum_len_index_sum_len_",
    "    my $sum = 0;\n    my $max_sum = 0;\n    my $max_sum_so_far = 0;\n    my $max_element = 0;\n    my $min_sum = 0;\n    my $i;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a->[$i];\n        if ($sum > $max_sum) {\n            $max_sum = $sum;\n        }\n        if ($sum < $min_sum) {\n            $min_sum = $sum;\n        }\n        if ($a->[$i] > $max_element) {\n            $max_element = $a->[$i];\n        }\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    $max_sum_so_far = $sum;\n    for ($i = 1; $i < $k; $i++) {\n        $max_sum_so_far += $sum;\n        if ($max_sum_so_far > $max_sum) {\n            $max_sum = $max_sum_so_far;\n        }\n    }\n    if ($sum < 0) {\n        return $max_sum;\n    }\n    return $max_sum > ($sum * $k) ? $max_sum : ($sum * $k);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_i = 0;\n    my $max_j = 0;\n    while ($i < $n) {\n        while ($j < $n) {\n            $curr_sum += $a->[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n                $max_i = $i;\n                $max_j = $j;\n            }\n            $j++;\n        }\n        $curr_sum = 0;\n        $i++;\n        $j = $i;\n    }\n    return $max_sum * $k - sum_array($a, $max_i, $max_j) * ($k - 1);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    for (my $i = 0; $i < $n * $k; $i++) {\n        $max_ending_here = $max_ending_here + $a->[$i % $n];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($curr_sum < $max_ending_here) {\n            $curr_sum = $max_ending_here;\n        }\n    }\n    return $curr_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    my $j = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        $j = 0;\n        while ($j < $n) {\n            $curr_sum += $a->[$j];\n            $max_sum = max($max_sum, $curr_sum);\n            $curr_sum = max(0, $curr_sum);\n            $j++;\n        }\n        $i++;\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $e = 0;\n    my $max_sum_index = 0;\n    my $max_sum_index_so_far = 0;\n    my $max_sum_index_start = 0;\n    my $max_sum_index_end = 0;\n    my $max_sum_index_start_so_far = 0;\n    my $max_sum_index_end_so_far = 0;\n    my $max_sum_index_start_temp = 0;\n    my $max_sum_index_end_temp = 0;\n    my $max_sum_index_temp = 0;\n    my $max_sum_index_so_far_temp = 0;\n    my $max_sum_index_start_so_far_temp = 0;\n    my $max_sum_index_end_so_far_temp = 0;\n    my $max_sum_index_start_temp_temp = 0;\n    my $max_sum_index_end_temp_temp = 0;\n    my $max_sum_index_temp_temp = 0;\n    my $max_sum_index_so_far_temp_temp = 0;\n    my $max_sum_index_start_so_far_temp_temp = 0;\n    my $max_sum_index_end_so_far_temp_temp = 0;\n    my $max_sum_index_start_temp_temp_temp = 0;\n    my $max_sum_index_end_temp_temp_temp = 0;\n    my $max_sum_index_temp_temp_temp = 0;\n    my $max_sum_index_so_far_temp_temp_temp = 0;\n    my $max_sum_index_start_so_far_temp_temp_temp = 0;\n    my $max_sum_index_end_so",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_end = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    for my $i (0 .. $n - 1) {\n        $max_end += $a->[$i];\n        if ($max_end < 0) {\n            $max_end = 0;\n            $s = $i + 1;\n        }\n        elsif ($max_end > $max_sum) {\n            $max_sum = $max_end;\n            $start = $s;\n            $end = $i;\n        }\n    }\n    for my $i ($start .. $end) {\n        $curr_sum += $a->[$i];\n    }\n    $curr_sum = $curr_sum * $k;\n    for my $i (0 .. $n - 1) {\n        $curr_sum += $a->[$i] * ($k - 1);\n        $curr_sum -= $a->[($i + $n - $end - 1) % $n];\n        $max_sum = $curr_sum if $curr_sum > $max_sum;\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $sum_arr = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $sum_arr += $a->[$i];\n        $curr_sum += $i * $a->[$i];\n    }\n    $max_sum = $curr_sum;\n    for (my $i = 1; $i < $k; $i++) {\n        $curr_sum = $curr_sum + $sum_arr - $n * $a->[$n - 1];\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $curr_sum_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $k_i = 0;\n    my $k_j = 0;\n    my $k_max_sum = 0;\n    my $k_curr_sum = 0;\n    my $k_max_sum_so_far = 0;\n    my $k_curr_sum_so_far = 0;\n    my $k_i = 0;\n    my $k_j = 0;\n    my $k_max_sum = 0;\n    my $k_curr_sum = 0;\n    my $k_max_sum_so_far = 0;\n    my $k_curr_sum_so_far = 0;\n    my $k_i = 0;\n    my $k_j = 0;\n    my $k_max_sum = 0;\n    my $k_curr_sum = 0;\n    my $k_max_sum_so_far = 0;\n    my $k_curr_sum_so_far = 0;\n    my $k_i = 0;\n    my $k_j = 0;\n    my $k_max_sum = 0;\n    my $k_curr_sum = 0;\n    my $k_max_sum_so_far = 0;\n    my $k_curr_sum_so_far = 0;\n    my $k_i = 0;\n    my $k_j = 0;\n    my $k_max_sum = 0;\n    my $k_curr_sum = 0;\n    my $k_max_sum_so_far = 0;\n    my $k_curr_sum_so_far = 0;\n    my $k_i = 0;\n    my $k_j = 0;\n    my $k_max_sum = 0;\n    my $k_curr_sum = 0;\n    my $k_max_sum_so",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $max_ending_here = $max_ending_here + $a->[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n        }\n    }\n    $max_sum = $max_so_far * $k;\n    $curr_sum = $max_so_far;\n    for (my $i = 0; $i < $n; $i++) {\n        $curr_sum = $curr_sum + $a->[$i];\n        $curr_sum = $curr_sum - $n * $a->[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_wrap_sum = 0;\n    my $curr_wrap_sum = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $curr_sum = max(0, $curr_sum);\n        $curr_wrap_sum += $a->[$i];\n    }\n    $max_wrap_sum = $curr_wrap_sum;\n    for my $i (0..$n-1) {\n        $curr_wrap_sum += $a->[$i];\n        $max_wrap_sum = max($max_wrap_sum, $curr_wrap_sum);\n    }\n    return max($max_sum, $max_wrap_sum + ($k-2)*$curr_wrap_sum);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $e = 0;\n    my $max_sum_with_mod = 0;\n    my $curr_sum_with_mod = 0;\n    my $max_sum_so_far_with_mod = 0;\n    my $max_sum_so_far_with_mod_start = 0;\n    my $max_sum_so_far_with_mod_end = 0;\n    my $max_sum_so_far_with_mod_start_index = 0;\n    my $max_sum_so_far_with_mod_end_index = 0;\n    my $max_sum_so_far_start_index = 0;\n    my $max_sum_so_far_end_index = 0;\n    my $max_sum_so_far_start = 0;\n    my $max_sum_so_far_end = 0;\n    my $max_sum_so_far_with_mod_start_index_temp = 0;\n    my $max_sum_so_far_with_mod_end_index_temp = 0;\n    my $max_sum_so_far_start_index_temp = 0;\n    my $max_sum_so_far_end_index_temp = 0;\n    my $max_sum_so_far_start_temp = 0;\n    my $max_sum_so_far_end_temp = 0;\n    my $max_sum_so_far_with_mod_start_temp = 0;\n    my $max_sum_so_far_with_mod_end_temp = 0;\n    my $max_sum_so_far_with_mod_start_index_temp_temp = 0;\n    my $max_sum_so_far_with_mod_end_index_temp_temp = 0;\n    my $max_sum_so_",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $max_sum_ending_here = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $l = 0;\n    my $r = 0;\n    my $m = 0;\n    my $n = 0;\n    my $sum = 0;\n    my $max_sum_ending_here = 0;\n    my $max_sum_ending_here_prev = 0;\n    my $max_sum_ending_here_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    my $i = 0;\n    my $j = 0;\n    my $size = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $e = 0;\n    my $max_size = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    for my $i (0..$n-1) {\n        $max_sum_so_far += $a->[$i];\n    }\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($k > 1) {\n        $max_sum = max($max_sum, $max_sum_so_far + ($k-2) * $max_sum_so_far);\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;\n    my $i;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        $max_val = max($max_val, $a->[$i]);\n        $min_val = min($min_val, $a->[$i]);\n    }\n    if ($max_val < 0) {\n        return $max_val * $k;\n    }\n    if ($min_val > 0) {\n        return $min_val * $k;\n    }\n    $max_sum = $curr_sum;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = $curr_sum - $a->[$i] + $a->[$i];\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    return $max_sum * $k;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $t = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $max_start_index = 0;\n    my $max_end_index = 0;\n    my $max_start_index_temp = 0;\n    my $max_end_index_temp = 0;\n    my $max_start_temp = 0;\n    my $max_end_temp = 0;\n    my $max_so_far_temp = 0;\n    my $max_ending_here_temp = 0;\n    my $curr_sum_temp = 0;\n    my $max_sum_temp = 0;\n    my $max_start_index_temp_temp = 0;\n    my $max_end_index_temp_temp = 0;\n    my $max_start_temp_temp = 0;\n    my $max_end_temp_temp = 0;\n    my $max_so_far_temp_temp = 0;\n    my $max_ending_here_temp_temp = 0;\n    my $curr_sum_temp_temp = 0;\n    my $max_sum_temp_temp = 0;\n    my $max_start_index_temp_temp_temp = 0;\n    my $max_end_index_temp_temp_temp = 0;\n    my $max_start_temp_temp_temp = 0;\n    my $max_end_temp_temp_temp = 0;\n    my $max_so_far_temp_temp_temp = 0;\n    my $max_ending_here_temp_temp_temp = 0;\n    my $curr_sum_temp_temp_temp = 0;\n    my $max_sum_temp_temp_temp = 0;\n    my $max_start_index_temp_",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $e = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $max_start_index = 0;\n    my $max_end_index = 0;\n    my $max_start_index_so_far = 0;\n    my $max_end_index_so_far = 0;\n    my $max_start_so_far = 0;\n    my $max_end_so_far = 0;\n    my $max_start_index_ending_here = 0;\n    my $max_end_index_ending_here = 0;\n    my $max_start_ending_here = 0;\n    my $max_end_ending_here = 0;\n    my $max_start_index_ending_here_so_far = 0;\n    my $max_end_index_ending_here_so_far = 0;\n    my $max_start_ending_here_so_far = 0;\n    my $max_end_ending_here_so_far = 0;\n    my $max_start_index_ending_here_so_far_prev = 0;\n    my $max_end_index_ending_here_so_far_prev = 0;\n    my $max_start_ending_here_so_far_prev = 0;\n    my $max_end_ending_here_so_far_prev = 0;\n    my $max_start_index_ending_here_prev = 0;\n    my $max_end_index_ending_here_prev = 0;\n    my $max_start_ending_here_prev = 0;\n    my $max_end_ending_here_prev = 0;\n    my $max_start_index_prev = 0;\n    my $max_end_index_prev = 0",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_wrap_sum = 0;\n    my $curr_wrap_sum = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        $curr_wrap_sum += $a->[$i];\n    }\n    if ($curr_wrap_sum > 0) {\n        $max_wrap_sum = $curr_wrap_sum * ($k-1);\n    }\n    return max($max_sum, $max_wrap_sum);\n}",
    "\n    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    for my $i (0 .. $n - 1) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    my $max_wrap = 0;\n    for my $i (0 .. $n - 1) {\n        $max_wrap += $a->[$i];\n        $a->[$i] = -$a->[$i];\n    }\n    $curr_sum = 0;\n    for my $i (0 .. $n - 1) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    if ($k > 1) {\n        $max_sum = max($max_sum, $max_wrap);\n    }\n    return $max_sum;\n}",
    "\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for (my $j = 0; $j < $n; $j++) {\n            $curr_sum += $a->[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n        }\n        $i++;\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    my $i = 0;\n    my $j = 0;\n    my $l = 0;\n    my $r = 0;\n    my $m = 0;\n    my $s = 0;\n    my $e = 0;\n    my $sum = 0;\n    my $len = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $max_start_index = 0;\n    my $max_end_index = 0;\n    my $max_start_index_so_far = 0;\n    my $max_end_index_so_far = 0;\n    my $max_start_so_far = 0;\n    my $max_end_so_far = 0;\n    my $max_start_index_ending_here = 0;\n    my $max_end_index_ending_here = 0;\n    my $max_start_ending_here = 0;\n    my $max_end_ending_here = 0;\n    my $max_start_index_ending_here_prev = 0;\n    my $max_end_index_ending_here_prev = 0;\n    my $max_start_ending_here_prev = 0;\n    my $max_end_ending_here_prev = 0;\n    my $max_start_index_so_far_prev = 0;\n    my $max_end_index_so_far_prev = 0;\n    my $max_start_so_far_prev = 0;\n    my $max_end_so_far_prev = 0;\n    my $max_start_index_prev = 0;\n    my $max_end_index_prev = 0;\n    my $max_start_prev = 0;\n    my $max_end_prev = 0;\n    my $max_start_index_prev_prev = 0;\n    my $max_end_index_prev_prev = 0;\n    my $max_start_prev_prev = 0;\n    my $max_end_prev_prev = 0;\n    my $max_start_index_so_far_prev",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_val = max($max_val, $a->[$i]);\n        $min_val = min($min_val, $a->[$i]);\n    }\n    if ($max_val < 0) {\n        return $max_val * $k;\n    }\n    if ($min_val > 0) {\n        return $min_val * $k;\n    }\n    $max_sum = $curr_sum;\n    for my $i (0..$n-1) {\n        $curr_sum = $curr_sum - $a->[$i] + $a->[$i] * $k;\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_sum += $a->[$i];\n        $curr_val += $a->[$i];\n        $max_val = max($max_val, $curr_val);\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_val < 0) {\n            $curr_val = 0;\n        }\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $sum_total = array_sum($a, $n);\n    my $max_prefix_sum = max_sub_array_sum($a, $n);\n    my $max_suffix_sum = max_sub_array_sum(reverse_array($a, $n), $n);\n    if ($sum_total > 0) {\n        return max($max_sum, $max_prefix_sum + ($k-2)*$sum_total + $max_suffix_sum);\n    }\n    else {\n        return max($max_sum, $max_prefix_sum + $max_suffix_sum);\n    }\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;\n    for my $i (0..$n-1) {\n        $max_val = max($max_val, $a->[$i]);\n        $min_val = min($min_val, $a->[$i]);\n        $curr_sum += $a->[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $max_wrap = 0;\n    for my $i (0..$n-1) {\n        $max_wrap += $a->[$i];\n    }\n    if ($max_wrap > 0) {\n        return max($max_sum, $max_wrap * ($k-2) + $max_sum);\n    } else {\n        return max($max_sum, $max_wrap * ($k-1) + $max_sum);\n    }\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $prefix_sum = 0;\n    my $suffix_sum = 0;\n    my $max_prefix_sum = 0;\n    my $max_suffix_sum = 0;\n    my $min_prefix_sum = 0;\n    my $min_suffix_sum = 0;\n    for(my $i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $max_sum = max($max_sum, $curr_sum - $min_prefix_sum);\n        $min_prefix_sum = min($min_prefix_sum, $curr_sum);\n        $max_prefix_sum = max($max_prefix_sum, $curr_sum);\n    }\n    $curr_sum = 0;\n    for(my $i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a->[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $max_sum = max($max_sum, $curr_sum - $min_suffix_sum);\n        $min_suffix_sum = min($min_suffix_sum, $curr_sum);\n        $max_suffix_sum = max($max_suffix_sum, $curr_sum);\n    }\n    $prefix_sum = $max_prefix_sum;\n    $suffix_sum = $max_suffix_sum;\n    for(my $i = 0; $i < $k - 2; $i++) {\n        $prefix_sum += $max_suffix_sum;\n        $suffix_sum += $max_prefix_sum;\n        $max_sum = max($max_sum, $prefix_sum);\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    return $max_sum;\n}",
    "\n    my $max_sum = 0;\n    my $curr_sum = 0;",
    "\n    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    my $i = 0;\n    my $j = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    for my $i (0..$n-1) {\n        $max_ending_here += $a->[$i];\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n            $s = $i + 1;\n        }\n    }\n    $max_sum = $max_so_far;\n    $curr_sum = $max_sum;\n    for my $i ($end+1..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_sum = $curr_sum if $max_sum < $curr_sum;\n    }\n    for my $i (0..$start-1) {\n        $curr_sum += $a->[$i];\n        $max_sum = $curr_sum if $max_sum < $curr_sum;\n    }\n    return $max_sum * $k;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $i;\n    my $j;\n    my $sum;\n    my $max_sum_without_wrap;\n    my $max_sum_with_wrap;\n    my $max_sum_wrap;\n    my $max_sum_wrap_index;\n    my $max_sum_wrap_index_start;\n    my $max_sum_wrap_index_end;\n    my $max_sum_wrap_index_start_index;\n    my $max_sum_wrap_index_end_index;\n    my $max_sum_wrap_index_start_index_start;\n    my $max_sum_wrap_index_end_index_end;\n    my $max_sum_wrap_index_start_index_start_index;\n    my $max_sum_wrap_index_end_index_end_index;\n    my $max_sum_wrap_index_start_index_start_index_start;\n    my $max_sum_wrap_index_end_index_end_index_end;\n    my $max_sum_wrap_index_start_index_start_index_start_index;\n    my $max_sum_wrap_index_end_index_end_index_end_index;\n    my $max_sum_wrap_index_start_index_start_index_start_index_start;\n    my $max_sum_wrap_index_end_index_end_index_end_index_end;\n    my $max_sum_wrap_index_start_index_start_index_start_index_start_index;\n    my $max_sum_wrap_index_end_index_end_index_end_index_end_index;\n    my $max_sum_wrap_index_start_index_start_index_start_index_start_index_start;\n    my $max_sum_wrap_index_end_index_end_index_end_index_end_index_end;\n    my $max_sum_wrap_index_start_index_start",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $max_sum_ending_here = 0;\n    my $i = 0;\n    my $j = 0;\n    my $len = 0;\n    my $max_len = 0;\n    my $start = 0;\n    my $end = 0;\n    my $start_index = 0;\n    my $end_index = 0;\n    my $curr_start = 0;\n    my $curr_end = 0;\n    my $curr_start_index = 0;\n    my $curr_end_index = 0;\n    my $max_start_index = 0;\n    my $max_end_index = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $max_len_so_far = 0;\n    my $curr_len = 0;\n    my $max_len_ending_here = 0;\n    my $max_len_ending_here_index = 0;\n    my $max_len_so_far_index = 0;\n    my $curr_len_index = 0;\n    my $max_len_index = 0;\n    my $curr_len_so_far = 0;\n    my $curr_len_so_far_index = 0;\n    my $curr_len_ending_here = 0;\n    my $curr_len_ending_here_index = 0;\n    my $max_len_so_far_index = 0;\n    my $max_len_ending_here_index = 0;\n    my $max_len_so_far = 0;\n    my $max_len_ending_here = 0;\n    my $curr_len_so_far_index = 0;\n    my $curr_len_ending_here_index = 0;\n    my $curr_len_so_far = 0;\n    my $curr_len_ending_here = 0;\n    my $max_len_so_far_index = 0;\n",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_val = max($max_val, $a->[$i]);\n        $min_val = min($min_val, $a->[$i]);\n    }\n    if ($max_val < 0) {\n        return $max_val * $k;\n    }\n    if ($min_val > 0) {\n        return $min_val * $k;\n    }\n    my $max_single_sum = $curr_sum;\n    my $min_single_sum = $curr_sum;\n    for my $i (0..$n-1) {\n        $curr_sum = $curr_sum - $a->[$i] + $a->[$i];\n        $max_single_sum = max($max_single_sum, $curr_sum);\n        $min_single_sum = min($min_single_sum, $curr_sum);\n    }\n    $max_sum = $max_single_sum;\n    for my $i (1..$k-1) {\n        $max_sum = max($max_sum, $max_single_sum + $i * $curr_sum);\n    }\n    $max_sum = max($max_sum, $max_single_sum + $k * $curr_sum);\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $curr_prefix_sum = 0;\n    my $curr_suffix_sum = 0;\n    my $max_prefix_sum = 0;\n    my $max_suffix_sum = 0;\n    my $total_sum = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $total_sum += $a->[$i];\n        $curr_sum = max($a->[$i], $curr_sum + $a->[$i]);\n        $max_sum = max($max_sum, $curr_sum);\n        $curr_prefix_sum = max($a->[$i], $curr_prefix_sum + $a->[$i]);\n        $max_prefix_sum = max($max_prefix_sum, $curr_prefix_sum);\n        my $j = $n - $i - 1;\n        $curr_suffix_sum = max($a->[$j], $curr_suffix_sum + $a->[$j]);\n        $max_suffix_sum = max($max_suffix_sum, $curr_suffix_sum);\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    if ($total_sum > 0) {\n        return max($max_sum, $max_prefix_sum + $max_suffix_sum + ($k - 2) * $total_sum);\n    }\n    return max($max_sum, $max_prefix_sum + $max_suffix_sum);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $sum = 0;\n    for my $i (0..$n-1) {\n        $sum += $a->[$i];\n    }\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        if ($i >= $k-1) {\n            $curr_sum -= $a->[$i-$k];\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    return max($max_sum, $curr_sum - $sum);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n            $s = $i+1;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $start = $s;\n            $end = $i;\n        }\n    }\n    my $min_sum = 0;\n    my $curr_min_sum = 0;\n    my $min_start = 0;\n    my $min_end = 0;\n    my $min_s = 0;\n    for my $i (0..$n-1) {\n        $curr_min_sum += $a->[$i];\n        if ($curr_min_sum > 0) {\n            $curr_min_sum = 0;\n            $min_s = $i+1;\n        }\n        if ($curr_min_sum < $min_sum) {\n            $min_sum = $curr_min_sum;\n            $min_start = $min_s;\n            $min_end = $i;\n        }\n    }\n    my $total_sum = 0;\n    for my $i (0..$n-1) {\n        $total_sum += $a->[$i];\n    }\n    my $circular_sum = $total_sum - $min_sum;\n    if ($k == 1) {\n        return $max_sum;\n    } elsif ($circular_sum > 0) {\n        return max($max_sum, $circular_sum + ($k-2)*$total_sum);\n    } else {\n        return max($max_sum, $circular_sum);\n    }\n}",
    "\n    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_end = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_wrap_sum = 0;\n    my $curr_wrap_sum = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $curr_wrap_sum += $a->[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    for my $i (0..$n-1) {\n        $curr_wrap_sum += $a->[$i];\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    return max($max_sum, $max_wrap_sum + ($k - 2) * $curr_wrap_sum);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_so_far = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_so_far < $curr_sum) {\n            $max_so_far = $curr_sum;\n        }\n    }\n    if ($max_so_far == 0) {\n        $max_sum = $max_so_far;\n    } else {\n        $max_sum = $max_so_far * $k;\n        my $sum_first_part = 0;\n        my $sum_last_part = 0;\n        my $curr_sum = 0;\n        for my $i (0..$n-1) {\n            $curr_sum += $a->[$i];\n            $sum_first_part += $a->[$i];\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $curr_sum = 0;\n        for my $i (0..$n-1) {\n            $curr_sum += $a->[$i];\n            $sum_last_part += $a->[$i];\n            if ($curr_sum > 0) {\n                $curr_sum = 0;\n            }\n        }\n        $max_sum = $max_sum + $sum_first_part * ($k-2) + $sum_last_part;\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $min_ending_here = 0;\n    for(my $i = 0; $i < $n; $i++) {\n        $max_ending_here += $a->[$i];\n        $min_ending_here += $a->[$i];\n        if($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if($min_ending_here > 0) {\n            $min_ending_here = 0;\n        }\n        $max_sum = max($max_sum, $max_ending_here);\n    }\n    if($max_sum == 0) {\n        return max($a);\n    }\n    $curr_sum = $max_sum;\n    for(my $i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        $curr_sum -= $n * $a->[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $max_sum = max($max_sum, $curr_sum - $min_ending_here);\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_end = 0;\n    my $i;",
    "\n    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_wrap = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    my $i = 0;\n    my $j = 0;\n    my $size = $n * $k;\n    for (my $i = 0; $i < $size; $i++) {\n        $curr_sum += $a->[$i % $n];\n        $curr_val += $a->[$i % $n];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_val > $max_val) {\n            $max_val = $curr_val;\n        }\n        if ($curr_val < 0) {\n            $curr_val = 0;\n        }\n    }\n    return $max_sum > 0 ? $max_sum : $max_val;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    for (my $i = 0; $i < $n * $k; $i++) {\n        $max_ending_here = $max_ending_here + $a->[$i % $n];\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n            $s = $i + 1;\n        }\n    }\n    for (my $i = $start; $i <= $end; $i++) {\n        $curr_sum = $curr_sum + $a->[$i % $n];\n    }\n    $max_sum = $curr_sum;\n    for (my $i = 1; $i < $k; $i++) {\n        $curr_sum = 0;\n        for (my $j = 0; $j < $n; $j++) {\n            $curr_sum = $curr_sum + $a->[$j];\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $min_ending_here = 0;\n    for my $i (0..$n-1) {\n        $max_ending_here = $max_ending_here + $a->[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($max_sum < $max_ending_here) {\n            $max_sum = $max_ending_here;\n        }\n        $min_ending_here = $min_ending_here + $a->[$i];\n        if ($min_ending_here > 0) {\n            $min_ending_here = 0;\n        }\n        if ($min_ending_here < $curr_sum) {\n            $curr_sum = $min_ending_here;\n        }\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $circular_sum = $max_sum + $curr_sum;\n    my $result = $circular_sum > $max_sum ? $circular_sum : $max_sum;\n    return $result;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_end_here = 0;\n    my $max_sum_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $curr_sum_end_here = 0;\n    my $curr_sum_so_far = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $max_sum_start = 0;\n    my $max_sum_end = 0;\n    my $max_sum_start_temp = 0;\n    my $max_sum_end_temp = 0;\n    my $max_sum_start_temp_2 = 0;\n    my $max_sum_end_temp_2 = 0;\n    my $max_sum_start_temp_3 = 0;\n    my $max_sum_end_temp_3 = 0;\n    my $max_sum_start_temp_4 = 0;\n    my $max_sum_end_temp_4 = 0;\n    my $max_sum_start_temp_5 = 0;\n    my $max_sum_end_temp_5 = 0;\n    my $max_sum_start_temp_6 = 0;\n    my $max_sum_end_temp_6 = 0;\n    my $max_sum_start_temp_7 = 0;\n    my $max_sum_end_temp_7 = 0;\n    my $max_sum_start_temp_8 = 0;\n    my $max_sum_end_temp_8 = 0;\n    my $max_sum_start_temp_9 = 0;\n    my $max_sum_end_temp_9 = 0;\n    my $max_sum_start_temp_10 = 0;\n    my $max_sum_end_temp_10 = 0;\n    my $max_sum_start_temp_11 = 0;\n    my $max_sum_end_temp_11 = 0;\n    my $max_sum_start_temp_12 = 0;\n    my $max",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $curr_prefix_sum = 0;\n    my $curr_suffix_sum = 0;\n    my $prefix_sum = 0;\n    my $suffix_sum = 0;\n    my $total_sum = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $curr_sum = max($curr_sum, 0);\n        $prefix_sum += $a->[$i];\n        $suffix_sum += $a->[$n-$i-1];\n        $curr_prefix_sum = max($curr_prefix_sum, $prefix_sum);\n        $curr_suffix_sum = max($curr_suffix_sum, $suffix_sum);\n        $total_sum += $a->[$i];\n    }\n    my $max_wrap = $total_sum + ($k-2) * $curr_prefix_sum + ($k-2) * $curr_suffix_sum;\n    return max($max_sum, $max_wrap);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $max_ending_here = $max_ending_here + $a->[$j];\n            if ($max_ending_here < 0) {\n                $max_ending_here = 0;\n                $s = $j + 1;\n            }\n            if ($max_so_far < $max_ending_here) {\n                $max_so_far = $max_ending_here;\n                $start = $s;\n                $end = $j;\n            }\n        }\n        if ($max_sum < $max_so_far) {\n            $max_sum = $max_so_far;\n            $max_start = $start;\n            $max_end = $end;\n        }\n        $max_ending_here = 0;\n        $max_so_far = 0;\n    }\n    return ($max_sum, $max_start, $max_end);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $sum = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $sum += $a->[$i];\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($sum < 0) {\n        return $max_sum;\n    }\n    my $max_wrap = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $max_wrap += $a->[$i];\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_wrap < $curr_sum) {\n            $max_wrap = $curr_sum;\n        }\n    }\n    return max($max_sum, $max_wrap * ($k - 2) + $sum);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $start_index = 0;\n    my $end_index = 0;\n    my $max_sum_index = 0;\n    my $max_sum_index_so_far = 0;\n    my $max_sum_index_end = 0;\n    my $max_sum_index_start = 0;\n    my $max_sum_index_start_so_far = 0;\n    my $max_sum_index_end_so_far = 0;\n    my $max_sum_index_start_end = 0;\n    my $max_sum_index_start_end_so_far = 0;\n    my $max_sum_index_start_end_end = 0;\n    my $max_sum_index_start_end_start = 0;\n    my $max_sum_index_start_end_start_so_far = 0;\n    my $max_sum_index_start_end_end_so_far = 0;\n    my $max_sum_index_start_end_start_end = 0;\n    my $max_sum_index_start_end_start_end_so_far = 0;\n    my $max_sum_index_start_end_start_end_end = 0;\n    my $max_sum_index_start_end_start_end_start = 0;\n    my $max_sum_index_start_end_start_end_start_so_far = 0;\n    my $max_sum_index_start_end_start_end_end_so_far = 0;\n    my $max_sum_index_start_end_start_end_start_end = 0;\n    my $max_sum_index_start_end_start_end_start_end_so_far = 0;\n    my $max_sum_index_start_end_start_end_start_end_end = 0",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $start_index = 0;\n    my $end_index = 0;\n    my $curr_start = 0;\n    my $curr_end = 0;\n    my $max_sum_so_far_start = 0;\n    my $max_sum_so_far_end = 0;\n    my $curr_sum_start = 0;\n    my $curr_sum_end = 0;\n    my $curr_sum_start_index = 0;\n    my $curr_sum_end_index = 0;\n    my $max_sum_so_far_start_index = 0;\n    my $max_sum_so_far_end_index = 0;\n    my $max_sum_so_far_start_index_temp = 0;\n    my $max_sum_so_far_end_index_temp = 0;\n    my $curr_sum_start_index_temp = 0;\n    my $curr_sum_end_index_temp = 0;\n    my $curr_sum_start_index_temp_temp = 0;\n    my $curr_sum_end_index_temp_temp = 0;\n    my $curr_sum_start_index_temp_temp_temp = 0;\n    my $curr_sum_end_index_temp_temp_temp = 0;\n    my $curr_sum_start_index_temp_temp_temp_temp = 0;\n    my $curr_sum_end_index_temp_temp_temp_temp = 0;\n    my $curr_sum_start_index_temp_temp_temp_temp_temp = 0;\n    my $curr_sum_end_index_temp_temp_temp_temp_temp = 0;\n    my $curr_sum_start_index_temp_temp_temp_temp_temp_temp = 0;\n   ",
    "    my $max_so_far = $a->[0];\n    my $max_ending_here = $a->[0];\n    my $max_sum = $a->[0];\n    my $min_sum = $a->[0];\n    my $sum = $a->[0];\n    for my $i (1 .. $n-1) {\n        $sum += $a->[$i];\n        $max_ending_here = max($a->[$i], $max_ending_here + $a->[$i]);\n        $max_so_far = max($max_so_far, $max_ending_here);\n        $min_sum = min($min_sum, $sum);\n    }\n    if ($k == 1) {\n        return $max_so_far;\n    }\n    if ($sum > 0) {\n        return max($max_so_far, $sum * $k, $sum * $k - $min_sum);\n    } else {\n        return max($max_so_far, $sum * $k);\n    }\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $i = 0;\n    my $j = 0;\n    my $temp = 0;\n    my $max_sum_k = 0;\n    my $curr_sum_k = 0;\n    my $max_ending_here_k = 0;\n    my $max_so_far_k = 0;\n    my $start_k = 0;\n    my $end_k = 0;\n    my $s_k = 0;\n    my $i_k = 0;\n    my $j_k = 0;\n    my $temp_k = 0;\n    my $max_sum_k_k = 0;\n    my $curr_sum_k_k = 0;\n    my $max_ending_here_k_k = 0;\n    my $max_so_far_k_k = 0;\n    my $start_k_k = 0;\n    my $end_k_k = 0;\n    my $s_k_k = 0;\n    my $i_k_k = 0;\n    my $j_k_k = 0;\n    my $temp_k_k = 0;\n    my $max_sum_k_k_k = 0;\n    my $curr_sum_k_k_k = 0;\n    my $max_ending_here_k_k_k = 0;\n    my $max_so_far_k_k_k = 0;\n    my $start_k_k_k = 0;\n    my $end_k_k_k = 0;\n    my $s_k_k_k = 0;\n    my $i_k_k_k = 0;\n    my $j_k_k_k = 0;\n    my $temp_k_k_k = 0;\n    my $max_sum_k_k_k_k = 0;\n   ",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_wrap = 0;\n    my $curr_wrap = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $curr_sum = max(0, $curr_sum);\n        $curr_wrap += $a->[$i];\n    }\n    $max_wrap = $curr_wrap;\n    for my $i (0..$n-2) {\n        $curr_wrap += $a->[$i] - $a->[$n-1];\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    my $max_sum_repeated = $max_wrap > 0 ? $max_wrap * ($k-2) + $max_sum : $max_sum;\n    return $max_sum_repeated;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_sum_so_far = 0;\n    my $max_sum_ending_here = 0;\n    my $max_sum_ending_here_prev = 0;\n    my $max_sum_ending_here_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_sum_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    my $max_wrap = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $max_wrap += $a->[$i];\n        $a->[$i] = -$a->[$i];\n    }\n    $curr_sum = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap += $curr_sum;\n    if ($max_wrap > 0) {\n        $max_sum = max($max_sum, $max_wrap * ($k - 2));\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        $curr_val += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_val < 0) {\n            $curr_val = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_val > $max_val) {\n            $max_val = $curr_val;\n        }\n    }\n    my $sum = array_sum($a, $n);\n    if ($sum > 0) {\n        return max($max_sum, $max_val + ($k - 2) * $sum);\n    } else {\n        return max($max_sum, $max_val);\n    }\n}",
    "\n    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_wrap_sum = 0;\n    my $curr_wrap_sum = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $max_start_index = 0;\n    my $max_end_index = 0;\n    my $max_start_index_so_far = 0;\n    my $max_end_index_so_far = 0;\n    my $max_start_so_far = 0;\n    my $max_end_so_far = 0;\n    my $max_start_index_ending_here = 0;\n    my $max_end_index_ending_here = 0;\n    my $max_start_ending_here = 0;\n    my $max_end_ending_here = 0;\n    my $max_start_index_repeated = 0;\n    my $max_end_index_repeated = 0;\n    my $max_start_repeated = 0;\n    my $max_end_repeated = 0;\n    my $max_start_index_repeated_so_far = 0;\n    my $max_end_index_repeated_so_far = 0;\n    my $max_start_repeated_so_far = 0;\n    my $max_end_repeated_so_far = 0;\n    my $max_start_index_repeated_ending_here = 0;\n    my $max_end_index_repeated_ending_here = 0;\n    my $max_start_repeated_ending_here = 0;\n    my $max_end_repeated_ending_here = 0;\n    my $max_start_index_repeated_ending_here_temp = 0;\n    my $max_end_index_repeated_ending_here_temp = 0;\n    my $max_start_repeated_ending_here_temp = 0;\n   ",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for my $j (0..$n-1) {\n            $curr_sum += $a->[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $max_sum_so_far += $max_sum;\n        $i++;\n    }\n    return $max_sum_so_far;\n}",
    "\n    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $sum = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    for my $i (0..$n-1) {\n        $max_val += $a->[$i];\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($max_val < 0) {\n        return $max_val;\n    }\n    my $suffix_sum = 0;\n    my $prefix_sum = 0;\n    for my $i (0..$n-1) {\n        $suffix_sum += $a->[$i];\n        $prefix_sum += $a->[$n-$i-1];\n        $curr_sum = $suffix_sum + $prefix_sum;\n        $curr_sum += ($k-2)*$max_val;\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_elem = 0;\n    my $sum_of_all_elements = 0;\n    for my $i (0..$n-1) {\n        $max_elem = max($max_elem, $a->[$i]);\n        $sum_of_all_elements += $a->[$i];\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    if ($max_elem < 0) {\n        return $max_elem * $k;\n    }\n    my $max_wrap = $sum_of_all_elements * ($k - 2) + $max_sum;\n    return max($max_wrap, $max_sum);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_element = max(@$a);\n    my $i;\n    if ($max_element < 0) {\n        return $max_element * $k;\n    }\n    for ($i = 0; $i < $n; $i++) {\n        $max_ending_here = $max_ending_here + $a->[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n        }\n        $curr_sum = $curr_sum + $a->[$i];\n    }\n    if ($curr_sum > 0) {\n        $max_sum = $max_so_far + ($curr_sum * ($k - 2));\n    } else {\n        $max_sum = $max_so_far;\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $sum = 0;\n    for my $i (0..$n-1) {\n        $sum += $a->[$i];\n    }\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($sum > 0) {\n        $max_sum += ($k-2) * $sum;\n    }\n    for my $i (0..$n-1) {\n        $curr_sum = 0;\n        for my $j ($i..$n-1) {\n            $curr_sum += $a->[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n        }\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    for my $i (0..$n-1) {\n        $max_ending_here += $a->[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n            $s = $i + 1;\n        }\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n    }\n    if ($k == 1) {\n        return $max_so_far;\n    }\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n    }\n    if ($curr_sum > 0) {\n        $max_sum = $max_so_far + ($curr_sum * ($k-2));\n    }\n    my $curr_sum = 0;\n    for my $i ($end+1..$n-1) {\n        $curr_sum += $a->[$i];\n    }\n    $max_sum = max($max_sum, $max_so_far + $curr_sum);\n    $curr_sum = 0;\n    for my $i (0..$start-1) {\n        $curr_sum += $a->[$i];\n    }\n    $max_sum = max($max_sum, $max_so_far + $curr_sum);\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $i = 0;\n    my $j = 0;\n    my $prev_max_ending_here = 0;\n    my $prev_max_sum = 0;\n    my $prev_curr_sum = 0;\n    my $prev_i = 0;\n    my $prev_j = 0;\n    my $max_sum_so_far = 0;\n    my $max_sum_so_far_i = 0;\n    my $max_sum_so_far_j = 0;\n    my $prev_max_sum_so_far = 0;\n    my $prev_max_sum_so_far_i = 0;\n    my $prev_max_sum_so_far_j = 0;\n    my $max_sum_so_far_k = 0;\n    my $max_sum_so_far_k_i = 0;\n    my $max_sum_so_far_k_j = 0;\n    for (my $k_i = 0; $k_i < $k; $k_i++) {\n        for (my $i = 0; $i < $n; $i++) {\n            $max_ending_here = $max_ending_here + $a->[$i];\n            if ($max_ending_here < 0) {\n                $max_ending_here = 0;\n                $j = $i + 1;\n            }\n            if ($max_ending_here > $max_sum) {\n                $max_sum = $max_ending_here;\n                $i = $j;\n            }\n        }\n        if ($k_i == 0) {\n            $max_sum_so_far = $max_sum;\n            $max_sum_so_far_i = $i;\n            $max_sum_so_far_j = $j;\n        } else {\n            $prev_max_sum_so_far = $max_sum_so_far;\n            $prev_max_sum_so_far_i = $max_",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $e = 0;\n    my $max_sum_so_far_start = 0;\n    my $max_sum_so_far_end = 0;\n    my $max_sum_so_far_start_index = 0;\n    my $max_sum_so_far_end_index = 0;\n    my $max_sum_so_far_start_index_temp = 0;\n    my $max_sum_so_far_end_index_temp = 0;\n    my $max_sum_so_far_temp = 0;\n    my $max_sum_so_far_temp_start = 0;\n    my $max_sum_so_far_temp_end = 0;\n    my $max_sum_so_far_temp_start_index = 0;\n    my $max_sum_so_far_temp_end_index = 0;\n    my $max_sum_so_far_temp_start_index_temp = 0;\n    my $max_sum_so_far_temp_end_index_temp = 0;\n    my $max_sum_so_far_temp_start_index_temp_temp = 0;\n    my $max_sum_so_far_temp_end_index_temp_temp = 0;\n    my $max_sum_so_far_temp_temp = 0;\n    my $max_sum_so_far_temp_temp_start = 0;\n    my $max_sum_so_far_temp_temp_end = 0;\n    my $max_sum_so_far_temp_temp_start_index = 0;\n    my $max_sum_so_far_temp_temp_end_index = 0;\n    my $max_sum_so_far_temp_temp_start_index_temp = 0;\n    my $max_sum_so_far",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_val = 0;\n    my $min_val = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $max_val += $a->[$i];\n        $min_val += $a->[$i] if $a->[$i] < 0;\n    }\n    if ($k == 1) {\n        return $max_val;\n    }\n    elsif ($k == 2) {\n        return $max_val + $min_val;\n    }\n    else {\n        return $max_val + $min_val * ($k - 2);\n    }\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;",
    "    my $max_sum = -999999999999;\n    my $curr_sum = 0;\n    my $curr_prefix_sum = 0;\n    my $curr_suffix_sum = 0;\n    my $max_prefix_sum = -999999999999;\n    my $max_suffix_sum = -999999999999;\n    my $total_sum = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $total_sum += $a->[$i];\n        $curr_sum += $a->[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $curr_prefix_sum += $a->[$i];\n        if ($curr_prefix_sum > $max_prefix_sum) {\n            $max_prefix_sum = $curr_prefix_sum;\n        }\n        if ($curr_prefix_sum < 0) {\n            $curr_prefix_sum = 0;\n        }\n        $curr_suffix_sum += $a->[$i];\n        if ($curr_suffix_sum > $max_suffix_sum) {\n            $max_suffix_sum = $curr_suffix_sum;\n        }\n        if ($curr_suffix_sum < 0) {\n            $curr_suffix_sum = 0;\n        }\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $max_wrap = $total_sum - $max_prefix_sum;\n    if ($max_wrap > 0) {\n        $max_sum = max($max_sum, $max_wrap + $max_suffix_sum);\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_elem = 0;\n    my $curr_elem = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $curr_elem += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_elem < 0) {\n            $curr_elem = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_elem > $max_elem) {\n            $max_elem = $curr_elem;\n        }\n    }\n    my $sum_of_all = 0;\n    for my $i (0..$n-1) {\n        $sum_of_all += $a->[$i];\n    }\n    my $max_wrap = $sum_of_all * $k - $max_elem;\n    return $max_wrap > $max_sum ? $max_wrap : $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $size = $n * $k;\n    while ($i < $size) {\n        $curr_sum += $a->[$j];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_so_far < $curr_sum) {\n            $max_so_far = $curr_sum;\n        }\n        $j++;\n        $i++;\n        if ($j == $n) {\n            $j = 0;\n        }\n    }\n    return $max_so_far;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $max_sum_ending_here = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_elem = max(@$a);\n    my $sum_of_all_elems = sum(@$a);\n    if ($max_elem < 0) {\n        return $max_elem * $k;\n    }\n    if ($k == 1) {\n        return max_sub_array_sum($a, $n);\n    }\n    for (my $i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    return max($max_sum, $sum_of_all_elems * ($k - 2) + $max_sum);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_sum += $a->[$i];\n        $curr_val += $a->[$i];\n        $max_val = $curr_val if $curr_val > $max_val;\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($k == 1) {\n        return $max_val;\n    }\n    my $suffix_sum = 0;\n    my $prefix_sum = 0;\n    for my $i (0..$n-1) {\n        $suffix_sum += $a->[$i];\n        $prefix_sum += $a->[$n-$i-1];\n        $max_sum = max($max_sum, $suffix_sum);\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    return max($max_sum, $max_val + ($k-2) * $max_val);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $len = 0;\n    my $max_len = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $max_start_index = 0;\n    my $max_end_index = 0;\n    my $max_start_index_so_far = 0;\n    my $max_end_index_so_far = 0;\n    my $max_len_so_far = 0;\n    my $max_start_so_far = 0;\n    my $max_end_so_far = 0;\n    my $max_sum_so_far = 0;\n    my $max_sum_ending_here = 0;\n    my $max_sum_ending_here_index = 0;\n    my $max_sum_ending_here_index_so_far = 0;\n    my $max_sum_ending_here_so_far = 0;\n    my $max_sum_ending_here_start = 0;\n    my $max_sum_ending_here_end = 0;\n    my $max_sum_ending_here_start_so_far = 0;\n    my $max_sum_ending_here_end_so_far = 0;\n    my $max_sum_ending_here_start_index = 0;\n    my $max_sum_ending_here_end_index = 0;\n    my $max_sum_ending_here_start_index_so_far = 0;\n    my $max_sum_ending_here_end_index_so_far = 0;\n    my $max_sum_ending_here_start_so_far_index = 0;\n    my $max_sum_ending_here_end_so_far_index = 0;\n    my $max_sum_ending_here_start",
    "    my $max_so_far = $a->[0];\n    my $max_ending_here = $a->[0];\n    my $max_value = $a->[0];\n    my $min_value = $a->[0];\n    my $max_sum = $a->[0];\n    my $min_sum = $a->[0];\n    for my $i (1 .. $n - 1) {\n        $max_value = max($max_value, $a->[$i]);\n        $min_value = min($min_value, $a->[$i]);\n        $max_ending_here = max($a->[$i], $max_ending_here + $a->[$i]);\n        $max_so_far = max($max_so_far, $max_ending_here);\n        $max_sum += $a->[$i];\n        $min_sum += $a->[$i];\n    }\n    if ($k == 1) {\n        return $max_so_far;\n    }\n    my $circular_sum = $max_sum;\n    my $non_circular_sum = $max_so_far;\n    if ($min_value < 0) {\n        $non_circular_sum = $non_circular_sum - $min_value * ($k - 2);\n    }\n    if ($max_value > 0) {\n        $circular_sum = $circular_sum * $k;\n    }\n    else {\n        $circular_sum = $max_sum * $k - $min_value * ($k - 2);\n    }\n    return max($non_circular_sum, $circular_sum);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for my $j (0 .. $n - 1) {\n            $curr_sum += $a->[$j];\n            $max_sum = $curr_sum if $curr_sum > $max_sum;\n            $curr_sum = 0 if $curr_sum < 0;\n        }\n        $i++;\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for my $j (0 .. $n - 1) {\n            $curr_sum += $a->[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n        }\n        $i++;\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $max_sum_ending_here = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $max_sum_ending_here_start = 0;\n    my $max_sum_ending_here_end = 0;\n    my $max_sum_so_far_start = 0;\n    my $max_sum_so_far_end = 0;\n    my $max_sum_ending_here_start_temp = 0;\n    my $max_sum_ending_here_end_temp = 0;\n    my $max_sum_so_far_start_temp = 0;\n    my $max_sum_so_far_end_temp = 0;\n    my $max_sum_ending_here_start_temp_2 = 0;\n    my $max_sum_ending_here_end_temp_2 = 0;\n    my $max_sum_so_far_start_temp_2 = 0;\n    my $max_sum_so_far_end_temp_2 = 0;\n    my $max_sum_ending_here_start_temp_3 = 0;\n    my $max_sum_ending_here_end_temp_3 = 0;\n    my $max_sum_so_far_start_temp_3 = 0;\n    my $max_sum_so_far_end_temp_3 = 0;\n    my $max_sum_ending_here_start_temp_4 = 0;\n    my $max_sum_ending_here_end_temp_4 = 0;\n    my $max_sum_so_far_start_temp_4 = 0;\n    my $max_sum_so_far_end_temp_4 = 0;\n    my $max_sum_ending_here_start_temp_5 = 0;\n    my $max_sum_ending_here_end_temp_5 = 0;\n    my $max_sum",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    my $i = 0;\n    my $j = 0;\n    for my $i (0 .. $n-1) {\n        $curr_sum += $a->[$i];\n        $curr_val += $a->[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_val > $max_val) {\n            $max_val = $curr_val;\n        }\n    }\n    if ($max_val < 0) {\n        return $max_val;\n    }\n    my $suffix_sum = 0;\n    my $prefix_sum = 0;\n    for my $i (0 .. $n-1) {\n        $suffix_sum += $a->[$i];\n        $prefix_sum += $a->[$n-$i-1];\n        if ($suffix_sum > $max_sum) {\n            $max_sum = $suffix_sum;\n        }\n        if ($prefix_sum > $max_sum) {\n            $max_sum = $prefix_sum;\n        }\n    }\n    my $total_sum = 0;\n    for my $i (0 .. $n-1) {\n        $total_sum += $a->[$i];\n    }\n    my $circular_sum = $total_sum * $k;\n    my $non_circular_sum = $max_sum;\n    return max($circular_sum, $non_circular_sum);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_i = 0;\n    my $max_j = 0;\n    my $max_len = 0;\n    my $curr_len = 0;\n    my $max_len_i = 0;\n    my $max_len_j = 0;\n    my $max_len_sum = 0;\n    my $curr_len_sum = 0;\n    my $max_sum_i = 0;\n    my $max_sum_j = 0;\n    my $max_sum_len = 0;\n    my $curr_sum_len = 0;\n    my $max_sum_len_i = 0;\n    my $max_sum_len_j = 0;\n    my $max_sum_len_sum = 0;\n    my $curr_sum_len_sum = 0;\n    my $max_sum_len_sum_i = 0;\n    my $max_sum_len_sum_j = 0;\n    my $max_sum_len_sum_sum = 0;\n    my $curr_sum_len_sum_sum = 0;\n    my $max_sum_len_sum_sum_i = 0;\n    my $max_sum_len_sum_sum_j = 0;\n    my $max_sum_len_sum_sum_sum = 0;\n    my $curr_sum_len_sum_sum_sum = 0;\n    my $max_sum_len_sum_sum_sum_i = 0;\n    my $max_sum_len_sum_sum_sum_j = 0;\n    my $max_sum_len_sum_sum_sum_sum = 0;\n    my $curr_sum_len_sum_sum_sum_sum = 0;\n    my $max_sum_len_sum_sum_sum_sum_i = 0;\n    my $max_sum_len_sum_sum_sum_sum_j = 0;\n    my $max_sum_len_sum_sum_sum_",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $prefix_sum = 0;\n    my $suffix_sum = 0;\n    my $max_prefix_sum = 0;\n    my $max_suffix_sum = 0;\n    my $min_prefix_sum = 0;\n    my $min_suffix_sum = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_val = max($max_val, $a->[$i]);\n        $min_val = min($min_val, $a->[$i]);\n    }\n    if ($max_val < 0) {\n        return $max_val * $k;\n    }\n    if ($min_val > 0) {\n        return $min_val * $k;\n    }\n    $max_sum = $curr_sum;\n    for my $i (0..$n-1) {\n        $curr_sum = $curr_sum - $a->[$i] + $a->[$i] * $k;\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    for(my $i = 0; $i < $k; $i++) {\n        for(my $j = 0; $j < $n; $j++) {\n            $curr_sum += $a->[$j];\n            if($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n            if($max_ending_here < $curr_sum) {\n                $max_ending_here = $curr_sum;\n            }\n        }\n        if($max_sum < $max_ending_here) {\n            $max_sum = $max_ending_here;\n        }\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_i = 0;\n    my $max_j = 0;\n    my $max_len = 0;\n    my $curr_len = 0;\n    while ($j < $n) {\n        $curr_sum += $a->[$j];\n        $curr_len++;\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $max_i = $i;\n            $max_j = $j;\n            $max_len = $curr_len;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n            $i = $j + 1;\n            $curr_len = 0;\n        }\n        $j++;\n    }\n    if ($max_sum == 0) {\n        $max_sum = max(@$a);\n        $max_i = 0;\n        $max_j = 0;\n        $max_len = 1;\n    }\n    if ($max_len == $n) {\n        return $max_sum * $k;\n    }\n    my $sum_of_all = 0;\n    my $sum_of_max_sub_array = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $sum_of_all += $a->[$i];\n        if ($i >= $max_i && $i <= $max_j) {\n            $sum_of_max_sub_array += $a->[$i];\n        }\n    }\n    my $max_sum_of_max_sub_array = $sum_of_max_sub_array;\n    my $max_sum_of_all = $sum_of_all * $k;\n    my $max_sum_of_other_sub_array = $max_sum_of_all - $max_sum_of_max_sub_array;\n    return max($max_",
    "\n    my $max_sum = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $prefix_sum = 0;\n    my $suffix_sum = 0;\n    my $max_prefix_sum = 0;\n    my $max_suffix_sum = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $curr_sum = max(0, $curr_sum);\n        $prefix_sum += $a->[$i];\n        $max_prefix_sum = max($max_prefix_sum, $prefix_sum);\n        $suffix_sum += $a->[$n-$i-1];\n        $max_suffix_sum = max($max_suffix_sum, $suffix_sum);\n    }\n    my $total_sum = $prefix_sum;\n    if ($total_sum < 0) {\n        return max($max_prefix_sum, $max_suffix_sum);\n    }\n    my $max_wrap_sum = $total_sum - min($max_prefix_sum, $max_suffix_sum);\n    return max($max_sum, $max_wrap_sum * ($k-1), $max_prefix_sum + $max_suffix_sum * ($k-2));\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $sum = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $sum += $a->[$i];\n    }\n    for (my $i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_sum = $max_sum * $k;\n    if ($sum > 0) {\n        $max_sum += ($k - 1) * $sum;\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $curr_start = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n            $curr_start = $i+1;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $max_start = $curr_start;\n            $max_end = $i;\n        }\n    }\n    my $min_sum = 0;\n    my $curr_min_sum = 0;\n    my $curr_min_start = 0;\n    my $min_start = 0;\n    my $min_end = 0;\n    for my $i (0..$n-1) {\n        $curr_min_sum += $a->[$i];\n        if ($curr_min_sum > 0) {\n            $curr_min_sum = 0;\n            $curr_min_start = $i+1;\n        }\n        if ($curr_min_sum < $min_sum) {\n            $min_sum = $curr_min_sum;\n            $min_start = $curr_min_start;\n            $min_end = $i;\n        }\n    }\n    my $total_sum = 0;\n    for my $i (0..$n-1) {\n        $total_sum += $a->[$i];\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    if ($total_sum > 0) {\n        return $max_sum + ($k-2)*$total_sum;\n    }\n    return max($max_sum, $total_sum*$k + $max_sum);\n}",
    "    my $max_sum = -1e9;\n    my $curr_sum = 0;\n    my $prefix_sum = 0;\n    my $suffix_sum = 0;\n    my $max_prefix_sum = -1e9;\n    my $max_suffix_sum = -1e9;\n    my $min_prefix_sum = 1e9;\n    my $min_suffix_sum = 1e9;\n    for my $i (0 .. $n-1) {\n        $curr_sum += $a->[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $max_sum = max($max_sum, $curr_sum - $min_prefix_sum);\n        $min_prefix_sum = min($min_prefix_sum, $curr_sum);\n        $prefix_sum += $a->[$i];\n        $max_prefix_sum = max($max_prefix_sum, $prefix_sum);\n        $min_prefix_sum = min($min_prefix_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    for my $i (reverse 0 .. $n-1) {\n        $curr_sum += $a->[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $max_sum = max($max_sum, $curr_sum - $min_suffix_sum);\n        $min_suffix_sum = min($min_suffix_sum, $curr_sum);\n        $suffix_sum += $a->[$i];\n        $max_suffix_sum = max($max_suffix_sum, $suffix_sum);\n        $min_suffix_sum = min($min_suffix_sum, $suffix_sum);\n    }\n    $max_sum = max($max_sum, $max_prefix_sum + ($k-2) * $prefix_sum + $max_suffix_sum);\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_end = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_ending_here_start = 0;\n    my $max_ending_here_end = 0;\n    my $max_ending_here_sum = 0;\n    my $max_so_far_start = 0;\n    my $max_so_far_end = 0;\n    my $max_so_far_sum = 0;\n    my $max_sum_start = 0;\n    my $max_sum_end = 0;\n    my $max_sum_sum = 0;\n    my $max_sum_so_far = 0;\n    my $max_sum_ending_here = 0;\n    my $max_sum_ending_here_start = 0;\n    my $max_sum_ending_here_end = 0;\n    my $max_sum_ending_here_sum = 0;\n    my $max_sum_so_far_start = 0;\n    my $max_sum_so_far_end = 0;\n    my $max_sum_so_far_sum = 0;\n    my $max_sum_so_far_sum = 0;\n    my $max_sum_so_far_sum = 0;\n    my $max_sum_so_far_sum = 0;\n    my $max_sum_so_far_sum = 0;\n    my $max_sum_so_far_sum = 0;\n    my $max_sum_so_far_sum = 0;\n    my $max_sum_so_far_sum = 0;\n    my $max_sum_so_far_sum = 0;\n    my $max_sum_so_far_sum = 0;\n    my $max_sum_so_far_sum = 0;\n",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_elem = 0;\n    my $max_elem_index = -1;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        if($a->[$i] > $max_elem) {\n            $max_elem = $a->[$i];\n            $max_elem_index = $i;\n        }\n    }\n    if($max_elem < 0) {\n        return $max_elem * $k;\n    }\n    $max_sum = $curr_sum;\n    for my $i (0..$n-2) {\n        $curr_sum = $curr_sum - ($a->[$i] + $a->[$n-1-$i]);\n        $curr_sum = $curr_sum + ($a->[$n-1-$i] * ($k-1)) + ($a->[$i] * ($k-1));\n        if($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    for my $i (0..$n-1) {\n        $max_ending_here += $a->[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n        }\n    }\n    $max_sum = $max_so_far;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n    }\n    if ($curr_sum > 0) {\n        $max_sum += $curr_sum * ($k-2);\n    }\n    $curr_sum = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;\n    my $prefix_sum = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_val = max($max_val, $a->[$i]);\n        $min_val = min($min_val, $a->[$i]);\n        $prefix_sum += $a->[$i];\n    }\n    if ($k == 1) {\n        return $curr_sum;\n    }\n    $max_sum = $curr_sum;\n    for my $i (1..$k-1) {\n        if ($curr_sum > 0) {\n            $curr_sum = $curr_sum + $prefix_sum;\n        }\n        else {\n            $curr_sum = $prefix_sum;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($k*$prefix_sum > $max_sum) {\n        return $k*$prefix_sum;\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    for my $i (0 .. $n - 1) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    my $max_wrap = 0;\n    for my $i (0 .. $n - 1) {\n        $max_wrap += $a->[$i];\n        $a->[$i] = -$a->[$i];\n    }\n    $curr_sum = 0;\n    for my $i (0 .. $n - 1) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    return max($max_sum, $max_wrap * ($k - 2));\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_sum_array = [];\n    for ($i = 0; $i < $n; $i++) {\n        $max_ending_here = $max_ending_here + $a->[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n            $s = $i + 1;\n        }\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n    }\n    $max_sum = $max_so_far;\n    $curr_sum = $max_sum;\n    for ($i = 1; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum = $curr_sum + $a->[$j];\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n        }\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    for my $i (0..$n-1) {\n        $max_val += $a->[$i];\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $suffix_sum = 0;\n    my $prefix_sum = 0;\n    for my $i (0..$n-1) {\n        $suffix_sum += $a->[$i];\n        $prefix_sum += $a->[$n-$i-1];\n        $curr_sum = $suffix_sum + $prefix_sum;\n        $curr_sum += ($k-2) * $max_val;\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    for my $i (0..$n-1) {\n        my $sum = 0;\n        for my $j (0..$n-1) {\n            $sum += $a->[($i + $j) % $n];\n            $max_sum = max($max_sum, $sum);\n        }\n    }\n    return $max_sum * $k;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $max_start_index = 0;\n    my $max_end_index = 0;\n    my $max_start_index_so_far = 0;\n    my $max_end_index_so_far = 0;\n    my $max_start_index_ending_here = 0;\n    my $max_end_index_ending_here = 0;\n    my $max_start_index_so_far_ending_here = 0;\n    my $max_end_index_so_far_ending_here = 0;\n    my $max_start_index_ending_here_so_far = 0;\n    my $max_end_index_ending_here_so_far = 0;\n    my $max_start_index_so_far_ending_here_so_far = 0;\n    my $max_end_index_so_far_ending_here_so_far = 0;\n    my $max_start_index_ending_here_so_far_so_far = 0;\n    my $max_end_index_ending_here_so_far_so_far = 0;\n    my $max_start_index_so_far_ending_here_so_far_so_far = 0;\n    my $max_end_index_so_far_ending_here_so_far_so_far = 0;\n    my $max_start_index_ending_here_so_far_so_far_so_far = 0;\n    my $max_end_index_ending_here_so_far_so_far_so_far = 0;\n    my $max_start_index_so_far_ending_here_so_far_so_far_so_far = 0",
    "    my $max_sum = $a->[0];\n    my $curr_sum = $a->[0];\n    my $i = 1;\n    while ($i < $n) {\n        $curr_sum += $a->[$i];\n        $curr_sum = $a->[$i] if ($curr_sum < $a->[$i]);\n        $max_sum = $curr_sum if ($max_sum < $curr_sum);\n        $i++;\n    }\n    my $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a->[$i];\n        $a->[$i] = -$a->[$i];\n    }\n    my $curr_val = max_sub_array_sum($a, $n);\n    $curr_val = $sum + $curr_val if ($curr_val < 0);\n    $max_sum = $curr_val if ($max_sum < $curr_val);\n    return $max_sum;\n}",
    "    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_element = 0;\n    my $min_element = 0;\n    my $sum = 0;\n    for my $i (0 .. $n - 1) {\n        $max_element = max($max_element, $a->[$i]);\n        $min_element = min($min_element, $a->[$i]);\n        $sum += $a->[$i];\n        $max_ending_here = max(0, $max_ending_here + $a->[$i]);\n        $max_so_far = max($max_so_far, $max_ending_here);\n    }\n    if ($max_element < 0) {\n        return $max_element;\n    }\n    if ($max_so_far == 0) {\n        return $max_element;\n    }\n    my $max_sum = $max_so_far;\n    my $min_sum = $sum - $min_element;\n    my $result = $max_so_far;\n    for my $i (2 .. $k) {\n        $max_sum = ($max_sum + $min_sum) % 1000000007;\n        $result = max($result, $max_sum);\n    }\n    return $result;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $curr_sum = $curr_sum + $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n        $curr_val = $curr_val + $a->[$i];\n        if ($curr_val > $max_val) {\n            $max_val = $curr_val;\n        }\n    }\n    if ($max_val < 0) {\n        return $max_val;\n    }\n    $max_sum = $max_sum + ($k - 2) * $curr_val;\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    my $i = 0;\n    my $j = 0;\n    my $l = 0;\n    my $r = 0;\n    my $m = 0;\n    my $s = 0;\n    my $t = 0;\n    my $u = 0;\n    my $v = 0;\n    my $w = 0;\n    my $x = 0;\n    my $y = 0;\n    my $z = 0;\n    my $a1 = 0;\n    my $a2 = 0;\n    my $a3 = 0;\n    my $a4 = 0;\n    my $a5 = 0;\n    my $a6 = 0;\n    my $a7 = 0;\n    my $a8 = 0;\n    my $a9 = 0;\n    my $a10 = 0;\n    my $a11 = 0;\n    my $a12 = 0;\n    my $a13 = 0;\n    my $a14 = 0;\n    my $a15 = 0;\n    my $a16 = 0;\n    my $a17 = 0;\n    my $a18 = 0;\n    my $a19 = 0;\n    my $a20 = 0;\n    my $a21 = 0;\n    my $a22 = 0;\n    my $a23 = 0;\n    my $a24 = 0;\n    my $a25 = 0;\n    my $a26 = 0;\n    my $a27 = 0;\n    my $a28 = 0;\n    my $a29 = 0;\n    my $a30 = 0;\n    my $a31 = 0;\n    my $a32 = 0;\n    my $a33 = 0;\n    my $a34 = 0;\n    my $a35 = 0;\n    my $a36 = 0;\n    my $a37 = 0;\n    my $a38 = 0;\n    my $a39 = 0;\n    my $a40 = 0;\n    my $a41",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_sum_i = 0;\n    my $max_sum_j = 0;\n    my $max_sum_k = 0;\n    my $curr_sum_k = 0;\n    my $curr_sum_i = 0;\n    my $curr_sum_j = 0;\n    my $max_sum_k_i = 0;\n    my $max_sum_k_j = 0;\n    my $max_sum_k_i_j = 0;\n    my $curr_sum_k_i_j = 0;\n    my $max_sum_k_i_j_i = 0;\n    my $max_sum_k_i_j_j = 0;\n    my $curr_sum_k_i_j_i = 0;\n    my $curr_sum_k_i_j_j = 0;\n    my $max_sum_k_i_j_i_j = 0;\n    my $curr_sum_k_i_j_i_j = 0;\n    my $max_sum_k_i_j_i_j_i = 0;\n    my $max_sum_k_i_j_i_j_j = 0;\n    my $curr_sum_k_i_j_i_j_i = 0;\n    my $curr_sum_k_i_j_i_j_j = 0;\n    my $max_sum_k_i_j_i_j_i_j = 0;\n    my $curr_sum_k_i_j_i_j_i_j = 0;\n    my $max_sum_k_i_j_i_j_i_j_i = 0;\n    my $max_sum_k_i_j_i_j_i_j_j = 0;\n    my $curr_sum_k_i_j_i_j_i_j_i = 0;\n    my $curr",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $max_val = max($max_val, $a->[$i]);\n        $min_val = min($min_val, $a->[$i]);\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $max_wrap = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $max_wrap += $a->[$i];\n    }\n    if ($max_wrap > 0) {\n        $max_wrap = $max_wrap * ($k - 2);\n    }\n    return max($max_sum, $max_wrap + $max_val);\n}",
    "    my $max_sum = 0;\n    my $max_sum_so_far = 0;\n    my $sum = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $sum += $a->[$i];\n        if ($sum > $max_sum_so_far) {\n            $max_sum_so_far = $sum;\n        }\n        if ($sum < 0) {\n            $sum = 0;\n        }\n    }\n    $max_sum = $max_sum_so_far;\n    my $sum_of_all_elements = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $sum_of_all_elements += $a->[$i];\n    }\n    if ($sum_of_all_elements > 0) {\n        $max_sum = $max_sum_so_far + ($sum_of_all_elements * ($k - 2));\n    }\n    my $curr_val = 0;\n    for (my $i = 0; $i < $n; $i++) {\n        $curr_val += $a->[$i];\n        $max_sum = max($max_sum, $curr_val);\n        $curr_val = max(0, $curr_val);\n    }\n    $curr_val = 0;\n    for (my $i = $n - 1; $i >= 0; $i--) {\n        $curr_val += $a->[$i];\n        $max_sum = max($max_sum, $curr_val);\n        $curr_val = max(0, $curr_val);\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    my $i = 0;\n    my $j = 0;\n    my $l = 0;\n    my $m = 0;\n    my $n = 0;\n    my $o = 0;\n    my $p = 0;\n    my $q = 0;\n    my $r = 0;\n    my $s = 0;\n    my $t = 0;\n    my $u = 0;\n    my $v = 0;\n    my $w = 0;\n    my $x = 0;\n    my $y = 0;\n    my $z = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        $curr_val += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_val > $max_val) {\n            $max_val = $curr_val;\n        }\n    }\n    if ($k == 1) {\n        return $max_val;\n    }\n    $max_sum = $curr_sum;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        $curr_sum += $a->[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    for my $i (0..$n-1) {\n        $max_val += $a->[$i];\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($max_sum == 0) {\n        return $max_val;\n    }\n    my $sum = 0;\n    for my $i (0..$n-1) {\n        $sum += $a->[$i];\n        $a->[$i] = -$a->[$i];\n    }\n    my $curr_val = $sum;\n    for my $i (0..$n-1) {\n        $curr_val += $a->[$i];\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    return $max_sum + ($k-2) * $sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = max(@$a);\n    if ($max_val < 0) {\n        return $max_val * $k;\n    }\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    return $max_sum * $k;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_sum += $a->[$i];\n        $curr_val += $a->[$i];\n        $max_val = $curr_val if $curr_val > $max_val;\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($k == 1) {\n        return $max_val;\n    }\n    my $suffix_sum = 0;\n    my $prefix_sum = 0;\n    for my $i (0..$n-1) {\n        $suffix_sum += $a->[$i];\n        $prefix_sum += $a->[$n-$i-1];\n        $max_sum = max($max_sum, $suffix_sum);\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    return max($max_sum, $max_val + ($k-2)*$max_val);\n}",
    "\n    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;",
    "    my($max_so_far, $max_ending_here, $i, $j, $max_sum, $sum) = (0, 0, 0, 0, 0, 0);\n    for($i = 0; $i < $n; $i++) {\n        $max_ending_here += $a->[$i];\n        if($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n        }\n    }\n    for($i = 0; $i < $n; $i++) {\n        $sum += $a->[$i];\n    }\n    $max_sum = $sum * $k;\n    if($sum > 0) {\n        $max_sum = $max_sum + $max_so_far;\n    }\n    for($i = 0; $i < $n; $i++) {\n        $sum = 0;\n        for($j = $i; $j < $n; $j++) {\n            $sum += $a->[$j];\n            if($sum > $max_sum) {\n                $max_sum = $sum;\n            }\n        }\n    }\n    return $max_sum;\n}",
    "\n    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $max_sum_ending_here = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_sum += $a->[$i];\n        $curr_val += $a->[$i];\n        $max_val = $curr_val if $curr_val > $max_val;\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($k == 1) {\n        return $max_val;\n    }\n    my $suffix_sum = 0;\n    my $prefix_sum = 0;\n    for my $i (0..$n-1) {\n        $suffix_sum += $a->[$i];\n        $prefix_sum += $a->[$n-$i-1];\n        $max_sum = max($max_sum, $suffix_sum);\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    return max($max_sum, $max_val + ($k-2) * $max_val);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_end = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $i;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a->[$j];\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n                $s = $j + 1;\n            }\n            elsif ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n                $start = $s;\n                $end = $j;\n            }\n        }\n    }\n    return $max_sum;\n}",
    "\n    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_elem = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $sum_all = 0;\n    for(my $i = 0; $i < $n; $i++) {\n        $max_val = max($max_val, $a->[$i]);\n        $sum_all += $a->[$i];\n        $curr_sum += $a->[$i];\n        if($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if($k == 1) {\n        return $max_sum;\n    }\n    if($max_val < 0) {\n        return $max_val;\n    }\n    my $max_prefix_sum = 0;\n    my $curr_prefix_sum = 0;\n    for(my $i = 0; $i < $n; $i++) {\n        $curr_prefix_sum += $a->[$i];\n        $max_prefix_sum = max($max_prefix_sum, $curr_prefix_sum);\n    }\n    my $max_suffix_sum = 0;\n    my $curr_suffix_sum = 0;\n    for(my $i = $n - 1; $i >= 0; $i--) {\n        $curr_suffix_sum += $a->[$i];\n        $max_suffix_sum = max($max_suffix_sum, $curr_suffix_sum);\n    }\n    return max($max_sum, $max_prefix_sum + $max_suffix_sum + ($k - 2) * $sum_all);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $sum = 0;\n    for my $i (0..$n-1) {\n        $sum += $a->[$i];\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($sum < 0) {\n        return $max_sum;\n    }\n    my $max_wrap = 0;\n    for my $i (0..$n-1) {\n        $max_wrap += $a->[$i];\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_wrap < $curr_sum) {\n            $max_wrap = $curr_sum;\n        }\n    }\n    return max($max_sum, $max_wrap + ($k-2)*$sum);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $max_sum_ending_here = 0;\n    my $max_sum_ending_here_prev = 0;\n    my $max_sum_ending_here_next = 0;\n    my $max_sum_ending_here_prev_next = 0;\n    my $max_sum_ending_here_prev_prev = 0;\n    my $max_sum_ending_here_next_next = 0;\n    my $max_sum_ending_here_prev_prev_next = 0;\n    my $max_sum_ending_here_prev_next_next = 0;\n    my $max_sum_ending_here_prev_prev_next_next = 0;\n    my $max_sum_ending_here_prev_prev_next_next_next = 0;\n    my $max_sum_ending_here_prev_prev_next_next_next_next = 0;\n    my $max_sum_ending_here_prev_prev_next_next_next_next_next = 0;\n    my $max_sum_ending_here_prev_prev_next_next_next_next_next_next = 0;\n    my $max_sum_ending_here_prev_prev_next_next_next_next_next_next_next = 0;\n    my $max_sum_ending_here_prev_prev_next_next_next_next_next_next_next_next = 0;\n    my $max_sum_ending_here_prev_prev_next_next_next_next_next_next_next_next_next = 0;\n    my $max_sum_ending_here_prev_prev_next_next_next_next_next_next_next_next_next_next = 0;\n    my $max_sum_ending_here_prev_prev_next_next_next_next_next_next_next_next_next_next_next = 0;\n    my $max_sum_ending_here_prev_prev_next_next_next_next_next_next",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    for (my $i = 0; $i < $n * $k; $i++) {\n        $max_ending_here += $a->[$i % $n];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n            $s = $i + 1;\n        }\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n    }\n    for (my $i = $start; $i <= $end; $i++) {\n        $curr_sum += $a->[$i % $n];\n    }\n    $max_sum = $curr_sum;\n    for (my $i = 1; $i < $k; $i++) {\n        $curr_sum = ($curr_sum - ($end % $n + 1) + $n) % $n;\n        $max_sum = $curr_sum if $max_sum < $curr_sum;\n    }\n    return $max_sum;\n}",
    "\n    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $i = 0;\n    while ($i < $k) {\n        my $j = 0;\n        while ($j < $n) {\n            $curr_sum += $a->[$j];\n            $max_sum = $curr_sum if $curr_sum > $max_sum;\n            $curr_sum = 0 if $curr_sum < 0;\n            $j++;\n        }\n        $i++;\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $curr_start = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $curr_end = 0;\n    my $i = 0;\n    my $j = 0;\n    my $l = 0;\n    my $m = 0;\n    my $n = 0;\n    my $o = 0;\n    my $p = 0;\n    my $q = 0;\n    my $r = 0;\n    my $s = 0;\n    my $t = 0;\n    my $u = 0;\n    my $v = 0;\n    my $w = 0;\n    my $x = 0;\n    my $y = 0;\n    my $z = 0;\n    my $a1 = 0;\n    my $b1 = 0;\n    my $c1 = 0;\n    my $d1 = 0;\n    my $e1 = 0;\n    my $f1 = 0;\n    my $g1 = 0;\n    my $h1 = 0;\n    my $i1 = 0;\n    my $j1 = 0;\n    my $k1 = 0;\n    my $l1 = 0;\n    my $m1 = 0;\n    my $n1 = 0;\n    my $o1 = 0;\n    my $p1 = 0;\n    my $q1 = 0;\n    my $r1 = 0;\n    my $s1 = 0;\n    my $t1 = 0;\n    my $u1 = 0;\n    my $v1 = 0;\n    my $w1 = 0;\n    my $x1 = 0;\n    my $y1 = 0;\n    my $z1 = 0;\n    my $a2 = 0;\n    my $b2 = 0;\n    my $c2 = 0;\n    my $d2 = 0;\n    my $e2 = 0;\n    my $f2 = 0;\n    my $g2 = 0;\n    my $h2 = 0;\n    my $i2 =",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $e = 0;\n    my $max_ending_here = 0;\n    my $max_ending_here_prev = 0;\n    my $max_so_far_prev = 0;\n    my $max_so_far_prev_prev = 0;\n    my $max_ending_here_prev_prev = 0;\n    my $max_ending_here_prev_prev_prev = 0;\n    my $max_ending_here_prev_prev_prev_prev = 0;\n    my $max_ending_here_prev_prev_prev_prev_prev = 0;\n    my $max_ending_here_prev_prev_prev_prev_prev_prev = 0;\n    my $max_ending_here_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_ending_here_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_ending_here_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev_prev = 0;\n    my $max_ending_here_prev",
    "\n    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    my $i = 0;\n    while ($i < $n) {\n        $curr_sum += $a->[$i];\n        $curr_val += $a->[$i];\n        if ($curr_val > $max_val) {\n            $max_val = $curr_val;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        $i++;\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $suffix_sum = 0;\n    my $prefix_sum = 0;\n    $i = 0;\n    while ($i < $n) {\n        $suffix_sum += $a->[$i];\n        $prefix_sum += $a->[$n - $i - 1];\n        $curr_sum = $suffix_sum + $prefix_sum;\n        $curr_val = $curr_sum + ($k - 2) * $max_val;\n        if ($curr_val > $max_sum) {\n            $max_sum = $curr_val;\n        }\n        $i++;\n    }\n    return $max_sum;\n}",
    "\n    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;\n    my $i = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_so",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    my $i = 0;\n    my $j = 0;\n    my $l = 0;\n    my $r = 0;\n    my $m = 0;\n    my $s = 0;\n    my $e = 0;\n    my $sum = 0;\n    my $max_wrap = 0;\n    my $min_wrap = 0;\n    my $wrap_sum = 0;\n    my $min_val = 0;\n    my $max_index = 0;\n    my $min_index = 0;\n    my $max_index_wrap = 0;\n    my $min_index_wrap = 0;\n    my $max_index_wrap_sum = 0;\n    my $min_index_wrap_sum = 0;\n    my $max_index_wrap_val = 0;\n    my $min_index_wrap_val = 0;\n    my $max_index_val = 0;\n    my $min_index_val = 0;\n    my $max_index_sum = 0;\n    my $min_index_sum = 0;\n    my $max_index_sum_wrap = 0;\n    my $min_index_sum_wrap = 0;\n    my $max_index_sum_wrap_val = 0;\n    my $min_index_sum_wrap_val = 0;\n    my $max_index_sum_val = 0;\n    my $min_index_sum_val = 0;\n    my $max_index_sum_wrap_sum = 0;\n    my $min_index_sum_wrap_sum = 0;\n    my $max_index_sum_sum = 0;\n    my $min_index_sum_sum = 0;\n    my $max_index_sum_wrap_sum_val = 0;\n    my $min_index_sum_wrap_sum_val = 0;\n    my $max_index_sum_sum_val = 0;\n    my $min_index_sum_sum_val = 0;\n   ",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $i = 0;\n    for (; $i < $n; $i++) {\n        $max_val += $a->[$i];\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    my $sum = 0;\n    for (; $i < $n * $k; $i++) {\n        $sum += $a->[$i % $n];\n        $curr_sum += $a->[$i % $n];\n        $curr_sum -= $sum;\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $min_ending_here = 0;\n    for my $i (0..$n-1) {\n        $max_ending_here = $max_ending_here + $a->[$i];\n        $min_ending_here = $min_ending_here + $a->[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($min_ending_here > 0) {\n            $min_ending_here = 0;\n        }\n        $max_sum = max($max_sum, $max_ending_here);\n    }\n    if ($max_sum == 0) {\n        return max_sub_array_sum($a, $n);\n    }\n    my $min_sum = 0;\n    for my $i (0..$n-1) {\n        $curr_sum = $curr_sum + $a->[$i];\n        $max_sum = max($max_sum, $curr_sum - $min_sum);\n        $min_sum = min($min_sum, $curr_sum);\n    }\n    my $total_sum = 0;\n    for my $i (0..$n-1) {\n        $total_sum = $total_sum + $a->[$i];\n    }\n    my $corr_sum = $total_sum * $k;\n    $max_sum = max($max_sum, $corr_sum - $min_sum);\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $min_ending_here = 0;\n    for my $i (0..$n-1) {\n        $max_ending_here = $max_ending_here + $a->[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($max_sum < $max_ending_here) {\n            $max_sum = $max_ending_here;\n        }\n        $min_ending_here = $min_ending_here + $a->[$i];\n        if ($min_ending_here > 0) {\n            $min_ending_here = 0;\n        }\n        if ($min_ending_here < $curr_sum) {\n            $curr_sum = $min_ending_here;\n        }\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $max_wrap = 0;\n    for my $i (0..$n-1) {\n        $max_wrap += $a->[$i];\n        $a->[$i] = -$a->[$i];\n    }\n    $max_wrap = $max_wrap + max_sub_array_sum_repeated($a, $n, 1);\n    return max($max_sum, $max_wrap);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_val = max($max_val, $a->[$i]);\n        $min_val = min($min_val, $a->[$i]);\n    }\n    if ($max_val < 0) {\n        return $max_val * $k;\n    }\n    if ($min_val > 0) {\n        return $min_val * $k;\n    }\n    $max_sum = $curr_sum;\n    for my $i (0..$n-1) {\n        $curr_sum = $curr_sum - $a->[$i] + $a->[$i] * $k;\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $max_sum_ending_here = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_i = 0;\n    my $max_j = 0;\n    my $max_i_so_far = 0;\n    my $max_j_so_far = 0;\n    my $curr_i = 0;\n    my $curr_j = 0;\n    my $curr_i_so_far = 0;\n    my $curr_j_so_far = 0;\n    my $max_sum_so_far_k = 0;\n    my $max_sum_ending_here_k = 0;\n    my $max_i_so_far_k = 0;\n    my $max_j_so_far_k = 0;\n    my $curr_i_so_far_k = 0;\n    my $curr_j_so_far_k = 0;\n    my $curr_sum_k = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;\n    my $i;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        $max_val = max($max_val, $a->[$i]);\n        $min_val = min($min_val, $a->[$i]);\n    }\n    if ($max_val < 0) {\n        return $max_val * $k;\n    }\n    if ($min_val > 0) {\n        return $min_val * $k;\n    }\n    $max_sum = $curr_sum;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = $curr_sum - $a->[$i] + $a->[$i] * $k;\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $curr_sum_so_far = 0;\n    for my $i (0..$n-1) {\n        $curr_sum += $a->[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $curr_sum = 0 if $curr_sum < 0;\n        $curr_sum_so_far += $a->[$i];\n        $max_sum_so_far = max($max_sum_so_far, $curr_sum_so_far);\n        $curr_sum_so_far = 0 if $curr_sum_so_far < 0;\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $max_wrap = 0;\n    for my $i (0..$n-1) {\n        $max_wrap += $a->[$i];\n        $a->[$i] = -$a->[$i];\n    }\n    my $curr_wrap = 0;\n    for my $i (0..$n-1) {\n        $curr_wrap += $a->[$i];\n        $max_wrap = max($max_wrap, $curr_wrap);\n        $curr_wrap = 0 if $curr_wrap < 0;\n    }\n    if ($max_wrap + $max_sum_so_far > 0) {\n        return max($max_wrap + $max_sum_so_far, $max_sum);\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $max_sum_ending_here = 0;\n    my $i = 0;\n    my $j = 0;\n    my $l = 0;\n    my $m = 0;\n    my $n = 0;\n    my $p = 0;\n    my $q = 0;\n    my $r = 0;\n    my $s = 0;\n    my $t = 0;\n    my $u = 0;\n    my $v = 0;\n    my $w = 0;\n    my $x = 0;\n    my $y = 0;\n    my $z = 0;\n    my $a1 = 0;\n    my $b1 = 0;\n    my $c1 = 0;\n    my $d1 = 0;\n    my $e1 = 0;\n    my $f1 = 0;\n    my $g1 = 0;\n    my $h1 = 0;\n    my $i1 = 0;\n    my $j1 = 0;\n    my $k1 = 0;\n    my $l1 = 0;\n    my $m1 = 0;\n    my $n1 = 0;\n    my $o1 = 0;\n    my $p1 = 0;\n    my $q1 = 0;\n    my $r1 = 0;\n    my $s1 = 0;\n    my $t1 = 0;\n    my $u1 = 0;\n    my $v1 = 0;\n    my $w1 = 0;\n    my $x1 = 0;\n    my $y1 = 0;\n    my $z1 = 0;\n    my $a2 = 0;\n    my $b2 = 0;\n    my $c2 = 0;\n    my $d2 = 0;\n    my $e2 = 0;\n    my $f2 = 0;\n    my $g2 = 0;\n    my $h2 = 0;\n    my $i2 = 0;\n    my $j2 = 0;\n    my $k2 = 0;\n   ",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $sum_arr = 0;\n    for my $i (0 .. $n - 1) {\n        $sum_arr += $a->[$i];\n        $curr_sum += $a->[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum;\n        }\n    }\n    if ($sum_arr < 0) {\n        return $max_sum_so_far;\n    }\n    $max_sum = $max_sum_so_far;\n    for my $i (1 .. $k - 1) {\n        $max_sum += $sum_arr;\n        $curr_sum = $curr_sum + $sum_arr;\n        if ($curr_sum > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum;\n        }\n    }\n    return $max_sum_so_far;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $curr_start = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $curr_end = 0;\n    for(my $i = 0; $i < $n * $k; $i++) {\n        $curr_sum += $a->[$i % $n];\n        $curr_end = $i;\n        if($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $max_start = $curr_start;\n            $max_end = $curr_end;\n        }\n        if($curr_sum < 0) {\n            $curr_sum = 0;\n            $curr_start = $i + 1;\n        }\n    }\n    return ($max_sum, $max_start, $max_end);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;\n    for my $i (0 .. $n - 1) {\n        $max_val = max($max_val, $a->[$i]);\n        $min_val = min($min_val, $a->[$i]);\n        $curr_sum += $a->[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $array_sum = 0;\n    for my $i (0 .. $n - 1) {\n        $array_sum += $a->[$i];\n    }\n    if ($array_sum > 0) {\n        return max($max_sum, $array_sum * $k);\n    }\n    if ($max_val < 0) {\n        return $max_val * $k;\n    }\n    if ($min_val > 0) {\n        return $min_val * $k;\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    for (my $i = 0; $i < $n * $k; $i++) {\n        $max_ending_here = $max_ending_here + $a->[$i % $n];\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n            $s = $i + 1;\n        }\n    }\n    return $max_so_far;\n}",
    "    my($max_so_far, $max_ending_here) = (0, 0);\n    for my $i (0 .. $n - 1) {\n        $max_ending_here = $max_ending_here + $a->[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n        }\n    }\n    my($max_wrap) = 0;\n    if ($k > 1) {\n        for my $i (0 .. $n - 1) {\n            $max_wrap += $a->[$i];\n            $a->[$i] = -$a->[$i];\n        }\n        $max_wrap += max_sub_array_sum_repeated($a, $n, 1);\n    }\n    return max($max_so_far, $max_wrap);\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_sum_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $max_start_so_far = 0;\n    my $max_end_so_far = 0;\n    my $max_sum_so_far_index = 0;\n    my $max_sum_so_far_index_end = 0;\n    my $max_sum_so_far_index_start = 0;\n    my $max_sum_so_far_index_end_start = 0;\n    my $max_sum_so_far_index_end_end = 0;\n    my $max_sum_so_far_index_start_start = 0;\n    my $max_sum_so_far_index_start_end = 0;\n    my $max_sum_so_far_index_end_start_start = 0;\n    my $max_sum_so_far_index_end_start_end = 0;\n    my $max_sum_so_far_index_end_end_start = 0;\n    my $max_sum_so_far_index_end_end_end = 0;\n    my $max_sum_so_far_index_start_start_start = 0;\n    my $max_sum_so_far_index_start_start_end = 0;\n    my $max_sum_so_far_index_start_end_start = 0;\n    my $max_sum_so_far_index_start_end_end = 0;\n    my $max_sum_so_far_index_end_start_start_start = 0;\n    my $max_sum_so_far_index_end_start_start_end = 0;\n    my $max_sum_so_far_index_end_start_end_start = 0;\n    my $max_sum_so_far_index_end_start",
    "    my $sum = 0;\n    my $max = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_index = 0;\n    my $max_sum = 0;\n    my $max_end = 0;\n    my $max_start = 0;\n    my $max_len = 0;\n    my $max_end_index = 0;\n    my $max_start_index = 0;\n    my $max_len_index = 0;\n    my $max_start_index_k = 0;\n    my $max_end_index_k = 0;\n    my $max_len_index_k = 0;\n    my $max_start_k = 0;\n    my $max_end_k = 0;\n    my $max_len_k = 0;\n    my $max_sum_k = 0;\n    my $max_index_k = 0;\n    my $max_k = 0;\n    my $max_sum_repeated = 0;\n    my $max_repeated = 0;\n    my $max_repeated_index = 0;\n    my $max_repeated_start_index = 0;\n    my $max_repeated_end_index = 0;\n    my $max_repeated_len_index = 0;\n    my $max_repeated_start = 0;\n    my $max_repeated_end = 0;\n    my $max_repeated_len = 0;\n    my $max_repeated_sum = 0;\n    my $max_repeated_sum_k = 0;\n    my $max_repeated_k = 0;\n    my $max_repeated_index_k = 0;\n    my $max_repeated_start_index_k = 0;\n    my $max_repeated_end_index_k = 0;\n    my $max_repeated_len_index_k = 0;\n    my $max_repeated_start_k = 0;\n    my $max_repeated_end_k = 0;\n    my $max_repeated_len_k = 0;\n    my $max_repeated_",
    "    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_element = 0;\n    my $sum = 0;\n    for my $i (0..$n-1) {\n        $max_element = max($max_element, $a->[$i]);\n        $sum += $a->[$i];\n        $max_ending_here = max(0, $max_ending_here + $a->[$i]);\n        $max_so_far = max($max_so_far, $max_ending_here);\n    }\n    if ($max_element < 0) {\n        return $max_element;\n    }\n    my $max_sum = $max_so_far;\n    my $max_prefix_sum = 0;\n    my $max_suffix_sum = 0;\n    for my $i (0..$n-1) {\n        $max_prefix_sum = max($max_prefix_sum, $sum);\n        $sum -= $a->[$i];\n    }\n    $sum = 0;\n    for my $i (reverse 0..$n-1) {\n        $max_suffix_sum = max($max_suffix_sum, $sum);\n        $sum += $a->[$i];\n    }\n    if ($k > 1) {\n        $max_sum = max($max_sum, $max_prefix_sum + ($k-2)*$sum + $max_suffix_sum);\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $min_val = 0;\n    my $i = 0;\n    my $j = 0;\n    my $sum = 0;\n    my $curr_val = 0;\n    my $min_sum = 0;\n    my $flag = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a->[$i];\n        $curr_val += $a->[$i];\n        if ($curr_val > $max_val) {\n            $max_val = $curr_val;\n        }\n        if ($curr_val < $min_val) {\n            $min_val = $curr_val;\n        }\n    }\n    if ($k == 1) {\n        return $max_val;\n    }\n    $max_sum = $sum;\n    $curr_sum = $sum;\n    $min_sum = $sum;\n    for ($i = 2; $i <= $k; $i++) {\n        $curr_sum = ($curr_sum + $sum);\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < $min_sum) {\n            $min_sum = $curr_sum;\n        }\n    }\n    if ($min_val * ($k - 2) > $min_sum) {\n        $min_sum = $min_val * ($k - 2);\n    }\n    if ($max_val * ($k - 2) < $max_sum) {\n        $max_sum = $max_val * ($k - 2);\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $curr_sum = max($curr_sum,",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $max_size = 0;\n    my $size = 0;\n    my $max_sub_array = [];\n    my $sub_array = [];\n    my $max_sub_array_repeated = [];\n    my $max_sub_array_repeated_sum = 0;\n    my $max_sub_array_repeated_size = 0;\n    my $max_sub_array_repeated_start = 0;\n    my $max_sub_array_repeated_end = 0;\n    my $max_sub_array_repeated_sub_array = [];\n    my $max_sub_array_repeated_sub_array_sum = 0;\n    my $max_sub_array_repeated_sub_array_size = 0;\n    my $max_sub_array_repeated_sub_array_start = 0;\n    my $max_sub_array_repeated_sub_array_end = 0;\n    my $max_sub_array_repeated_sub_array_sub_array = [];\n    my $max_sub_array_repeated_sub_array_sub_array_sum = 0;\n    my $max_sub_array_repeated_sub_array_sub_array_size = 0;\n    my $max_sub_array_repeated_sub_array_sub_array_start = 0;\n    my $max_sub_array_repeated_sub_array_sub_array_end = 0;\n    my $max_sub_array_repeated_sub_array_sub_array_sub_array = [];\n    my $max_sub_array_repeated_sub_array_sub_array_sub_array_sum = 0;\n    my $max_sub_",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $i = 0;\n    my $j = 0;\n    my $max_so_far = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $e = 0;\n    my $len = 0;\n    my $max_len = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $max_start_index = 0;\n    my $max_end_index = 0;\n    my $max_start_index_so_far = 0;\n    my $max_end_index_so_far = 0;\n    my $max_len_so_far = 0;\n    my $max_sum_so_far = 0;\n    my $max_sum_ending_here = 0;\n    my $max_sum_ending_here_so_far = 0;\n    my $max_sum_ending_here_index = 0;\n    my $max_sum_ending_here_index_so_far = 0;\n    my $max_sum_ending_here_index_start = 0;\n    my $max_sum_ending_here_index_end = 0;\n    my $max_sum_ending_here_index_start_so_far = 0;\n    my $max_sum_ending_here_index_end_so_far = 0;\n    my $max_sum_ending_here_index_start_index = 0;\n    my $max_sum_ending_here_index_end_index = 0;\n    my $max_sum_ending_here_index_start_index_so_far = 0;\n    my $max_sum_ending_here_index_end_index_so_far = 0;\n    my $max_sum_ending_here_index_start_index_start = 0;\n    my $max_sum_ending_here_index_end_index_end = 0;\n    my $max_sum_ending_here_index_start_index",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $sum = 0;\n    for(my $i = 0; $i < $n; $i++) {\n        $sum += $a->[$i];\n        $curr_sum += $i * $a->[$i];\n    }\n    $max_sum = $curr_sum;\n    for(my $i = 1; $i < $k; $i++) {\n        $curr_sum = $curr_sum + $sum - $n * $a->[$n - 1];\n        $max_sum = $curr_sum if $curr_sum > $max_sum;\n    }\n    return $max_sum;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_val = 0;\n    my $curr_val = 0;\n    my $i = 0;\n    my $j = 0;\n    my $l = 0;\n    my $m = 0;\n    my $n = 0;\n    my $o = 0;\n    my $p = 0;\n    my $q = 0;\n    my $r = 0;\n    my $s = 0;\n    my $t = 0;\n    my $u = 0;\n    my $v = 0;\n    my $w = 0;\n    my $x = 0;\n    my $y = 0;\n    my $z = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a->[$i];\n        $curr_val += $a->[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_val > $max_val) {\n            $max_val = $curr_val;\n        }\n        if ($curr_val < 0) {\n            $curr_val = 0;\n        }\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    my $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a->[$i];\n        $a->[$i] = -$a->[$i];\n    }\n    my $curr_suffix_sum = 0;\n    my $curr_prefix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_suffix_sum += $a->[$i];\n        if ($curr_suffix_sum > $curr_val) {\n            $curr_val",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_wrap_sum = 0;\n    my $i = 0;\n    my $j = 0;",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    for my $i (0 .. $n-1) {\n        $max_ending_here = $max_ending_here + $a->[$i];\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n            $s = $i + 1;\n        }\n    }\n    $max_sum = $max_so_far;\n    $curr_sum = $max_sum;\n    for my $i (0 .. $n-2) {\n        $curr_sum = $curr_sum + $a->[$i] + $a->[$n-1] - $a->[$n-1-$i];\n        $max_sum = $curr_sum if $max_sum < $curr_sum;\n    }\n    return $max_sum;\n}",
    "    my $max_so_far = 0;\n    my $max_ending_here = 0;\n    my $max_element = $a->[0];\n    my $sum = 0;\n    for my $i (0..$n-1) {\n        $max_element = $a->[$i] if $a->[$i] > $max_element;\n        $sum += $a->[$i];\n        $max_ending_here = $max_ending_here + $a->[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n        }\n    }\n    if ($max_so_far == 0) {\n        return $max_element;\n    }\n    my $max_wrap = $sum - $max_so_far;\n    return $max_so_far + $max_wrap * ($k - 1) if $max_wrap > 0;\n    return $max_so_far;\n}",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $i = 0;\n    my $j = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    my $e = 0;\n    my $max_start = 0;\n    my $max_end = 0;\n    my $max_start_index = 0;\n    my $max_end_index = 0;\n    my $max_start_index_so_far = 0;\n    my $max_end_index_so_far = 0;\n    my $max_start_so_far = 0;\n    my $max_end_so_far = 0;\n    my $max_start_index_ending_here = 0;\n    my $max_end_index_ending_here = 0;\n    my $max_start_ending_here = 0;\n    my $max_end_ending_here = 0;\n    my $max_start_index_ending_here_so_far = 0;\n    my $max_end_index_ending_here_so_far = 0;\n    my $max_start_ending_here_so_far = 0;\n    my $max_end_ending_here_so_far = 0;\n    my $max_start_index_ending_here_so_far_temp = 0;\n    my $max_end_index_ending_here_so_far_temp = 0;\n    my $max_start_ending_here_so_far_temp = 0;\n    my $max_end_ending_here_so_far_temp = 0;\n    my $max_start_index_ending_here_temp = 0;\n    my $max_end_index_ending_here_temp = 0;\n    my $max_start_ending_here_temp = 0;\n    my $max_end_ending_here_temp = 0;\n    my $max_start_index_temp = 0;\n    my $max_end_index_temp = 0",
    "    my $max_sum = 0;\n    my $curr_sum = 0;\n    my $max_ending_here = 0;\n    my $max_so_far = 0;\n    my $start = 0;\n    my $end = 0;\n    my $s = 0;\n    for my $i (0 .. $n-1) {\n        $max_ending_here = $max_ending_here + $a->[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n            $s = $i + 1;\n        }\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n    }\n    for my $i ($start .. $end) {\n        $curr_sum = $curr_sum + $a->[$i];\n    }\n    $max_sum = $curr_sum;\n    for my $i (1 .. $k-1) {\n        $curr_sum = ($curr_sum - ($a->[$end] - $a->[$start-1]));\n        $max_sum = $max_sum + $curr_sum;\n    }\n    return $max_sum;\n}"
  ]
}