{
  "name": "mbpp_286_max_sub_array_sum_repeated",
  "language": "php",
  "prompt": "<?php\n// Write a function to find the largest sum of a contiguous array in the modified array which is formed by repeating the given array k times.\nfunction max_sub_array_sum_repeated($a, $n, $k) {\n",
  "doctests": "keep",
  "original": "/home/arjun/repos/MultiPL-E/datasets/../datasets/mbpp-typed/mbpp_286_max_sub_array_sum_repeated.py",
  "prompt_terminology": "verbatim",
  "tests": "function candidate(...$args) {\n    return max_sub_array_sum_repeated(...$args);\n}\n\nfunction test(): void {\n    if (candidate(array(10, 20, -30, -1), 4, 3) !== 30) { throw new Exception(\"Test failed!\"); }\n    if (candidate(array(-1, 10, 20), 3, 2) !== 59) { throw new Exception(\"Test failed!\"); }\n    if (candidate(array(-1, -2, -3), 3, 3) !== -1) { throw new Exception(\"Test failed!\"); }\n}\n\ntest();",
  "stop_tokens": [
    "\nfunction",
    "\n?>",
    "\n//",
    "\n#"
  ],
  "completions": [
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $sum_arr = array();\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $sum_arr[$i] = $max_sum;\n    }\n    $max_sum = $sum_arr[$n - 1];\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum = $curr_sum % $n;\n        if ($curr_sum > 0) {\n            $max_sum = max($max_sum, $curr_sum + $sum_arr[$n - 1] - $sum_arr[$curr_sum - 1]);\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$k = 2;\n$n = count($a);\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, -4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    $max_sum_so_far = $max_sum_so_far * ($k - 2);\n    $max_sum = $max_sum + $max_sum_so_far;\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $j = 0;\n        while ($j < $n) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n            $j++;\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, -2, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3, -4, 5);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    // Find sum of original array\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n    }\n    // Find sum of subarray from 0 to k-1 index\n    $curr_sum = 0;\n    for ($i = 0; $i < $k; $i++) {\n        $curr_sum += $a[$i];\n    }\n    // Initialize result\n    $max_sum = $curr_sum;\n    // Traverse from k to n-1 and add current sum\n    // and remove first element of previous sum\n    for ($i = $k; $i < $n; $i++) {\n        $curr_sum += $a[$i] - $a[$i - $k];\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    // Return maximum sum divided by k\n    return $max_sum / $k;\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    if ($max_sum_so_far > 0) {\n        return max($max_sum_so_far * $k, $max_sum + ($k - 2) * $max_sum_so_far + $curr_sum_so_far);\n    } else {\n        return max($max_sum, $max_sum_so_far);\n    }\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4];\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum * $k;\n    if ($max_wrap_sum > $max_sum) {\n        $max_sum = $max_wrap_sum;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $sum_arr = array_fill(0, $n, 0);\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $sum_arr[$i] = $curr_sum;\n    }\n    $max_sum = max($max_sum, $curr_sum);\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum = $curr_sum % $n;\n        $max_sum = max($max_sum, $curr_sum);\n        $max_sum = max($max_sum, $curr_sum + ($k - 2) * $sum_arr[$i]);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    $suffix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum = max($prefix_sum, $curr_sum);\n    }\n    $curr_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum = max($suffix_sum, $curr_sum);\n    }\n    $ans = max($max_sum, $prefix_sum + $suffix_sum + ($k - 2) * $prefix_sum);\n    return $ans;\n}\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum_so_far) {\n                $max_sum_so_far = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $max_sum += $max_sum_so_far;\n    }\n    return $max_sum;\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_element = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_element = max($max_element, $a[$i]);\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        return max($max_sum, $max_element * $k);\n    } else {\n        return $max_element * $k;\n    }\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    $max_sum_so_far = max($max_sum_so_far, $curr_sum_so_far);\n    $max_sum = max($max_sum, $max_sum_so_far);\n    $max_sum = max($max_sum, $max_sum_so_far * ($k - 2) + $max_sum);\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        $curr_wrap = $curr_wrap < 0 ? 0 : $curr_wrap;\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_arr = array();\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $max_sum_arr[$i] = $curr_sum;\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $curr_sum = max(0, $curr_sum);\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $max_sum = max($max_sum, $max_wrap_sum);\n    }\n    if ($max_wrap_sum < 0) {\n        return $max_sum;\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $max_sum = max($max_sum, $max_wrap_sum + ($k - 2) * $max_wrap_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($max_wrap < 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n\n$a = [1, -2, 1];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = $curr_sum + $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($max_sum > 0) {\n        return ($max_sum * $k);\n    }\n    $max_sum = $a[0];\n    for ($i = 1; $i < $n; $i++) {\n        if ($max_sum < $a[$i]) {\n            $max_sum = $a[$i];\n        }\n    }\n    return ($max_sum * $k);\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum * $k;\n    $max_sum = max($max_sum, $max_wrap_sum);\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum_so_far) {\n                $max_sum_so_far = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $max_sum += $max_sum_so_far;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $j = 0;\n        while ($j < $n) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n            $j++;\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    return max($max_sum, $max_wrap * ($k - 2));\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    for($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $curr_sum += $a[$i];\n        if($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap * $k;\n    return max($max_sum, $max_wrap);\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n        if ($curr_wrap_sum < 0) {\n            $curr_wrap_sum = 0;\n        }\n    }\n    if ($max_wrap_sum > 0) {\n        return max($max_sum, $max_wrap_sum * $k);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum = $max_sum * $k;\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $total_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n    }\n    $total_sum = $total_sum * $k;\n    $max_wrap = $max_wrap + $total_sum;\n    return max($max_sum, $max_wrap);\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum = $max_sum * $k;\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap > 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap += $curr_wrap;\n    }\n    if ($max_wrap > 0) {\n        $max_wrap = $max_wrap * ($k - 2);\n    }\n    return max($max_sum, $max_wrap);\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n    }\n    $max_wrap = $curr_wrap;\n    $max_sum = max($max_sum, $max_wrap * $k);\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_ending_here = 0;\n    $max_so_far = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    $i = 0;\n    $j = 0;\n    $k = $k - 1;\n    $max_so_far = $a[0];\n    $max_ending_here = $a[0];\n    for ($i = 1; $i < $n; $i++) {\n        $max_ending_here = max($a[$i], $max_ending_here + $a[$i]);\n        $max_so_far = max($max_so_far, $max_ending_here);\n    }\n    $max_sum = $max_so_far;\n    $max_ending_here = 0;\n    $max_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_ending_here = max($a[$i], $max_ending_here + $a[$i]);\n        $max_so_far = max($max_so_far, $max_ending_here);\n        if ($max_so_far == $a[$i]) {\n            $start = $i;\n        }\n        if ($max_so_far == $max_ending_here) {\n            $end = $i;\n        }\n    }\n    $min_sum = 0;\n    $min_ending_here = 0;\n    $min_so_far = 0;\n    $s = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $min_ending_here = min($a[$i], $min_ending_here + $a[$i]);\n        $min_so_far = min($min_so_far, $min_ending_here);\n        if ($min_so_far == $a[$i]) {\n            $s = $i;\n        }\n    }\n    $min_sum = $min_so_far * $k;\n    $wrap_sum = 0;\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = min($curr_sum, 0);\n            $max_sum = max($max_sum, $curr_sum);\n        }\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = max($curr_sum, 0);\n            $max_sum = max($max_sum, $curr_sum);\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    $max_sum = max($max_sum, $max_sum_so_far);\n    $max_sum = max($max_sum, $max_sum_so_far * ($k - 2) + $max_sum);\n    return $max_sum;\n}\n\n$a = array(1, -2, 1);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $curr_start = 0;\n    $curr_end = -1;\n    $max_start = 0;\n    $max_end = -1;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $curr_end++;\n        $curr_sum += $a[$i % $n];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $max_start = $curr_start;\n            $max_end = $curr_end;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n            $curr_start = $i + 1;\n            $curr_end = $i;\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    if ($max_wrap_sum > $max_sum && $max_wrap_sum != 0) {\n        $max_sum = $max_wrap_sum;\n    }\n    return $max_sum * $k;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_sum_so_far = 0;\n    for($i = 0; $i < $n; $i++) {\n        $max_sum_so_far += $a[$i];\n        if($max_sum_so_far < 0) {\n            $max_sum_so_far = 0;\n        }\n        if($max_sum < $max_sum_so_far) {\n            $max_sum = $max_sum_so_far;\n        }\n    }\n    $max_wrap_sum = 0;\n    $min_wrap_sum = 0;\n    $wrap_sum = 0;\n    for($i = 0; $i < $n; $i++) {\n        $wrap_sum += $a[$i];\n        if($wrap_sum < $min_wrap_sum) {\n            $min_wrap_sum = $wrap_sum;\n        }\n        if($wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $wrap_sum;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum - $min_wrap_sum;\n    if($max_wrap_sum > 0) {\n        return max($max_sum, $max_wrap_sum * ($k - 1) + $max_sum);\n    } else {\n        return max($max_sum, $max_sum * $k);\n    }\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $prefix_sum = 0;\n    $suffix_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum = max($prefix_sum, $curr_sum);\n    }\n    $curr_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum = max($suffix_sum, $curr_sum);\n    }\n    $ans = max($max_sum, $prefix_sum + $suffix_sum);\n    if ($k == 1) {\n        return $ans;\n    }\n    $total_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n    }\n    $ans = max($ans, $total_sum);\n    $ans = max($ans, $total_sum * ($k - 2) + $prefix_sum + $suffix_sum);\n    return $ans;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $sum = 0;\n    $max_sum = 0;\n    $max_sum_so_far = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $sum += $a[$i % $n];\n        if ($sum < 0) {\n            $sum = 0;\n            $s = $i + 1;\n        }\n        if ($sum > $max_sum) {\n            $max_sum = $sum;\n            $start = $s;\n            $end = $i;\n        }\n        $max_sum_so_far += $a[$i % $n];\n    }\n    if ($max_sum_so_far > $max_sum) {\n        $max_sum = $max_sum_so_far;\n        $start = 0;\n        $end = $n * $k - 1;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    return max($max_sum, $max_wrap * ($k - 2));\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $prefix_sum = 0;\n    $suffix_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum = max($prefix_sum, $curr_sum);\n    }\n    $curr_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum = max($suffix_sum, $curr_sum);\n    }\n    $total_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n    }\n    $ans = max($max_sum, $prefix_sum + $suffix_sum + ($k - 2) * $total_sum);\n    return $ans;\n}\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n",
    "    $sum = 0;\n    $max_sum = 0;\n    $sum_arr = array();\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        $sum_arr[$i] = $sum;\n    }\n    $max_sum = $sum_arr[$n - 1];\n    for ($i = 0; $i < $n; $i++) {\n        $sum_arr[$i] += ($k - 1) * $sum;\n        $max_sum = max($max_sum, $sum_arr[$i]);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n$a = [1, 2, 3, 4];\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($max_sum > 0) {\n        return $max_sum * $k;\n    }\n    $max_sum = $a[0];\n    for ($i = 1; $i < $n; $i++) {\n        if ($max_sum < $a[$i]) {\n            $max_sum = $a[$i];\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_wrap < $curr_sum) {\n            $max_wrap = $curr_sum;\n        }\n    }\n    $max_wrap = $max_wrap + $max_wrap;\n    if ($max_wrap > $max_sum) {\n        return $max_wrap;\n    }\n    return $max_sum;\n}\n$a = array(11, 10, -20, 5, -3, -5, 8, -13, 10);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if($max_sum > 0) {\n        $max_sum = $max_sum * $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    $total_sum = 0;\n    for($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n    }\n    if($total_sum > 0) {\n        $max_sum = max($max_sum, $total_sum * ($k - 2));\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    $total_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n    }\n    if ($total_sum > 0) {\n        $max_sum = max($max_sum, $total_sum * ($k - 2));\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    $max_sum_index = -1;\n    $curr_sum_index = -1;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $max_sum_index = $i;\n        }\n    }\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n            $curr_sum_index = $i;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    $max_sum_so_far = $max_sum_so_far * ($k - 2);\n    if ($curr_sum_index < $max_sum_index) {\n        $max_sum_so_far += $max_sum;\n    } else {\n        $max_sum_so_far += $max_sum + $curr_sum_so_far;\n    }\n    return $max_sum_so_far;\n}\n\n$a = array(1, 2, 3, 14);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    if ($max_wrap_sum > $max_sum && $max_wrap_sum != 0) {\n        $max_sum = $max_wrap_sum;\n    }\n    return $max_sum * $k;\n}\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4];\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap > $max_wrap) {\n            $max_wrap = $curr_wrap;\n        }\n    }\n    if ($max_wrap > 0) {\n        $max_sum = max($max_sum, $max_wrap * $k);\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $max_sum = max($max_sum, $curr_sum + ($max_wrap - $curr_sum) * ($k - 1));\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_ending_here = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $max_ending_here += $a[$i % $n];\n        if ($max_sum < $max_ending_here) {\n            $max_sum = $max_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n            $s = $i + 1;\n        }\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, -2, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $prefix_sum = 0;\n    $suffix_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum = max($prefix_sum, $curr_sum);\n    }\n    $curr_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum = max($suffix_sum, $curr_sum);\n    }\n    $total_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n    }\n    $ans = max($max_sum, $prefix_sum + $suffix_sum + ($k - 2) * $total_sum);\n    return $ans;\n}\n$a = array(1, 2);\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $prefix_sum = 0;\n    $suffix_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum = max($prefix_sum, $curr_sum);\n    }\n    $curr_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum = max($suffix_sum, $curr_sum);\n    }\n    $ans = max($max_sum, $prefix_sum + $suffix_sum + ($k - 2) * $prefix_sum);\n    return $ans;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $j = 0;\n        while ($j < $n) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n            $j++;\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, -2, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    $max_sum_so_far = $max_sum_so_far * ($k - 2);\n    $max_sum = $max_sum + $max_sum_so_far;\n    return $max_sum;\n}\n\n$a = [1, 2, 3, -4, 5];\n$n = count($a);\n$k = 3;\n$res = max_sub_array_sum_repeated($a, $n, $k);\necho $res;",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = max($a[$i], $curr_sum + $a[$i]);\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_sum_all_elements = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum_all_elements += $a[$i];\n    }\n    $max_wrap = $max_sum_all_elements * $k;\n    $max_wrap = max($max_wrap, $max_sum);\n    return $max_wrap;\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(2, 1, -5, 4, -3, 1, -3, 4, -1);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        $max_wrap += $a[$i];\n    }\n    if ($curr_wrap < 0) {\n        $curr_wrap = 0;\n    }\n    $max_wrap = max($max_wrap, $curr_wrap);\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = 3;\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n    }\n    return $max_sum;\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        $j = 0;\n        while ($j < $n) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            $j++;\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum_so_far = max($a[$i], $max_sum_so_far + $a[$i]);\n        $max_sum = max($max_sum, $max_sum_so_far);\n    }\n    $max_wrap_sum = 0;\n    $wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $wrap_sum += $a[$i];\n        $max_wrap_sum = max($wrap_sum, $max_wrap_sum);\n    }\n    if ($max_wrap_sum > 0) {\n        return max($max_sum, $max_wrap_sum * $k);\n    } else {\n        return $max_sum;\n    }\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_sum);\n    }\n    if ($max_wrap > 0) {\n        return max($max_wrap * $k, $max_sum);\n    } else {\n        return $max_sum;\n    }\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $sum = 0;\n    $max_sum_so_far = 0;\n    $sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        $sum_so_far += $a[$i];\n        if ($sum > $max_sum) {\n            $max_sum = $sum;\n        }\n        if ($sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $sum_so_far;\n        }\n        if ($sum < 0) {\n            $sum = 0;\n        }\n        if ($sum_so_far < 0) {\n            $sum_so_far = 0;\n        }\n    }\n    $max_sum_repeated = $max_sum_so_far * ($k - 2) + $max_sum;\n    return $max_sum_repeated;\n}\n\n$a = array(1, 2, 3, 4);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    if ($max_wrap_sum > 0) {\n        $max_sum = max($max_sum, $max_wrap_sum * $k);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        $curr_wrap = $curr_wrap < 0 ? 0 : $curr_wrap;\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    $max_sum = max($max_sum, $max_wrap * $k);\n    $min_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap > 0) {\n            $curr_wrap = 0;\n        }\n        $min_wrap = min($min_wrap, $curr_wrap);\n    }\n    $max_sum = max($max_sum, $min_wrap * ($k - 2) + $max_wrap);\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = min($curr_sum, 0);\n            $min_sum = min($min_sum, $curr_sum);\n        }\n        $max_sum += $min_sum * ($k - 2);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $sum_of_all_elements = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum_of_all_elements += $a[$i];\n    }\n    $max_sum_of_circular_subarray = $sum_of_all_elements * $k;\n    if ($max_sum_of_circular_subarray > $max_sum) {\n        $max_sum = $max_sum_of_circular_subarray;\n    }\n    return $max_sum;\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum_so_far += $a[$i];\n    }\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum_so_far < 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_sum_so_far * ($k - 2) + $curr_sum);\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    $total_sum = array_sum($a);\n    $max_sum = max($max_sum, $total_sum * ($k - 2));\n    return $max_sum;\n}\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $sum_arr = array();\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $sum_arr[$i] = $curr_sum;\n    }\n    $max_sum = $curr_sum;\n    for ($i = 1; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum = $sum_arr[$n - 1] + $sum_arr[$j] - $sum_arr[0];\n            $sum_arr[$j] = $curr_sum;\n            $max_sum = max($max_sum, $curr_sum);\n        }\n    }\n    return $max_sum;\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($max_wrap < 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    $i = 0;\n    $j = 0;\n    while ($i < $n) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $j = $i;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        $i++;\n    }\n    $max_sum_so_far = $max_sum;\n    $i = 0;\n    while ($i < $n) {\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        $i++;\n    }\n    $max_sum_so_far = $max_sum_so_far * ($k - 2);\n    $curr_sum = 0;\n    $i = $j + 1;\n    while ($i < $n) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $i++;\n    }\n    return $max_sum + $max_sum_so_far;\n}\n",
    "    $sum = 0;\n    $max_sum = 0;\n    $sum_arr = array();\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        $sum_arr[$i] = $sum;\n    }\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum += $a[$i];\n    }\n    $max_sum *= $k;\n    $curr_val = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_val += $sum_arr[$i];\n        $curr_val += ($k - 1) * $sum_arr[$i];\n        $max_sum = max($max_sum, $curr_val);\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    if ($max_wrap_sum > $max_sum && $max_wrap_sum != 0) {\n        $max_sum = $max_wrap_sum;\n    }\n    return $max_sum * $k;\n}\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    $max_sum_so_far = $max_sum_so_far * ($k - 2);\n    $max_sum = max($max_sum, $max_sum_so_far);\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_wrap = $max_wrap * $k;\n    return max($max_sum, $max_wrap);\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n    }\n    $max_sum = max($max_sum, $max_sum_so_far);\n    if ($k == 1) {\n        return $max_sum;\n    }\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n    }\n    $max_sum_so_far = max($max_sum_so_far, 0);\n    $max_sum = max($max_sum, $max_sum_so_far * ($k - 2) + $max_sum);\n    return $max_sum;\n}\n$a = [1, 2, 3, 4, 5, 6, 7, 8, 9,",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = $curr_sum + $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap = $max_wrap + $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = $curr_sum + $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $sum_of_all_elements = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum_of_all_elements += $a[$i];\n    }\n    $max_sum_of_circular_subarray = $sum_of_all_elements * $k;\n    if ($max_sum_of_circular_subarray > $max_sum) {\n        $max_sum = $max_sum_of_circular_subarray;\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = $curr_sum + $a[$i];\n        $curr_sum_so_far = $curr_sum_so_far + $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    $max_sum_so_far = $max_sum;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum = $curr_sum + $a[$i];\n        $curr_sum_so_far = $curr_sum_so_far + $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    $max_sum_so_far = $max_sum_so_far + ($k - 2) * $curr_sum_so_far;\n    return $max_sum_so_far;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum_so_far < $curr_sum) {\n            $max_sum_so_far = $curr_sum;\n        }\n    }\n    $max_sum = $max_sum_so_far * $k;\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum_so_far < $curr_sum) {\n            $max_sum_so_far = $curr_sum;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum + $max_sum_so_far;\n    if ($max_wrap_sum > $max_sum) {\n        $max_sum = $max_wrap_sum;\n    }\n    return $max_sum;\n}\n$a = array(11, 10, -20, 5, -3, -5, 8, -13, 10);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_ending_here = 0;\n    $max_so_far = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $max_ending_here = $max_ending_here + $a[$j];\n            if ($max_so_far < $max_ending_here) {\n                $max_so_far = $max_ending_here;\n            }\n            if ($max_ending_here < 0) {\n                $max_ending_here = 0;\n            }\n        }\n        $max_sum = $max_sum + $max_so_far;\n        $max_so_far = 0;\n        $max_ending_here = 0;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4];\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_sum;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum * $k;\n    $max_sum = max($max_sum, $max_wrap_sum);\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($max_sum == 0) {\n        return max_sub_array_sum($a, $n);\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    if ($max_wrap_sum > $max_sum) {\n        $max_sum = $max_wrap_sum;\n    }\n    return $max_sum * $k;\n}",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap > $max_wrap) {\n            $max_wrap = $curr_wrap;\n        }\n    }\n    if ($max_wrap > 0) {\n        return max($max_sum, $max_wrap * $k);\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0)\n            $curr_sum = 0;\n        else if ($max_sum < $curr_sum)\n            $max_sum = $curr_sum;\n    }\n    if ($max_sum > 0)\n        return $max_sum * $k;\n    $max_sum = $a[0];\n    for ($i = 1; $i < $n; $i++)\n        if ($max_sum < $a[$i])\n            $max_sum = $a[$i];\n    return $max_sum * $k;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = max($max_wrap, 0);\n    $max_sum = max($max_sum, $max_wrap * ($k - 2));\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    return max($max_sum, $max_wrap_sum * ($k - 2));\n}\n$a = array(1, 2, 3, 4);\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    return max($max_sum, $max_wrap * ($k - 2));\n}",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    } else {\n        $max_sum = max($a) * $k;\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum = $curr_sum % $n;\n        $prefix_sum[$i] = $curr_sum;\n    }\n    $min_prefix_sum = $prefix_sum[0];\n    for ($i = 1; $i < $n; $i++) {\n        $min_prefix_sum = min($min_prefix_sum, $prefix_sum[$i]);\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum = $curr_sum % $n;\n        $suffix_sum[$i] = $curr_sum;\n    }\n    $max_suffix_sum = $suffix_sum[$n - 1];\n    for ($i = $n - 2; $i >= 0; $i--) {\n        $max_suffix_sum = max($max_suffix_sum, $suffix_sum[$i]);\n    }\n    $max_wrap = 0;\n    if ($min_prefix_sum > 0) {\n        $max_wrap = ($k - 2) * $min_prefix_sum + $max_suffix_sum;\n    } else {\n        $max_wrap = $max_suffix_sum;\n    }\n   ",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = min($curr_sum, 0);\n            $min_sum = min($min_sum, $curr_sum);\n        }\n        $max_sum = $max_sum + $min_sum * ($k - 2);\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($sum < 0) {\n        return $max_sum;\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum = max(0, $curr_sum);\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    return max($max_sum, $curr_sum * ($k - 2) + $sum);\n}\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $curr_sum_arr = array();\n    $max_sum_arr = array();\n    $max_sum_arr_index = 0;\n    $curr_sum_arr_index = 0;\n    $max_sum_arr_index_arr = array();\n    $max_sum_arr_index_arr_index = 0;\n    $max_sum_arr_index_arr[$max_sum_arr_index_arr_index] = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_arr[$curr_sum_arr_index] = $a[$i];\n        $curr_sum_arr_index++;\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $max_sum_arr = $curr_sum_arr;\n            $max_sum_arr_index = $curr_sum_arr_index;\n            $max_sum_arr_index_arr[$max_sum_arr_index_arr_index] = $i;\n            $max_sum_arr_index_arr_index++;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n            $curr_sum_arr = array();\n            $curr_sum_arr_index = 0;\n        }\n    }\n    $max_sum_arr_index_arr_index--;\n    $max_sum_arr_index_arr_index_last = $max_sum_arr_index_arr[$max_sum_arr_index_arr_index];\n    $max_sum_arr_index_arr_index_last_next = $max_sum_arr_index_arr_index_last + 1;\n    $max_sum_arr_index_arr_index_last_next_last = $max_sum_arr_index_arr_index_last_next + $max_sum_arr_index;\n    $",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = max(0, $curr_sum);\n            $prefix_sum[$i] = $curr_sum;\n        }\n        $curr_sum = 0;\n        for ($i = $n - 1; $i >= 0; $i--) {\n            $curr_sum += $a[$i];\n            $curr_sum = max(0, $curr_sum);\n            $suffix_sum[$i] = $curr_sum;\n        }\n        $total_sum = array_sum($a);\n        $max_wrap = $total_sum + $suffix_sum[0] + $prefix_sum[$n - 1];\n        for ($i = 0; $i < $n - 1; $i++) {\n            $max_wrap = max($max_wrap, $total_sum + $prefix_sum[$i] + $suffix_sum[$i + 1]);\n        }\n        $max_sum = max($max_sum, $max_wrap);\n    }\n    return $max_sum;\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap > $max_wrap) {\n            $max_wrap = $curr_wrap;\n        }\n    }\n    if ($max_wrap > 0) {\n        return max($max_sum, $max_wrap * $k);\n    } else {\n        return $max_sum;\n    }\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a) * $k;\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_non_wrap = $max_sum * ($k - 2);\n    return max($max_wrap, $max_non_wrap) + $max_sum;\n}\n\n$a = array(11, 10, -20, 5, -3, -5, 8, -13, 10);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n    }\n    $max_sum = $sum;\n    for ($i = 0; $i < $n; $i++) {\n        $sum = $sum - $a[$i] + $a[($i + $n) % $n];\n        $max_sum = max($max_sum, $sum);\n    }\n    return $max_sum * $k;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n    }\n    if ($max_sum_so_far > 0) {\n        return max($max_sum_so_far * $k, $max_sum + ($k - 2) * $curr_sum_so_far);\n    } else {\n        return max($max_sum, $max_sum_so_far);\n    }\n}\n\n$a = [1, 2, 3, -2, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        if ($sum < 0) {\n            $sum = 0;\n        }\n        $max_sum = max($max_sum, $sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $prefix_sum = 0;\n    $suffix_sum = 0;\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        $prefix_sum = max($prefix_sum, $sum);\n    }\n    $sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $sum += $a[$i];\n        $suffix_sum = max($suffix_sum, $sum);\n    }\n    $max_wrap = $prefix_sum + $suffix_sum;\n    if ($max_wrap > 0) {\n        $max_wrap = $max_wrap * ($k - 1);\n    }\n    return max($max_sum, $max_wrap);\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap > $max_wrap) {\n            $max_wrap = $curr_wrap;\n        }\n    }\n    if ($max_wrap > 0) {\n        return max($max_sum, $max_wrap * $k);\n    } else {\n        return $max_sum;\n    }\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    for($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $max_wrap;\n    if($max_wrap > $max_sum) {\n        return $max_wrap;\n    }\n    return $max_sum;\n}\n$a = array(1, -2, 1);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return $max_sum;\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap * $k;\n    return max($max_sum, $max_wrap);\n}\n\n$a = array(1, -2, 1);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    if ($max_wrap > 0) {\n        $max_sum = max($max_sum, $max_wrap);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = min($curr_sum, 0);\n            $min_sum = min($min_sum, $curr_sum);\n        }\n        $max_sum = $max_sum + ($min_sum * ($k - 2));\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    return max($max_sum, $max_wrap * ($k - 2));\n}\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    $total_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n    }\n    if ($total_sum > 0) {\n        $max_sum = max($max_sum, $total_sum * ($k - 2));\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3, 4);\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $prefix_sum = 0;\n    $suffix_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum = max($prefix_sum, $curr_sum);\n    }\n    $curr_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum = max($suffix_sum, $curr_sum);\n    }\n    $ans = max($max_sum, $prefix_sum + $suffix_sum);\n    if ($k == 1) {\n        return $ans;\n    }\n    $total_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n    }\n    $ans = max($ans, $total_sum);\n    $ans = max($ans, $total_sum * ($k - 2) + $prefix_sum + $suffix_sum);\n    return $ans;\n}\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = $max_wrap * ($k - 2);\n    return max($max_sum, $max_wrap);\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n    }\n    $max_sum_so_far = $max_sum;\n    for ($i = 1; $i < $k; $i++) {\n        $max_sum_so_far += $curr_sum_so_far;\n        if ($max_sum_so_far < $max_sum) {\n            $max_sum_so_far = $max_sum;\n        }\n    }\n    return $max_sum_so_far;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    $total_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n    }\n    if ($total_sum > 0) {\n        $max_sum = max($max_sum, $total_sum * ($k - 2));\n    }\n    return $max_sum;\n}\n\n$a = array(1, -2, 1);\n$n = count($a);\n$k = 10;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum < 0) {\n            $curr_wrap_sum = 0;\n        }\n        if ($max_wrap_sum < $curr_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    if ($max_wrap_sum > 0) {\n        $max_sum = max($max_sum, $max_wrap_sum * $k);\n        $max_wrap_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $max_wrap_sum += $a[$i];\n            $curr_sum = $max_wrap_sum;\n            for ($j = 0; $j < $n; $j++) {\n                $curr_sum += $a[$j];\n                if ($curr_sum < 0) {\n                    $curr_sum = 0;\n                }\n                if ($max_sum < $curr_sum) {\n                    $max_sum = $curr_sum;\n                }\n            }\n        }\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap * $k;\n    return max($max_sum, $max_wrap);\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_sum_so_far = 0;\n    $max_sum_ending_here = 0;\n    $max_sum_ending_here_repeated = 0;\n    $max_sum_so_far_repeated = 0;\n    $max_sum_ending_here_repeated = 0;\n    $max_sum_so_far_repeated = 0;\n    $max_sum_ending_here_repeated = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum_ending_here = $max_sum_ending_here + $a[$i];\n        if ($max_sum_ending_here < 0) {\n            $max_sum_ending_here = 0;\n        }\n        if ($max_sum_so_far < $max_sum_ending_here) {\n            $max_sum_so_far = $max_sum_ending_here;\n        }\n    }\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum_ending_here_repeated = $max_sum_ending_here_repeated + $a[$i];\n        if ($max_sum_ending_here_repeated < 0) {\n            $max_sum_ending_here_repeated = 0;\n        }\n        if ($max_sum_so_far_repeated < $max_sum_ending_here_repeated) {\n            $max_sum_so_far_repeated = $max_sum_ending_here_repeated;\n        }\n    }\n    $max_sum = $max_sum_so_far + ($k - 2) * $max_sum_so_far_repeated;\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    $j = 0;\n    while ($i < $n) {\n        $curr_sum += $a[$i];\n        $i++;\n    }\n    $max_sum = $curr_sum;\n    $curr_sum = 0;\n    while ($j < $n) {\n        $curr_sum += $a[$j];\n        $max_sum = max($max_sum, $curr_sum);\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $j++;\n    }\n    $max_sum *= $k;\n    return $max_sum;\n}\n\n$a = array(2, 1, -5, 4, -3, 1, -3, 4, -1);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = max($max_wrap, $curr_wrap);\n    $max_sum = max($max_sum, $max_wrap * ($k - 2));\n    if ($max_wrap > 0) {\n        $max_sum += $max_wrap;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum += $a[$i];\n    }\n    $max_sum *= $k;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        $max_sum_so_far = max($max_sum_so_far, $curr_sum_so_far);\n    }\n    return max($max_sum, $max_sum_so_far);\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    return max($max_sum, $max_wrap * ($k - 2));\n}\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        $curr_wrap = $curr_wrap % $n;\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_ending_here = 0;\n    $max_so_far = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    $count = 0;\n    $i = 0;\n    while ($count < $k) {\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n            $s = $i;\n        }\n        $max_ending_here += $a[$i];\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n        $i++;\n        if ($i == $n) {\n            $count++;\n            $i = 0;\n        }\n    }\n    $max_sum = $max_so_far;\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    if ($max_wrap_sum > $max_sum) {\n        return max($max_wrap_sum, $max_wrap_sum + ($k - 2) * $max_wrap_sum);\n    }\n    return max($max_sum, $max_sum + ($k - 2) * $max_wrap_sum);\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    if ($max_wrap_sum > 0) {\n        return max($max_sum, $max_wrap_sum * $k);\n    } else {\n        return $max_sum;\n    }\n}\n\n$a = [1, -2, 1];\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n        }\n        $max_sum_so_far = max($max_sum_so_far, $curr_sum_so_far);\n    }\n    if ($max_sum_so_far == 0) {\n        return $max_sum;\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        $max_wrap += $a[$i];\n    }\n    $max_wrap = max($max_wrap, $curr_wrap);\n    return max(($max_wrap * ($k - 2) + $max_sum_so_far), $max_sum);\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($max_sum > 0) {\n        return $max_sum * $k;\n    }\n    $max_sum = $a[0];\n    for ($i = 1; $i < $n; $i++) {\n        if ($max_sum < $a[$i]) {\n            $max_sum = $a[$i];\n        }\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n\n    $prefix_sum = 0;\n    $suffix_sum = 0;\n    $total_sum = 0;\n\n    for ($i = 0; $i < $n; $i++) {\n        $total_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($prefix_sum < 0) {\n            $prefix_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $suffix_sum += $a[$i];\n        if ($suffix_sum < 0) {\n            $suffix_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n\n    $max_sum = max($max_sum, $total_sum * ($k - 2));\n\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4];\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $curr_start = 0;\n    $max_start = 0;\n    $max_end = -1;\n    $curr_end = -1;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $curr_sum += $a[$i % $n];\n        $curr_end++;\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $max_start = $curr_start;\n            $max_end = $curr_end;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n            $curr_start = $i + 1;\n            $curr_end = $i;\n        }\n    }\n    return $max_sum;\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($max_sum == 0) {\n        return $max_sum;\n    }\n    $max_sum_so_far = $curr_sum_so_far * $k;\n    $max_sum_so_far = max($max_sum_so_far, $max_sum);\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $curr_sum_so_far -= $a[$i];\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum_so_far = max($max_sum_so_far, $max_wrap);\n    return $max_sum_so_far;\n}\n\n$a = [1, 2, 3, 4];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3, 4);\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    return max($max_sum, $max_wrap * ($k - 2));\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    $min_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum < $min_wrap_sum) {\n            $min_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum - $min_wrap_sum;\n    $max_sum = max($max_sum, $max_wrap_sum * ($k - 2));\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    $i = 0;\n    $j = 0;\n    while ($i < $n) {\n        $curr_sum += $a[$i];\n        $curr_sum_so_far += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $j = $i;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n        $i++;\n    }\n    $max_sum_so_far = $max_sum_so_far * ($k - 2);\n    $max_sum = $max_sum + $max_sum_so_far;\n    $curr_sum = 0;\n    $i = $j + 1;\n    while ($i < $n) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 14];\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    return max($max_sum, $max_wrap * ($k - 2));\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return $max_sum;\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_sum);\n    }\n    $max_wrap = $max_wrap + $max_sum;\n    return max($max_wrap, $max_sum * $k);\n}\n\n$a = array(11, 10, -20, 5, -3, -5, 8, -13, 10);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_sum_so_far = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    $e = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $max_sum_so_far += $a[$i % $n];\n        if ($max_sum_so_far < 0) {\n            $max_sum_so_far = 0;\n            $s = $i + 1;\n        }\n        if ($max_sum < $max_sum_so_far) {\n            $max_sum = $max_sum_so_far;\n            $start = $s;\n            $end = $i;\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum < 0) {\n            $curr_wrap_sum = 0;\n        }\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    if ($max_wrap_sum > 0) {\n        return max($max_wrap_sum * $k, $max_sum);\n    }\n    return $max_sum;\n}\n\n$a = [1, 2, 3, -2, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum < 0) {\n            $curr_wrap_sum = 0;\n        }\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    if ($max_wrap_sum > 0) {\n        return max($max_sum, $max_wrap_sum * $k);\n    } else {\n        return $max_sum;\n    }\n}\n\n$a = [1, -2, 1];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    for ($i = 0; $i < $k; $i++) {\n        $sum = 0;\n        for ($j = 0; $j < $n; $j++) {\n            $sum += $a[$j];\n            if ($sum > $max_sum) {\n                $max_sum = $sum;\n            }\n        }\n    }\n    return $max_sum;\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $curr_sum_arr = array();\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $curr_sum_arr[$i] = $curr_sum;\n    }\n    $max_sum = $curr_sum_arr[$n - 1];\n    $curr_sum = $curr_sum_arr[$n - 1];\n    for ($i = $n - 2; $i >= 0; $i--) {\n        $curr_sum += $curr_sum_arr[$i];\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_sum *= $k;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        $curr_sum = max($curr_sum, 0);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    if ($max_sum == 0) {\n        return max_sub_array_sum_repeated_all_negative($a, $n, $k);\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($max_sum < $curr_sum) {\n            $max_sum = $curr_sum;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    return max($max_sum, $max_wrap_sum * ($k - 2));\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $a[$i] *= $k;\n            $a[$i] -= $curr_sum;\n        }\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    if ($max_wrap_sum > $max_sum && $max_wrap_sum != 0) {\n        $max_sum = $max_wrap_sum;\n    }\n    $max_sum = $max_sum * $k;\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_sum_so_far = 0;\n    $max_sum_ending_here = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $max_sum_ending_here += $a[$i % $n];\n        if ($max_sum_so_far < $max_sum_ending_here) {\n            $max_sum_so_far = $max_sum_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n        if ($max_sum_ending_here < 0) {\n            $max_sum_ending_here = 0;\n            $s = $i + 1;\n        }\n    }\n    $max_sum = $max_sum_so_far;\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n    }\n    $max_wrap = $curr_wrap;\n    $max_sum = max($max_sum, ($max_wrap * ($k - 2)) + $curr_sum);\n    return $max_sum;\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $sum = 0;\n    $max = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n    }\n    $max = $sum;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i] * ($k - 1);\n        if ($sum > $max) {\n            $max = $sum;\n        }\n    }\n    return $max;\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_arr = [];\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        $max_sum_arr[$i] = $max_sum;\n    }\n    $curr_sum = 0;\n    $max_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        $max_sum_arr[$i] += $max_sum;\n    }\n    $max_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        if ($max_sum_arr[$i] > $max_sum) {\n            $max_sum = $max_sum_arr[$i];\n        }\n    }\n    return $max_sum * $k;\n}\n\n$a = [1, -2, 1];\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_sum_so_far = 0;\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        if ($sum < 0) {\n            $sum = 0;\n        }\n        if ($sum > $max_sum_so_far) {\n            $max_sum_so_far = $sum;\n        }\n    }\n    $max_sum = $max_sum_so_far;\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $sum = -$sum;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        if ($sum < 0) {\n            $sum = 0;\n        }\n        if ($sum > $max_sum_so_far) {\n            $max_sum_so_far = $sum;\n        }\n    }\n    $max_sum += $max_sum_so_far;\n    if ($max_sum > 0) {\n        return $max_sum * $k;\n    } else {\n        return max_sub_array_sum($a, $n);\n    }\n}",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = min($curr_sum, 0);\n            $min_sum = min($min_sum, $curr_sum);\n        }\n        $max_sum = $max_sum + ($min_sum * ($k - 2));\n    }\n    return $max_sum;\n}\n",
    "    $sum = 0;\n    $max_sum = 0;\n    $max_sum_so_far = 0;\n    $max_element = 0;\n    $min_element = 0;\n    $min_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        $max_sum_so_far = max($max_sum_so_far + $a[$i], $a[$i]);\n        $max_sum = max($max_sum, $max_sum_so_far);\n        $min_element = min($min_element, $a[$i]);\n        $max_element = max($max_element, $a[$i]);\n    }\n    if ($k == 1) {\n        return $max_sum;\n    }\n    if ($sum > 0) {\n        return max($max_sum, $sum * ($k - 2) + $max_sum_so_far);\n    }\n    if ($sum == 0) {\n        return $max_element * $k;\n    }\n    return max($max_sum, $sum * ($k - 2) + $max_sum_so_far);\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    if ($max_wrap_sum > $max_sum && $max_wrap_sum != 0) {\n        $max_sum = $max_wrap_sum;\n    }\n    return $max_sum * $k;\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum < 0) {\n            $curr_wrap_sum = 0;\n        }\n    }\n    if ($curr_wrap_sum > 0) {\n        $max_wrap_sum = $curr_wrap_sum * $k;\n        $max_wrap_sum += $max_sum;\n    } else {\n        $max_wrap_sum = $max_sum;\n    }\n    return $max_wrap_sum;\n}\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $sum_arr = array();\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $max_sum = max($max_sum, $curr_sum);\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $sum_arr[$i] = $curr_sum;\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_wrap = max($max_wrap, $max_sum);\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > 0) {\n            $max_wrap = max($max_wrap, $curr_sum + $sum_arr[$i] * ($k - 2));\n        }\n    }\n    return $max_wrap;\n}\n\n$a = array(1, 2, 3, 4);\n$n = sizeof($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_ending_here = 0;\n    $max_so_far = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $max_ending_here += $a[$i % $n];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n            $s = $i + 1;\n        }\n        if ($max_so_far < $max_ending_here) {\n            $max_so_far = $max_ending_here;\n            $start = $s;\n            $end = $i;\n        }\n    }\n    $max_sum = $max_so_far;\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n    }\n    $max_sum = $sum;\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        $max_sum = max($max_sum, $sum);\n        if ($sum < 0) {\n            $sum = 0;\n        }\n    }\n    $max_sum = max($max_sum, $sum);\n    $sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $sum += $a[$i];\n        $max_sum = max($max_sum, $sum);\n        if ($sum > 0) {\n            $sum = 0;\n        }\n    }\n    $max_sum = max($max_sum, $sum);\n    return $max_sum * $k;\n}\n\n$a = [1, -2, 1];\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0)\n            $curr_sum = 0;\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0)\n        return max($max_sum, $curr_sum - $min_sum) * $k;\n    return max($max_sum, $curr_sum) * $k;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $max_ending_here = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $max_ending_here = $max_ending_here + $a[$i % $n];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($max_sum < $max_ending_here) {\n            $max_sum = $max_ending_here;\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = $max_wrap_sum + $max_wrap_sum;\n    if ($max_wrap_sum > $max_sum && $k > 1) {\n        $max_sum = $max_wrap_sum;\n    }\n    return $max_sum;\n}\n$a = array(1, 2, 3, 4);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap_sum = $max_wrap_sum + $curr_sum;\n    if ($max_wrap_sum > 0 && $k > 1) {\n        $max_sum = max($max_sum, $max_wrap_sum * ($k - 1));\n    }\n    return $max_sum;\n}\n\n$a = array(1, -2, 1);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $sum = 0;\n    $max = 0;\n    $max_ending_here = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_ending_here = $max_ending_here + $a[$i];\n        if ($max_ending_here < 0) {\n            $max_ending_here = 0;\n        }\n        if ($max < $max_ending_here) {\n            $max = $max_ending_here;\n        }\n        $sum = $sum + $a[$i];\n    }\n    if ($sum > 0) {\n        return max($max, $sum * $k);\n    } else {\n        return max($max, $max_sub_array_sum_repeated($a, $n, 1));\n    }\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $j = 0;\n        while ($j < $n) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n            $j++;\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $prefix_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $suffix_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $curr_sum = 0;\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, -4, 5);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    if ($max_wrap > $max_sum) {\n        return $max_wrap;\n    }\n    $max_sum_array = array();\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum_array[$i] = $curr_sum;\n    }\n    $min_sum = 0;\n    $curr_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $min_sum = min($min_sum, $curr_sum);\n    }\n    $min_sum = $min_sum * $k;\n    $max_sum = max($max_sum, $max_wrap);\n    $max_sum = max($max_sum, $min_sum);\n    $total_sum = 0;\n    for ($i = 0; $i < $n; $",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_sum_so_far += $a[$i];\n    }\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_sum *= $k;\n    if ($max_sum_so_far > 0) {\n        $max_sum += ($k - 1) * $max_sum_so_far;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4, 5);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    $max_sum = max($max_sum, $max_wrap * ($k - 2));\n    $max_wrap = $max_wrap * ($k - 1);\n    $left_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $left_sum += $a[$i];\n        $curr_sum = $left_sum;\n        $curr_wrap = $left_sum;\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            $curr_sum = max($curr_sum, 0);\n            $max_sum = max($max_sum, $curr_sum);\n            $curr_wrap += $a[$j];\n            $curr_wrap = max($curr_wrap, 0);\n            $max_wrap = max($max_wrap, $curr_wrap);\n        }\n    }\n    return max($max_sum, $max_wrap);\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n,",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = $max_wrap + $curr_sum;\n    if ($max_wrap > $max_sum) {\n        $max_sum = $max_wrap;\n    }\n    return $max_sum * $k;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $i = 0;\n    while ($i < $k) {\n        $j = 0;\n        while ($j < $n) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n            $j++;\n        }\n        $i++;\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $sum_arr = array();\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n        }\n        $sum_arr[] = $max_sum;\n    }\n    return max($sum_arr);\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        $max_wrap += $a[$i];\n    }\n    if ($curr_wrap < 0) {\n        $curr_wrap = 0;\n    }\n    $max_wrap_sum = max($max_wrap, $curr_wrap);\n    $max_sum = max($max_sum, $max_wrap_sum);\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap_sum = 0;\n    $curr_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap_sum += $a[$i];\n        if ($curr_wrap_sum > $max_wrap_sum) {\n            $max_wrap_sum = $curr_wrap_sum;\n        }\n    }\n    if ($max_wrap_sum > 0) {\n        $max_sum = max($max_sum, $max_wrap_sum * $k);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = min($curr_sum, 0);\n            $max_sum = max($max_sum, $curr_sum);\n        }\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = max($curr_sum, 0);\n            $max_sum = max($max_sum, $curr_sum);\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    for ($i = 0; $i < $n * $k; $i++) {\n        $curr_sum = max(0, $curr_sum + $a[$i % $n]);\n        $max_sum = max($max_sum, $curr_sum);\n        $curr_sum_so_far = max(0, $curr_sum_so_far + $a[$i % $n]);\n        $max_sum_so_far = max($max_sum_so_far, $curr_sum_so_far);\n    }\n    if ($max_sum_so_far == 0) {\n        return $max_sum;\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        $max_wrap += $a[$i];\n    }\n    $curr_wrap = max(0, $curr_wrap);\n    return max($max_sum, $max_wrap + ($k - 2) * $max_sum_so_far);\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    if ($max_wrap == 0) {\n        return $max_sum;\n    }\n    return max($max_sum, $max_wrap * $k);\n}\n$a = array(1, 2, 3, 4, 5);\n$k = 2;\n$n = count($a);\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $max_sum_so_far = 0;\n    $curr_sum_so_far = 0;\n    $i = 0;\n    $j = 0;\n    while ($i < $n) {\n        $curr_sum = $curr_sum + $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n            $j = $i + 1;\n        }\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n            $start = $j;\n            $end = $i;\n        }\n        $i++;\n    }\n    $curr_sum_so_far = $max_sum;\n    $i = 0;\n    $j = 0;\n    while ($i < $n) {\n        $curr_sum_so_far = $curr_sum_so_far + $a[$i];\n        if ($curr_sum_so_far < 0) {\n            $curr_sum_so_far = 0;\n            $j = $i + 1;\n        }\n        if ($curr_sum_so_far > $max_sum_so_far) {\n            $max_sum_so_far = $curr_sum_so_far;\n        }\n        $i++;\n    }\n    if ($max_sum_so_far > 0) {\n        return $max_sum_so_far * $k - $max_sum;\n    } else {\n        return $max_sum_so_far;\n    }\n}\n\n$a = array(1, -2, 1);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap > $max_wrap) {\n            $max_wrap = $curr_wrap;\n        }\n    }\n    $max_wrap = $max_wrap * $k;\n    return max($max_sum, $max_wrap);\n}\n\n$a = [1, 2, 3, 4, 5];\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n    }\n    $curr_sum = 0;\n    $prefix_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $prefix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $prefix_sum * ($k - 2) + $curr_sum);\n    }\n    $curr_sum = 0;\n    $suffix_sum = 0;\n    for ($i = $n - 1; $i >= 0; $i--) {\n        $curr_sum += $a[$i];\n        $suffix_sum += $a[$i];\n        $curr_sum = max($curr_sum, 0);\n        $max_sum = max($max_sum, $suffix_sum * ($k - 2) + $curr_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3, 4);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n    }\n    return $max_sum;\n}\n",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n            }\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 3;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum > 0) {\n        $max_sum *= $k;\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = min($curr_sum, 0);\n            $max_sum = max($max_sum, $curr_sum);\n        }\n        $curr_sum = 0;\n        for ($i = 0; $i < $n; $i++) {\n            $curr_sum += $a[$i];\n            $curr_sum = max($curr_sum, 0);\n            $max_sum = max($max_sum, $curr_sum);\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = sizeof($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    $start = 0;\n    $end = 0;\n    $s = 0;\n    for ($i = 0; $i < $k; $i++) {\n        for ($j = 0; $j < $n; $j++) {\n            $curr_sum += $a[$j];\n            if ($curr_sum > $max_sum) {\n                $max_sum = $curr_sum;\n                $start = $s;\n                $end = $j;\n            }\n            if ($curr_sum < 0) {\n                $curr_sum = 0;\n                $s = $j + 1;\n            }\n        }\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_sum);\n    }\n    if ($max_wrap > 0) {\n        return max($max_wrap * $k, $max_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    if ($max_sum == 0) {\n        return max($a) * $k;\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    $max_wrap_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $max_wrap_sum += $a[$i];\n    }\n    $max_wrap_sum = $max_wrap_sum * ($k - 2);\n    $max_wrap_sum += $max_wrap;\n    return max($max_wrap_sum, $max_sum);\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum > $max_sum) {\n            $max_sum = $curr_sum;\n        }\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n    }\n    $max_sum = $max_sum * $k;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        $a[$i] = -$a[$i];\n    }\n    $curr_sum = $curr_sum * $k;\n    $curr_val = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_val += $a[$i];\n        if ($curr_val > $curr_sum) {\n            $curr_sum = $curr_val;\n        }\n        if ($curr_val < 0) {\n            $curr_val = 0;\n        }\n    }\n    return max($curr_sum, $max_sum);\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);",
    "    $max_sum = 0;\n    $curr_sum = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_sum += $a[$i];\n        if ($curr_sum < 0) {\n            $curr_sum = 0;\n        }\n        $max_sum = max($max_sum, $curr_sum);\n    }\n    $max_wrap = 0;\n    $curr_wrap = 0;\n    for ($i = 0; $i < $n; $i++) {\n        $curr_wrap += $a[$i];\n        if ($curr_wrap < 0) {\n            $curr_wrap = 0;\n        }\n        $max_wrap = max($max_wrap, $curr_wrap);\n    }\n    $max_wrap = $max_wrap * $k;\n    if ($max_wrap > 0) {\n        return max($max_wrap, $max_sum);\n    }\n    return $max_sum;\n}\n\n$a = array(1, 2, 3);\n$n = count($a);\n$k = 2;\necho max_sub_array_sum_repeated($a, $n, $k);"
  ]
}