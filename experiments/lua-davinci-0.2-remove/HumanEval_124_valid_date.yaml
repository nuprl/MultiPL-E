name: HumanEval_124_valid_date
language: lua
prompt: "-- You have to write a function which validates a given date string and\n\
  -- returns True if the date is valid otherwise False.\n-- The date is valid if all\
  \ of the following rules are satisfied:\n-- 1. The date string is not empty.\n--\
  \ 2. The number of days is not less than 1 or higher than 31 days for months 1,3,5,7,8,10,12.\
  \ And the number of days is not less than 1 or higher than 30 days for months 4,6,9,11.\
  \ And, the number of days is not less than 1 or higher than 29 for the month 2.\n\
  -- 3. The months should not be less than 1 or higher than 12.\n-- 4. The date should\
  \ be in the format: mm-dd-yyyy\nlocal function valid_date(date)\n"
tests: "lu = require('luaunit')\n\nfunction test_humaneval()\nlocal candidate = valid_date\n\
  \    lu.assertEquals(candidate('03-11-2000'), true)\n    lu.assertEquals(candidate('15-01-2012'),\
  \ false)\n    lu.assertEquals(candidate('04-0-2040'), false)\n    lu.assertEquals(candidate('06-04-2020'),\
  \ true)\n    lu.assertEquals(candidate('01-01-2007'), true)\n    lu.assertEquals(candidate('03-32-2011'),\
  \ false)\n    lu.assertEquals(candidate(''), false)\n    lu.assertEquals(candidate('04-31-3000'),\
  \ false)\n    lu.assertEquals(candidate('06-06-2005'), true)\n    lu.assertEquals(candidate('21-31-2000'),\
  \ false)\n    lu.assertEquals(candidate('04-12-2003'), true)\n    lu.assertEquals(candidate('04122003'),\
  \ false)\n    lu.assertEquals(candidate('20030412'), false)\n    lu.assertEquals(candidate('2003-04'),\
  \ false)\n    lu.assertEquals(candidate('2003-04-12'), false)\n    lu.assertEquals(candidate('04-2003'),\
  \ false)\nend\n\nos.exit(lu.LuaUnit.run())"
completions: ["  local month, day, year = date:match(\"(%d+)-(%d+)-(%d+)\")\n  if\
    \ not month or not day or not year then return false end\n  month, day, year =\
    \ tonumber(month), tonumber(day), tonumber(year)\n  if month < 1 or month > 12\
    \ then return false end\n  if month == 2 then\n    if year % 4 == 0 and (year\
    \ % 100 ~= 0 or year % 400 == 0) then\n      if day < 1 or day > 29 then return\
    \ false end\n    else\n      if day < 1 or day > 28 then return false end\n  \
    \  end\n  elseif month == 4 or month == 6 or month == 9 or month == 11 then\n\
    \    if day < 1 or day > 30 then return false end\n  else\n    if day < 1 or day\
    \ > 31 then return false end\n  end\n  return true\nend", "  local m, d, y = date:match(\"\
    (%d+)-(%d+)-(%d+)\")\n  if not m or not d or not y then return false end\n  m,\
    \ d, y = tonumber(m), tonumber(d), tonumber(y)\n  if m < 1 or m > 12 then return\
    \ false end\n  if m == 2 then\n    if y % 4 == 0 and (y % 100 ~= 0 or y % 400\
    \ == 0) then\n      if d < 1 or d > 29 then return false end\n    else\n     \
    \ if d < 1 or d > 28 then return false end\n    end\n  elseif m == 4 or m == 6\
    \ or m == 9 or m == 11 then\n    if d < 1 or d > 30 then return false end\n  else\n\
    \    if d < 1 or d > 31 then return false end\n  end\n  return true\nend", " \
    \   local month, day, year = date:match(\"(%d+)-(%d+)-(%d+)\")\n    if not month\
    \ or not day or not year then return false end\n    month, day, year = tonumber(month),\
    \ tonumber(day), tonumber(year)\n    if month < 1 or month > 12 then return false\
    \ end\n    if day < 1 or day > 31 then return false end\n    if month == 2 then\n\
    \        if day > 29 then return false end\n    elseif month == 4 or month ==\
    \ 6 or month == 9 or month == 11 then\n        if day > 30 then return false end\n\
    \    end\n    return true\nend", "    local month, day, year = date:match(\"(%d+)-(%d+)-(%d+)\"\
    )\n    month, day, year = tonumber(month), tonumber(day), tonumber(year)\n   \
    \ if not month or not day or not year then return false end\n    if month < 1\
    \ or month > 12 then return false end\n    if month == 2 then\n        if year\
    \ % 4 == 0 and year % 100 ~= 0 or year % 400 == 0 then\n            if day < 1\
    \ or day > 29 then return false end\n        else\n            if day < 1 or day\
    \ > 28 then return false end\n        end\n    elseif month == 4 or month == 6\
    \ or month == 9 or month == 11 then\n        if day < 1 or day > 30 then return\
    \ false end\n    else\n        if day < 1 or day > 31 then return false end\n\
    \    end\n    return true\nend", "  local month, day, year = date:match(\"(%d+)-(%d+)-(%d+)\"\
    )\n  month, day, year = tonumber(month), tonumber(day), tonumber(year)\n  if not\
    \ month or not day or not year then return false end\n  if month < 1 or month\
    \ > 12 then return false end\n  if month == 2 then\n    if year % 4 == 0 and (year\
    \ % 100 ~= 0 or year % 400 == 0) then\n      if day < 1 or day > 29 then return\
    \ false end\n    else\n      if day < 1 or day > 28 then return false end\n  \
    \  end\n  elseif month == 4 or month == 6 or month == 9 or month == 11 then\n\
    \    if day < 1 or day > 30 then return false end\n  else\n    if day < 1 or day\
    \ > 31 then return false end\n  end\n  return true\nend", "  local month, day,\
    \ year = date:match(\"(%d+)-(%d+)-(%d+)\")\n  if not month or not day or not year\
    \ then return false end\n  if tonumber(month) < 1 or tonumber(month) > 12 then\
    \ return false end\n  if tonumber(day) < 1 or tonumber(day) > 31 then return false\
    \ end\n  if tonumber(month) == 2 and tonumber(day) > 29 then return false end\n\
    \  if tonumber(month) == 4 or tonumber(month) == 6 or tonumber(month) == 9 or\
    \ tonumber(month) == 11 then\n    if tonumber(day) > 30 then return false end\n\
    \  end\n  return true\nend", "  if date == \"\" then return false end\n  local\
    \ m, d, y = date:match(\"(%d+)-(%d+)-(%d+)\")\n  if not m or not d or not y then\
    \ return false end\n  m, d, y = tonumber(m), tonumber(d), tonumber(y)\n  if m\
    \ < 1 or m > 12 then return false end\n  if m == 2 then\n    if y % 4 == 0 and\
    \ (y % 100 ~= 0 or y % 400 == 0) then\n      if d < 1 or d > 29 then return false\
    \ end\n    else\n      if d < 1 or d > 28 then return false end\n    end\n  elseif\
    \ m == 4 or m == 6 or m == 9 or m == 11 then\n    if d < 1 or d > 30 then return\
    \ false end\n  else\n    if d < 1 or d > 31 then return false end\n  end\n  return\
    \ true\nend", "    local date_pattern = \"(%d%d)-(%d%d)-(%d%d%d%d)\"\n    local\
    \ month, day, year = date:match(date_pattern)\n    if not month or not day or\
    \ not year then\n        return false\n    end\n    month = tonumber(month)\n\
    \    day = tonumber(day)\n    year = tonumber(year)\n    if month < 1 or month\
    \ > 12 then\n        return false\n    end\n    if month == 2 then\n        if\
    \ year % 4 == 0 and (year % 100 ~= 0 or year % 400 == 0) then\n            if\
    \ day < 1 or day > 29 then\n                return false\n            end\n  \
    \      else\n            if day < 1 or day > 28 then\n                return false\n\
    \            end\n        end\n    elseif month == 4 or month == 6 or month ==\
    \ 9 or month == 11 then\n        if day < 1 or day > 30 then\n            return\
    \ false\n        end\n    else\n        if day < 1 or day > 31 then\n        \
    \    return false\n        end\n    end\n    return true\nend", "    local date_pattern\
    \ = \"(%d%d)-(%d%d)-(%d%d%d%d)\"\n    local month, day, year = date:match(date_pattern)\n\
    \    if not month or not day or not year then\n        return false\n    end\n\
    \    month = tonumber(month)\n    day = tonumber(day)\n    year = tonumber(year)\n\
    \    if month < 1 or month > 12 then\n        return false\n    end\n    if month\
    \ == 2 then\n        if year % 4 == 0 and year % 100 ~= 0 or year % 400 == 0 then\n\
    \            if day < 1 or day > 29 then\n                return false\n     \
    \       end\n        else\n            if day < 1 or day > 28 then\n         \
    \       return false\n            end\n        end\n    elseif month == 4 or month\
    \ == 6 or month == 9 or month == 11 then\n        if day < 1 or day > 30 then\n\
    \            return false\n        end\n    else\n        if day < 1 or day >\
    \ 31 then\n            return false\n        end\n    end\n    return true\nend",
  "    local m, d, y = date:match(\"(%d+)-(%d+)-(%d+)\")\n    if m and d and y then\n\
    \        m, d, y = tonumber(m), tonumber(d), tonumber(y)\n        if m >= 1 and\
    \ m <= 12 and d >= 1 and d <= 31 and y >= 1 then\n            if m == 2 then\n\
    \                return d <= 29\n            elseif m == 4 or m == 6 or m == 9\
    \ or m == 11 then\n                return d <= 30\n            else\n        \
    \        return true\n            end\n        end\n    end\n    return false\n\
    end", "  if date == \"\" then return false end\n  local m, d, y = date:match(\"\
    (%d+)-(%d+)-(%d+)\")\n  if not m or not d or not y then return false end\n  m,\
    \ d, y = tonumber(m), tonumber(d), tonumber(y)\n  if m < 1 or m > 12 then return\
    \ false end\n  if m == 2 then\n    if y % 4 == 0 and y % 100 ~= 0 or y % 400 ==\
    \ 0 then\n      if d < 1 or d > 29 then return false end\n    else\n      if d\
    \ < 1 or d > 28 then return false end\n    end\n  elseif m == 4 or m == 6 or m\
    \ == 9 or m == 11 then\n    if d < 1 or d > 30 then return false end\n  else\n\
    \    if d < 1 or d > 31 then return false end\n  end\n  return true\nend", " \
    \ local m, d, y = date:match(\"(%d+)-(%d+)-(%d+)\")\n  if not m or not d or not\
    \ y then return false end\n  m, d, y = tonumber(m), tonumber(d), tonumber(y)\n\
    \  if m < 1 or m > 12 then return false end\n  if m == 2 then\n    if y % 4 ==\
    \ 0 and (y % 100 ~= 0 or y % 400 == 0) then\n      if d < 1 or d > 29 then return\
    \ false end\n    else\n      if d < 1 or d > 28 then return false end\n    end\n\
    \  elseif m == 4 or m == 6 or m == 9 or m == 11 then\n    if d < 1 or d > 30 then\
    \ return false end\n  else\n    if d < 1 or d > 31 then return false end\n  end\n\
    \  return true\nend", "  local m, d, y = date:match(\"(%d+)-(%d+)-(%d+)\")\n \
    \ if not m or not d or not y then return false end\n  m, d, y = tonumber(m), tonumber(d),\
    \ tonumber(y)\n  if m < 1 or m > 12 then return false end\n  if m == 2 then\n\
    \    if y % 4 == 0 and (y % 100 ~= 0 or y % 400 == 0) then\n      if d < 1 or\
    \ d > 29 then return false end\n    else\n      if d < 1 or d > 28 then return\
    \ false end\n    end\n  elseif m == 4 or m == 6 or m == 9 or m == 11 then\n  \
    \  if d < 1 or d > 30 then return false end\n  else\n    if d < 1 or d > 31 then\
    \ return false end\n  end\n  return true\nend", "  local m, d, y = date:match(\"\
    (%d+)-(%d+)-(%d+)\")\n  if not m or not d or not y then return false end\n  m,\
    \ d, y = tonumber(m), tonumber(d), tonumber(y)\n  if m < 1 or m > 12 then return\
    \ false end\n  if m == 2 then\n    if y % 4 == 0 and (y % 100 ~= 0 or y % 400\
    \ == 0) then\n      if d < 1 or d > 29 then return false end\n    else\n     \
    \ if d < 1 or d > 28 then return false end\n    end\n  elseif m == 4 or m == 6\
    \ or m == 9 or m == 11 then\n    if d < 1 or d > 30 then return false end\n  else\n\
    \    if d < 1 or d > 31 then return false end\n  end\n  return true\nend", " \
    \   local date_pattern = \"(%d+)-(%d+)-(%d+)\"\n    local month, day, year = date:match(date_pattern)\n\
    \    local days_in_month = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31}\n\
    \    if not month or not day or not year then\n        return false\n    end\n\
    \    month = tonumber(month)\n    day = tonumber(day)\n    year = tonumber(year)\n\
    \    if month < 1 or month > 12 then\n        return false\n    end\n    if day\
    \ < 1 or day > days_in_month[month] then\n        return false\n    end\n    if\
    \ month == 2 and day == 29 then\n        if year % 4 == 0 and (year % 100 ~= 0\
    \ or year % 400 == 0) then\n            return true\n        else\n          \
    \  return false\n        end\n    end\n    return true\nend", "  local pattern\
    \ = \"(%d%d)-(%d%d)-(%d%d%d%d)\"\n  local month, day, year = date:match(pattern)\n\
    \  if month == nil or day == nil or year == nil then\n    return false\n  end\n\
    \  month = tonumber(month)\n  day = tonumber(day)\n  year = tonumber(year)\n \
    \ if month < 1 or month > 12 then\n    return false\n  end\n  if month == 2 then\n\
    \    if day < 1 or day > 29 then\n      return false\n    end\n  elseif month\
    \ == 4 or month == 6 or month == 9 or month == 11 then\n    if day < 1 or day\
    \ > 30 then\n      return false\n    end\n  else\n    if day < 1 or day > 31 then\n\
    \      return false\n    end\n  end\n  return true\nend", "    local month, day,\
    \ year = date:match(\"(%d+)-(%d+)-(%d+)\")\n    if not month or not day or not\
    \ year then return false end\n    month, day, year = tonumber(month), tonumber(day),\
    \ tonumber(year)\n    if month < 1 or month > 12 then return false end\n    if\
    \ month == 2 then\n        if year % 4 == 0 and (year % 100 ~= 0 or year % 400\
    \ == 0) then\n            if day < 1 or day > 29 then return false end\n     \
    \   else\n            if day < 1 or day > 28 then return false end\n        end\n\
    \    elseif month == 4 or month == 6 or month == 9 or month == 11 then\n     \
    \   if day < 1 or day > 30 then return false end\n    else\n        if day < 1\
    \ or day > 31 then return false end\n    end\n    return true\nend", "    local\
    \ date_pattern = \"(%d%d)-(%d%d)-(%d%d%d%d)\"\n    local month, day, year = date:match(date_pattern)\n\
    \    if not month or not day or not year then\n        return false\n    end\n\
    \    month = tonumber(month)\n    day = tonumber(day)\n    year = tonumber(year)\n\
    \    if month < 1 or month > 12 then\n        return false\n    end\n    if month\
    \ == 2 then\n        if year % 4 == 0 and year % 100 ~= 0 or year % 400 == 0 then\n\
    \            if day < 1 or day > 29 then\n                return false\n     \
    \       end\n        else\n            if day < 1 or day > 28 then\n         \
    \       return false\n            end\n        end\n    elseif month == 4 or month\
    \ == 6 or month == 9 or month == 11 then\n        if day < 1 or day > 30 then\n\
    \            return false\n        end\n    else\n        if day < 1 or day >\
    \ 31 then\n            return false\n        end\n    end\n    return true\nend",
  "  local month, day, year = date:match(\"(%d%d)-(%d%d)-(%d%d%d%d)\")\n  if not month\
    \ or not day or not year then return false end\n  month, day, year = tonumber(month),\
    \ tonumber(day), tonumber(year)\n  if month < 1 or month > 12 then return false\
    \ end\n  if month == 2 then\n    if year % 4 == 0 and (year % 100 ~= 0 or year\
    \ % 400 == 0) then\n      if day < 1 or day > 29 then return false end\n    else\n\
    \      if day < 1 or day > 28 then return false end\n    end\n  elseif month ==\
    \ 4 or month == 6 or month == 9 or month == 11 then\n    if day < 1 or day > 30\
    \ then return false end\n  else\n    if day < 1 or day > 31 then return false\
    \ end\n  end\n  return true\nend", "  local month, day, year = date:match(\"(%d+)-(%d+)-(%d+)\"\
    )\n  if not month or not day or not year then return false end\n  if month < 1\
    \ or month > 12 then return false end\n  if day < 1 or day > 31 then return false\
    \ end\n  if month == 2 and day > 29 then return false end\n  if month == 4 or\
    \ month == 6 or month == 9 or month == 11 then\n    if day > 30 then return false\
    \ end\n  end\n  return true\nend"]
stop_tokens:
- "\nlocal"
- "\nfunction"
- "\n--"
- "\n\n"
