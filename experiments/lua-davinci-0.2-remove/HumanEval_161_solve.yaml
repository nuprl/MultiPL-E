name: HumanEval_161_solve
language: lua
prompt: "-- You are given a string s.\n-- if s[i] is a letter, reverse its case from\
  \ lower to upper or vise versa, \n-- otherwise keep it as it is.\n-- If the string\
  \ contains no letters, reverse the string.\n-- The function should return the resulted\
  \ string.\n-- Examples\nlocal function solve(s)\n"
tests: "lu = require('luaunit')\n\nfunction test_humaneval()\nlocal candidate = solve\n\
  \    lu.assertEquals(candidate('AsDf'), 'aSdF')\n    lu.assertEquals(candidate('1234'),\
  \ '4321')\n    lu.assertEquals(candidate('ab'), 'AB')\n    lu.assertEquals(candidate('#a@C'),\
  \ '#A@c')\n    lu.assertEquals(candidate('#AsdfW^45'), '#aSDFw^45')\n    lu.assertEquals(candidate('#6@2'),\
  \ '2@6#')\n    lu.assertEquals(candidate('#$a^D'), '#$A^d')\n    lu.assertEquals(candidate('#ccc'),\
  \ '#CCC')\nend\n\nos.exit(lu.LuaUnit.run())"
completions: ["    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            res[#res + 1] = c:lower() ==\
    \ c and c:upper() or c:lower()\n        else\n            res[#res + 1] = c\n\
    \        end\n    end\n    return #res == 0 and s:reverse() or table.concat(res)\n\
    end", "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            if c:match(\"%l\") then\n \
    \               res = res .. c:upper()\n            else\n                res\
    \ = res .. c:lower()\n            end\n        else\n            res = res ..\
    \ c\n        end\n    end\n    return res\nend", "    local res = {}\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n\
    \            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n     \
    \   else\n            res[#res + 1] = c\n        end\n    end\n    return #res\
    \ > 0 and table.concat(res) or s:reverse()\nend", "    local res = {}\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            if c:match(\"%u\") then\n                c = c:lower()\n        \
    \    else\n                c = c:upper()\n            end\n        end\n     \
    \   res[#res + 1] = c\n    end\n    return table.concat(res)\nend", "    local\
    \ res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if\
    \ c:match(\"%a\") then\n            if c:match(\"%u\") then\n                res\
    \ = res .. c:lower()\n            else\n                res = res .. c:upper()\n\
    \            end\n        else\n            res = res .. c\n        end\n    end\n\
    \    return res\nend", "    local res = \"\"\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res = res .. c:gsub(\"\
    %a\", function(c)\n                return c:lower() == c and c:upper() or c:lower()\n\
    \            end)\n        else\n            res = res .. c\n        end\n   \
    \ end\n    return res\nend", "    local res = {}\n    for i = 1, #s do\n     \
    \   local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res[#res\
    \ + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n           \
    \ res[#res + 1] = c\n        end\n    end\n    return #res > 0 and table.concat(res)\
    \ or s:reverse()\nend", "    local res = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            if c:match(\"\
    %u\") then\n                res[#res + 1] = c:lower()\n            else\n    \
    \            res[#res + 1] = c:upper()\n            end\n        else\n      \
    \      res[#res + 1] = c\n        end\n    end\n    return #res > 0 and table.concat(res)\
    \ or s:reverse()\nend", "    local res = \"\"\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res = res .. c:gsub(\"\
    %a\", function(c) return c:lower() == c and c:upper() or c:lower() end)\n    \
    \    else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match(\"%a\") then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            if c:match(\"%u\") then\n                c = c:lower()\n \
    \           else\n                c = c:upper()\n            end\n        end\n\
    \        t[#t + 1] = c\n    end\n    return table.concat(t)\nend", "    local\
    \ res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            if c:match(\"%l\") then\n                c = c:upper()\n\
    \            else\n                c = c:lower()\n            end\n        end\n\
    \        res[#res + 1] = c\n    end\n    return table.concat(res)\nend", "   \
    \ local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n      \
    \  if c:match(\"%a\") then\n            res[#res + 1] = c:match(\"%l\") and c:upper()\
    \ or c:lower()\n        else\n            res[#res + 1] = c\n        end\n   \
    \ end\n    return #res > 0 and table.concat(res) or s:reverse()\nend", "    local\
    \ res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            if c:match(\"%u\") then\n                c = c:lower()\n\
    \            else\n                c = c:upper()\n            end\n        end\n\
    \        res[#res + 1] = c\n    end\n    return #res > 0 and table.concat(res)\
    \ or s:reverse()\nend", "    local res = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res[#res + 1]\
    \ = c:lower() == c and c:upper() or c:lower()\n        else\n            res[#res\
    \ + 1] = c\n        end\n    end\n    return #res > 0 and table.concat(res) or\
    \ s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n        local c\
    \ = s:sub(i, i)\n        if c:match('%a') then\n            t[#t + 1] = c:match('%l')\
    \ and c:upper() or c:lower()\n        else\n            t[#t + 1] = c\n      \
    \  end\n    end\n    return #t > 0 and table.concat(t) or s:reverse()\nend", " \
    \   local t = {}\n    for i = 1, #s do\n        if s:sub(i, i):match(\"%a\") then\n\
    \            t[i] = s:sub(i, i):lower() == s:sub(i, i) and s:sub(i, i):upper()\
    \ or s:sub(i, i):lower()\n        else\n            t[i] = s:sub(i, i)\n     \
    \   end\n    end\n    return #s:gsub(\"%a\", \"\") == #s and s:reverse() or table.concat(t)\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            res[#res + 1] = c:lower() == c and\
    \ c:upper() or c:lower()\n        else\n            res[#res + 1] = c\n      \
    \  end\n    end\n    return #res > 0 and table.concat(res) or s:reverse()\nend",
  "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match(\"%a\") then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t == 0 and s:reverse() or table.concat(t)\nend", "    local res =\
    \ {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            if c:match(\"%u\") then\n                res[#res + 1]\
    \ = c:lower()\n            else\n                res[#res + 1] = c:upper()\n \
    \           end\n        else\n            res[#res + 1] = c\n        end\n  \
    \  end\n    if #res == 0 then\n        return s:reverse()\n    end\n    return\
    \ table.concat(res)\nend", "    local res = {}\n    for i = 1, #s do\n       \
    \ local c = s:sub(i, i)\n        if c:match('%a') then\n            if c:match('%u')\
    \ then\n                c = c:lower()\n            else\n                c = c:upper()\n\
    \            end\n        end\n        res[#res + 1] = c\n    end\n    return\
    \ table.concat(res)\nend", "    local res = \"\"\n    for i = 1, #s do\n     \
    \   local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            if c:match(\"\
    %u\") then\n                res = res .. c:lower()\n            else\n       \
    \         res = res .. c:upper()\n            end\n        else\n            res\
    \ = res .. c\n        end\n    end\n    return res\nend", "    local res = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            res[#res + 1] = c:match('%l') and c:upper() or c:lower()\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res > 0 and table.concat(res) or s:reverse()\nend", "    local result = \"\"\
    \n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            result = result .. c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            result = result .. c\n        end\n    end\n    return\
    \ result\nend", "    local res = \"\"\n    for i = 1, #s do\n        local c =\
    \ s:sub(i, i)\n        if c:match(\"%a\") then\n            if c:match(\"%l\"\
    ) then\n                res = res .. c:upper()\n            else\n           \
    \     res = res .. c:lower()\n            end\n        else\n            res =\
    \ res .. c\n        end\n    end\n    return res\nend", "    local t = {}\n  \
    \  for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            t[#t + 1] = c:match(\"%u\") and c:lower() or c:upper()\n \
    \       else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "    local res = {}\n    for i =\
    \ 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n \
    \           res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n      \
    \  else\n            res[#res + 1] = c\n        end\n    end\n    return #res\
    \ > 0 and table.concat(res) or s:reverse()\nend", "    local res = \"\"\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            if c:match(\"%u\") then\n                res = res .. c:lower()\n\
    \            else\n                res = res .. c:upper()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match(\"%a\") then\n            if c:match(\"%l\") then\n      \
    \          c = c:upper()\n            else\n                c = c:lower()\n  \
    \          end\n        end\n        t[#t + 1] = c\n    end\n    return table.concat(t)\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match(\"%a\") then\n            res[#res + 1] = c:lower() == c and\
    \ c:upper() or c:lower()\n        else\n            res[#res + 1] = c\n      \
    \  end\n    end\n    return #res > 0 and table.concat(res) or s:reverse()\nend",
  "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n     \
    \   if c:match('%a') then\n            res[#res + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            res[#res + 1] = c\n        end\n   \
    \ end\n    return #res > 0 and table.concat(res) or s:reverse()\nend", "    local\
    \ res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if\
    \ c:match(\"%a\") then\n            if c:match(\"%l\") then\n                res\
    \ = res .. c:upper()\n            else\n                res = res .. c:lower()\n\
    \            end\n        else\n            res = res .. c\n        end\n    end\n\
    \    return res\nend", "    local res = \"\"\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res = res .. c:gsub(\"\
    %l\", string.upper):gsub(\"%u\", string.lower)\n        else\n            res\
    \ = res .. c\n        end\n    end\n    return res\nend", "    local res = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res > 0 and table.concat(res) or s:reverse()\nend", "    local res = {}\n \
    \   for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            if c:match(\"%l\") then\n                c = c:upper()\n \
    \           else\n                c = c:lower()\n            end\n        end\n\
    \        res[#res + 1] = c\n    end\n    return table.concat(res)\nend", "   \
    \ local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if\
    \ c:match(\"%a\") then\n            t[#t + 1] = c:lower() == c and c:upper() or\
    \ c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n \
    \   return #t > 0 and table.concat(t) or s:reverse()\nend", "    local res = {}\n\
    \    local len = #s\n    for i = 1, len do\n        local c = s:sub(i, i)\n  \
    \      if c:match(\"%a\") then\n            res[i] = c:upper() == c and c:lower()\
    \ or c:upper()\n        else\n            res[i] = c\n        end\n    end\n \
    \   return len > 0 and table.concat(res) or s:reverse()\nend", "    local res\
    \ = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res > 0 and table.concat(res) or s:reverse()\nend", "    local res = {}\n \
    \   for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            if c:match(\"%u\") then\n                c = c:lower()\n \
    \           else\n                c = c:upper()\n            end\n        end\n\
    \        res[#res + 1] = c\n    end\n    return #res > 0 and table.concat(res)\
    \ or s:reverse()\nend", "    local res = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            if c:match(\"\
    %l\") then\n                c = c:upper()\n            else\n                c\
    \ = c:lower()\n            end\n        end\n        res[#res + 1] = c\n    end\n\
    \    return table.concat(res)\nend", "    local res = {}\n    for i = 1, #s do\n\
    \        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res[#res\
    \ + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n           \
    \ res[#res + 1] = c\n        end\n    end\n    return #res > 0 and table.concat(res)\
    \ or s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            t[#t + 1] = c:lower()\
    \ == c and c:upper() or c:lower()\n        else\n            t[#t + 1] = c\n \
    \       end\n    end\n    return #t > 0 and table.concat(t) or s:reverse()\nend",
  "    local res = \"\"\n    for i = 1, #s do\n        if s[i]:match(\"%a\") then\n\
    \            res = res .. s[i]:lower() == s[i] and s[i]:upper() or s[i]:lower()\n\
    \        else\n            res = res .. s[i]\n        end\n    end\n    return\
    \ res\nend", "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            if c:match(\"%u\") then\n \
    \               res = res .. c:lower()\n            else\n                res\
    \ = res .. c:upper()\n            end\n        else\n            res = res ..\
    \ c\n        end\n    end\n    return res\nend", "    local res = \"\"\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            res = res .. c:gsub(\"%a\", function(c) return c:lower() == c and\
    \ c:upper() or c:lower() end)\n        else\n            res = res .. c\n    \
    \    end\n    end\n    return res\nend", "    local t = {}\n    for i = 1, #s\
    \ do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n       \
    \     t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n  \
    \          t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    local res = \"\"\n    for i = 1, #s do\n        if\
    \ string.match(s[i], \"%a\") then\n            if string.match(s[i], \"%l\") then\n\
    \                res = res .. string.upper(s[i])\n            else\n         \
    \       res = res .. string.lower(s[i])\n            end\n        else\n     \
    \       res = res .. s[i]\n        end\n    end\n    return res\nend", "    local\
    \ res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            res[#res + 1] = c:match('%l') and c:upper() or c:lower()\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res > 0 and table.concat(res) or s:reverse()\nend", "    local res = {}\n \
    \   for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%l') then\n                c = c:upper()\n   \
    \         else\n                c = c:lower()\n            end\n        end\n\
    \        res[#res + 1] = c\n    end\n    return table.concat(res)\nend", "   \
    \ local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i, i)\n    \
    \    if c:match(\"%a\") then\n            if c:match(\"%l\") then\n          \
    \      res = res .. c:upper()\n            else\n                res = res ..\
    \ c:lower()\n            end\n        else\n            res = res .. c\n     \
    \   end\n    end\n    return res\nend", "    local res = {}\n    for i = 1, #s\
    \ do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n         \
    \   res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n\
    \            res[#res + 1] = c\n        end\n    end\n    return #res > 0 and\
    \ table.concat(res) or s:reverse()\nend", "    local res = {}\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n      \
    \      if c:match('%u') then\n                res[#res + 1] = c:lower()\n    \
    \        else\n                res[#res + 1] = c:upper()\n            end\n  \
    \      else\n            res[#res + 1] = c\n        end\n    end\n    return table.concat(res)\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match(\"%a\") then\n            if c:match(\"%l\") then\n      \
    \          c = c:upper()\n            else\n                c = c:lower()\n  \
    \          end\n        end\n        res[#res + 1] = c\n    end\n    return table.concat(res)\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match(\"%a\") then\n            res[#res + 1] = c:lower() == c and\
    \ c:upper() or c:lower()\n        else\n            res[#res + 1] = c\n      \
    \  end\n    end\n    return #res > 0 and table.concat(res) or s:reverse()\nend",
  "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match(\"%a\") then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t > 0 and table.concat(t) or s:reverse()\nend", "  local t = {}\n\
    \  for i = 1, #s do\n    local c = s:sub(i, i)\n    if c:match(\"%a\") then\n\
    \      t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n    else\n     \
    \ t[#t + 1] = c\n    end\n  end\n  return #t > 0 and table.concat(t) or s:reverse()\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match(\"%a\") then\n            res[#res + 1] = c:lower() == c and\
    \ c:upper() or c:lower()\n        else\n            res[#res + 1] = c\n      \
    \  end\n    end\n    return #res > 0 and table.concat(res) or s:reverse()\nend",
  "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n     \
    \   if c:match(\"%a\") then\n            if c:match(\"%l\") then\n           \
    \     c = c:upper()\n            else\n                c = c:lower()\n       \
    \     end\n        end\n        res[#res + 1] = c\n    end\n    return table.concat(res)\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match(\"%a\") then\n            res[#res + 1] = c:lower() == c and\
    \ c:upper() or c:lower()\n        else\n            res[#res + 1] = c\n      \
    \  end\n    end\n    return #res > 0 and table.concat(res) or s:reverse()\nend",
  "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i, i)\n   \
    \     if c:match(\"%a\") then\n            if c:match(\"%u\") then\n         \
    \       res = res .. c:lower()\n            else\n                res = res ..\
    \ c:upper()\n            end\n        else\n            res = res .. c\n     \
    \   end\n    end\n    return res\nend", "    local t = {}\n    for i = 1, #s do\n\
    \        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            t[#t\
    \ + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n           \
    \ t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t) or\
    \ s:reverse()\nend", "    local res = \"\"\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res = res .. (c:lower()\
    \ == c and c:upper() or c:lower())\n        else\n            res = res .. c\n\
    \        end\n    end\n    return res\nend", "    local res = {}\n    for i =\
    \ 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n \
    \           res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n      \
    \  else\n            res[#res + 1] = c\n        end\n    end\n    return #res\
    \ > 0 and table.concat(res) or s:reverse()\nend", "    local res = {}\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            if c:match(\"%u\") then\n                res[#res + 1] = c:lower()\n\
    \            else\n                res[#res + 1] = c:upper()\n            end\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res > 0 and table.concat(res) or s:reverse()\nend", "    local res = {}\n \
    \   for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res > 0 and table.concat(res) or s:reverse()\nend", "    local res = ''\n \
    \   for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%l') then\n                res = res .. c:upper()\n\
    \            else\n                res = res .. c:lower()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "  local res = {}\n  for i = 1, #s do\n    local c = s:sub(i, i)\n    if\
    \ c:match('%a') then\n      res[#res + 1] = c:match('%l') and c:upper() or c:lower()\n\
    \    else\n      res[#res + 1] = c\n    end\n  end\n  return #res == 0 and s:reverse()\
    \ or table.concat(res)\nend", "    local t = {}\n    for i = 1, #s do\n      \
    \  local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            t[#t +\
    \ 1] = c:lower() == c and c:upper() or c:lower()\n        else\n            t[#t\
    \ + 1] = c\n        end\n    end\n    return #t == 0 and s:reverse() or table.concat(t)\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match(\"%a\") then\n            res[#res + 1] = c:lower() == c and\
    \ c:upper() or c:lower()\n        else\n            res[#res + 1] = c\n      \
    \  end\n    end\n    return #res > 0 and table.concat(res) or s:reverse()\nend",
  "    local res = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n     \
    \   if c:match('%a') then\n            if c:match('%u') then\n               \
    \ res = res .. c:lower()\n            else\n                res = res .. c:upper()\n\
    \            end\n        else\n            res = res .. c\n        end\n    end\n\
    \    return res\nend", "    local res = \"\"\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            if c:match(\"\
    %l\") then\n                res = res .. c:upper()\n            else\n       \
    \         res = res .. c:lower()\n            end\n        else\n            res\
    \ = res .. c\n        end\n    end\n    return res\nend", "    local res = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res == 0 and s:reverse() or table.concat(res)\nend", "    local res = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            if c:match(\"%u\") then\n                c = c:lower()\n \
    \           else\n                c = c:upper()\n            end\n        end\n\
    \        res[#res + 1] = c\n    end\n    return #res > 0 and table.concat(res)\
    \ or s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            t[#t + 1] = c:lower()\
    \ == c and c:upper() or c:lower()\n        else\n            t[#t + 1] = c\n \
    \       end\n    end\n    return #t > 0 and table.concat(t) or s:reverse()\nend",
  "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i, i)\n   \
    \     if c:match(\"%a\") then\n            if c:match(\"%l\") then\n         \
    \       res = res .. c:upper()\n            else\n                res = res ..\
    \ c:lower()\n            end\n        else\n            res = res .. c\n     \
    \   end\n    end\n    return res\nend", "    local res = \"\"\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n    \
    \        res = res .. (c:lower() == c and c:upper() or c:lower())\n        else\n\
    \            res = res .. c\n        end\n    end\n    return res\nend", "   \
    \ local res = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n      \
    \  if c:match('%a') then\n            if c:match('%l') then\n                res\
    \ = res .. c:upper()\n            else\n                res = res .. c:lower()\n\
    \            end\n        else\n            res = res .. c\n        end\n    end\n\
    \    return res\nend", "    local t = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            t[#t + 1] = c:lower()\
    \ == c and c:upper() or c:lower()\n        else\n            t[#t + 1] = c\n \
    \       end\n    end\n    return #t > 0 and table.concat(t) or s:reverse()\nend",
  "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i, i)\n   \
    \     if c:match(\"%a\") then\n            res = res .. c:gsub(\"%a\", function(c)\
    \ return c:lower() == c and c:upper() or c:lower() end)\n        else\n      \
    \      res = res .. c\n        end\n    end\n    return res\nend", "    local\
    \ res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res > 0 and table.concat(res) or s:reverse()\nend", "    local t = {}\n   \
    \ for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\")\
    \ then\n            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "    local res = ''\n    for i =\
    \ 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n   \
    \         res = res .. c:gsub('%a', function(c)\n                return c:lower()\
    \ == c and c:upper() or c:lower()\n            end)\n        else\n          \
    \  res = res .. c\n        end\n    end\n    return res\nend", "    local result\
    \ = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%u') then\n                result = result ..\
    \ c:lower()\n            else\n                result = result .. c:upper()\n\
    \            end\n        else\n            result = result .. c\n        end\n\
    \    end\n    return result\nend", "    local t = {}\n    for i = 1, #s do\n \
    \       local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            t[#t\
    \ + 1] = c:match(\"%l\") and c:upper() or c:lower()\n        else\n          \
    \  t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    local res = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res[#res + 1]\
    \ = c:match(\"%l\") and c:upper() or c:lower()\n        else\n            res[#res\
    \ + 1] = c\n        end\n    end\n    return #res > 0 and table.concat(res) or\
    \ s:reverse()\nend", "    local res = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match('%a') then\n            res[#res + 1] =\
    \ c:lower() == c and c:upper() or c:lower()\n        else\n            res[#res\
    \ + 1] = c\n        end\n    end\n    return #res > 0 and table.concat(res) or\
    \ s:reverse()\nend", "    local str = \"\"\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            if c == c:upper()\
    \ then\n                str = str .. c:lower()\n            else\n           \
    \     str = str .. c:upper()\n            end\n        else\n            str =\
    \ str .. c\n        end\n    end\n    return str\nend", "    local t = {}\n  \
    \  for i = 1, #s do\n        if s:sub(i, i):match(\"%a\") then\n            t[i]\
    \ = s:sub(i, i):lower() == s:sub(i, i) and s:sub(i, i):upper() or s:sub(i, i):lower()\n\
    \        else\n            t[i] = s:sub(i, i)\n        end\n    end\n    return\
    \ #s:gsub(\"%a\", \"\") == #s and s:reverse() or table.concat(t)\nend", "    local\
    \ t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            t[#t + 1] = c\n        end\n    end\n    return #t\
    \ > 0 and table.concat(t) or s:reverse()\nend", "    local res = \"\"\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            if c:match(\"%l\") then\n                res = res .. c:upper()\n\
    \            else\n                res = res .. c:lower()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            res = res .. c:gsub(\"%a\"\
    , function(ch)\n                return ch:lower() == ch and ch:upper() or ch:lower()\n\
    \            end)\n        else\n            res = res .. c\n        end\n   \
    \ end\n    return res\nend", "    local res = {}\n    for i = 1, #s do\n     \
    \   local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res[#res\
    \ + 1] = c:match(\"%l\") and c:upper() or c:lower()\n        else\n          \
    \  res[#res + 1] = c\n        end\n    end\n    return #res > 0 and table.concat(res)\
    \ or s:reverse()\nend", "    local res = \"\"\n    for i=1,#s do\n        local\
    \ c = s:sub(i,i)\n        if c:match(\"%a\") then\n            if c:match(\"%l\"\
    ) then\n                res = res .. c:upper()\n            else\n           \
    \     res = res .. c:lower()\n            end\n        else\n            res =\
    \ res .. c\n        end\n    end\n    return res\nend", "    local res = \"\"\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            if c:match(\"%l\") then\n                res = res .. c:upper()\n\
    \            else\n                res = res .. c:lower()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            res = res .. (c:lower() ==\
    \ c and c:upper() or c:lower())\n        else\n            res = res .. c\n  \
    \      end\n    end\n    return res\nend", "    local res = {}\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n    \
    \        res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n\
    \            res[#res + 1] = c\n        end\n    end\n    return #res > 0 and\
    \ table.concat(res) or s:reverse()\nend", "    local res = {}\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n    \
    \        if c:match(\"%l\") then\n                c = c:upper()\n            else\n\
    \                c = c:lower()\n            end\n        end\n        res[#res\
    \ + 1] = c\n    end\n    return table.concat(res)\nend", "    if s:match(\"%a\"\
    ) then\n        return s:gsub(\"%a\", function(c) return c:lower() == c and c:upper()\
    \ or c:lower() end)\n    else\n        return s:reverse()\n    end\nend", "  \
    \  local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n     \
    \   if c:match(\"%a\") then\n            if c:match(\"%u\") then\n           \
    \     res[#res + 1] = c:lower()\n            else\n                res[#res +\
    \ 1] = c:upper()\n            end\n        else\n            res[#res + 1] = c\n\
    \        end\n    end\n    return #res > 0 and table.concat(res) or s:reverse()\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match(\"%a\") then\n            res[#res + 1] = c:lower() == c and\
    \ c:upper() or c:lower()\n        else\n            res[#res + 1] = c\n      \
    \  end\n    end\n    return #res == 0 and s:reverse() or table.concat(res)\nend",
  "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match(\"%a\") then\n            c = c:lower() == c and c:upper() or c:lower()\n\
    \        end\n        t[#t + 1] = c\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            if c:match(\"\
    %l\") then\n                c = c:upper()\n            else\n                c\
    \ = c:lower()\n            end\n        end\n        t[#t + 1] = c\n    end\n\
    \    return table.concat(t)\nend", "    local res = \"\"\n    for i = 1, #s do\n\
    \        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            if\
    \ c:match(\"%l\") then\n                res = res .. c:upper()\n            else\n\
    \                res = res .. c:lower()\n            end\n        else\n     \
    \       res = res .. c\n        end\n    end\n    return res\nend", "    local\
    \ res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res > 0 and table.concat(res) or s:reverse()\nend", "    local t = {}\n   \
    \ for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n\
    \            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n\
    \            t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            t[#t + 1] = c:lower()\
    \ == c and c:upper() or c:lower()\n        else\n            t[#t + 1] = c\n \
    \       end\n    end\n    return #t > 0 and table.concat(t) or s:reverse()\nend",
  "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n     \
    \   if c:match(\"%a\") then\n            res[#res + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            res[#res + 1] = c\n        end\n   \
    \ end\n    return #res > 0 and table.concat(res) or s:reverse()\nend", "    local\
    \ res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if\
    \ c:match(\"%a\") then\n            if c:match(\"%l\") then\n                res\
    \ = res .. c:upper()\n            else\n                res = res .. c:lower()\n\
    \            end\n        else\n            res = res .. c\n        end\n    end\n\
    \    return res\nend", "    local res = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res[#res + 1]\
    \ = c:lower() == c and c:upper() or c:lower()\n        else\n            res[#res\
    \ + 1] = c\n        end\n    end\n    return #res > 0 and table.concat(res) or\
    \ s:reverse()\nend", "    local res = \"\"\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            if c:match(\"\
    %l\") then\n                res = res .. c:upper()\n            else\n       \
    \         res = res .. c:lower()\n            end\n        else\n            res\
    \ = res .. c\n        end\n    end\n    return res\nend", "    local res = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            if c:match(\"%l\") then\n                c = c:upper()\n \
    \           else\n                c = c:lower()\n            end\n        end\n\
    \        res[#res + 1] = c\n    end\n    return table.concat(res)\nend", "   \
    \ local res = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n      \
    \  if c:match('%a') then\n            if c:match('%l') then\n                res\
    \ = res .. c:upper()\n            else\n                res = res .. c:lower()\n\
    \            end\n        else\n            res = res .. c\n        end\n    end\n\
    \    return res\nend", "    local res = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            if c:match(\"\
    %l\") then\n                c = c:upper()\n            else\n                c\
    \ = c:lower()\n            end\n        end\n        res[#res + 1] = c\n    end\n\
    \    return table.concat(res)\nend", "    local res = {}\n    for i = 1, #s do\n\
    \        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res[#res\
    \ + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n           \
    \ res[#res + 1] = c\n        end\n    end\n    return #res > 0 and table.concat(res)\
    \ or s:reverse()\nend", "    local res = \"\"\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            if c:match(\"\
    %u\") then\n                res = res .. c:lower()\n            else\n       \
    \         res = res .. c:upper()\n            end\n        else\n            res\
    \ = res .. c\n        end\n    end\n    return res\nend", "    local res = \"\"\
    \n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            res = res .. c:gsub(\"%a\", function(x) return x:lower() ==\
    \ x and x:upper() or x:lower() end)\n        else\n            res = res .. c\n\
    \        end\n    end\n    return res\nend", "    local res = {}\n    for i =\
    \ 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n \
    \           res[#res + 1] = c:upper() == c and c:lower() or c:upper()\n      \
    \  else\n            res[#res + 1] = c\n        end\n    end\n    return #res\
    \ == 0 and s:reverse() or table.concat(res)\nend", "    local res = {}\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n\
    \            c = c:lower() == c and c:upper() or c:lower()\n        end\n    \
    \    res[#res + 1] = c\n    end\n    return #res > 0 and table.concat(res) or\
    \ s:reverse()\nend", "    local res = \"\"\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            if c:match(\"\
    %l\") then\n                res = res .. c:upper()\n            else\n       \
    \         res = res .. c:lower()\n            end\n        else\n            res\
    \ = res .. c\n        end\n    end\n    return res\nend", "    local t = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t >\
    \ 0 and table.concat(t) or s:reverse()\nend", "    local res = {}\n    for i =\
    \ 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n \
    \           res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n      \
    \  else\n            res[#res + 1] = c\n        end\n    end\n    return #res\
    \ > 0 and table.concat(res) or s:reverse()\nend", "    local res = {}\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            if c:match(\"%l\") then\n                c = c:upper()\n        \
    \    else\n                c = c:lower()\n            end\n        end\n     \
    \   res[#res + 1] = c\n    end\n    return table.concat(res)\nend", "    local\
    \ res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res > 0 and table.concat(res) or s:reverse()\nend", "  local res = {}\n  for\
    \ i = 1, #s do\n    local c = s:sub(i, i)\n    if c:match(\"%a\") then\n     \
    \ if c:match(\"%u\") then\n        res[#res + 1] = c:lower()\n      else\n   \
    \     res[#res + 1] = c:upper()\n      end\n    else\n      res[#res + 1] = c\n\
    \    end\n  end\n  if #res == 0 then\n    return s:reverse()\n  end\n  return\
    \ table.concat(res)\nend", "    local res = \"\"\n    for i = 1, #s do\n     \
    \   local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res =\
    \ res .. c:gsub(\"%a\", function(c)\n                return c:lower() == c and\
    \ c:upper() or c:lower()\n            end)\n        else\n            res = res\
    \ .. c\n        end\n    end\n    return #res > 0 and res or s:reverse()\nend",
  "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i, i)\n   \
    \     if c:match(\"%a\") then\n            if c:match(\"%l\") then\n         \
    \       res = res .. c:upper()\n            else\n                res = res ..\
    \ c:lower()\n            end\n        else\n            res = res .. c\n     \
    \   end\n    end\n    return res\nend", "    local res = \"\"\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n    \
    \        if c:match(\"%u\") then\n                res = res .. c:lower()\n   \
    \         else\n                res = res .. c:upper()\n            end\n    \
    \    else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match(\"%a\") then\n            if c:match(\"%u\") then\n      \
    \          c = c:lower()\n            else\n                c = c:upper()\n  \
    \          end\n        end\n        res[#res + 1] = c\n    end\n    return table.concat(res)\n\
    end", "  local t = {}\n  for i = 1, #s do\n    local c = s:sub(i, i)\n    if c:match(\"\
    %a\") then\n      t[#t + 1] = c:match(\"%u\") and c:lower() or c:upper()\n   \
    \ else\n      t[#t + 1] = c\n    end\n  end\n  return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "  local res = {}\n  for i = 1, #s do\n    local c = s:sub(i,\
    \ i)\n    if c:match(\"%a\") then\n      res[#res + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n    else\n      res[#res + 1] = c\n    end\n  end\n  return #res\
    \ > 0 and table.concat(res) or s:reverse()\nend", "    local res = \"\"\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            if c:match(\"%u\") then\n                res = res .. c:lower()\n\
    \            else\n                res = res .. c:upper()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            if c:match(\"%u\") then\n \
    \               res = res .. c:lower()\n            else\n                res\
    \ = res .. c:upper()\n            end\n        else\n            res = res ..\
    \ c\n        end\n    end\n    return res\nend", "  local res = {}\n  for i =\
    \ 1, #s do\n    local c = s:sub(i, i)\n    if c:match('%a') then\n      res[#res\
    \ + 1] = c:match('%u') and c:lower() or c:upper()\n    else\n      res[#res +\
    \ 1] = c\n    end\n  end\n  return #res > 0 and table.concat(res) or s:reverse()\n\
    end", "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            if c:match(\"%l\") then\n \
    \               res = res .. c:upper()\n            else\n                res\
    \ = res .. c:lower()\n            end\n        else\n            res = res ..\
    \ c\n        end\n    end\n    return res\nend", "    local t = {}\n    for i\
    \ = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n\
    \            t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    local t = {}\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            t[#t + 1] = c:lower()\
    \ == c and c:upper() or c:lower()\n        else\n            t[#t + 1] = c\n \
    \       end\n    end\n    return #t == 0 and s:reverse() or table.concat(t)\n\
    end", "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            if c:match(\"%l\") then\n \
    \               res = res .. c:upper()\n            else\n                res\
    \ = res .. c:lower()\n            end\n        else\n            res = res ..\
    \ c\n        end\n    end\n    return res\nend", "    local res = {}\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n     \
    \   else\n            res[#res + 1] = c\n        end\n    end\n    return #res\
    \ == 0 and s:reverse() or table.concat(res)\nend", "    local res = \"\"\n   \
    \ for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\")\
    \ then\n            if c:match(\"%u\") then\n                res = res .. c:lower()\n\
    \            else\n                res = res .. c:upper()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            res = res .. c:gsub(\"%a\"\
    , function(c)\n                return c:lower() == c and c:upper() or c:lower()\n\
    \            end)\n        else\n            res = res .. c\n        end\n   \
    \ end\n    return res\nend", "    local res = {}\n    for i = 1, #s do\n     \
    \   local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res[#res\
    \ + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n           \
    \ res[#res + 1] = c\n        end\n    end\n    return #res == 0 and s:reverse()\
    \ or table.concat(res)\nend", "    local t = {}\n    for i = 1, #s do\n      \
    \  local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            t[#t +\
    \ 1] = c:lower() == c and c:upper() or c:lower()\n        else\n            t[#t\
    \ + 1] = c\n        end\n    end\n    return #t == 0 and s:reverse() or table.concat(t)\n\
    end", "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            res = res .. c:gsub(\"%a\"\
    , {[\"a\"] = \"A\", [\"A\"] = \"a\", [\"b\"] = \"B\", [\"B\"] = \"b\", [\"c\"\
    ] = \"C\", [\"C\"] = \"c\", [\"d\"] = \"D\", [\"D\"] = \"d\", [\"e\"] = \"E\"\
    , [\"E\"] = \"e\", [\"f\"] = \"F\", [\"F\"] = \"f\", [\"g\"] = \"G\", [\"G\"]\
    \ = \"g\", [\"h\"] = \"H\", [\"H\"] = \"h\", [\"i\"] = \"I\", [\"I\"] = \"i\"\
    , [\"j\"] = \"J\", [\"J\"] = \"j\", [\"k\"] = \"K\", [\"K\"] = \"k\", [\"l\"]\
    \ = \"L\", [\"L\"] = \"l\", [\"m\"] = \"M\", [\"M\"] = \"m\", [\"n\"] = \"N\"\
    , [\"N\"] = \"n\", [\"o\"] = \"O\", [\"O\"] = \"o\", [\"p\"] = \"P\", [\"P\"]\
    \ = \"p\", [\"q\"] = \"Q\", [\"Q\"] = \"q\", [\"r\"] = \"R\", [\"R\"] = \"r\"\
    , [\"s\"] = \"S\", [\"S\"] = \"s\", [\"t\"] = \"T\", [\"T\"] = \"t\", [\"u\"]\
    \ = \"U\", [\"U\"] = \"u\", [\"v\"] = \"V\", [\"V\"] = \"v\", [\"w\"] = \"W\"\
    , [\"W\"] = \"w\", [\"x\"] = \"X\", [\"X\"] = \"x\", [\"y\"] = \"Y\", [\"Y\"]\
    \ = \"y\", [\"z\"] = \"Z\", [\"Z\"] = \"z\"})\n        else\n            res =\
    \ res .. c\n        end\n    end\n    return res\nend", "    local res = \"\"\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            if c:match(\"%l\") then\n                res = res .. c:upper()\n\
    \            else\n                res = res .. c:lower()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            if c:match(\"%l\") then\n \
    \               res = res .. c:upper()\n            else\n                res\
    \ = res .. c:lower()\n            end\n        else\n            res = res ..\
    \ c\n        end\n    end\n    return res\nend", "    local res = \"\"\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            if c:match(\"%l\") then\n                res = res .. c:upper()\n\
    \            else\n                res = res .. c:lower()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match(\"%a\") then\n            res[#res + 1] = c:lower() == c and\
    \ c:upper() or c:lower()\n        else\n            res[#res + 1] = c\n      \
    \  end\n    end\n    return #res > 0 and table.concat(res) or s:reverse()\nend",
  "    local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n       \
    \ if c:match(\"%a\") then\n            t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n\
    \    return #t == 0 and s:reverse() or table.concat(t)\nend", "    local res =\
    \ \"\"\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            res = res .. c:gsub(\"%a\", {[\"a\"] = \"A\", [\"A\"]\
    \ = \"a\", [\"b\"] = \"B\", [\"B\"] = \"b\", [\"c\"] = \"C\", [\"C\"] = \"c\"\
    , [\"d\"] = \"D\", [\"D\"] = \"d\", [\"e\"] = \"E\", [\"E\"] = \"e\", [\"f\"]\
    \ = \"F\", [\"F\"] = \"f\", [\"g\"] = \"G\", [\"G\"] = \"g\", [\"h\"] = \"H\"\
    , [\"H\"] = \"h\", [\"i\"] = \"I\", [\"I\"] = \"i\", [\"j\"] = \"J\", [\"J\"]\
    \ = \"j\", [\"k\"] = \"K\", [\"K\"] = \"k\", [\"l\"] = \"L\", [\"L\"] = \"l\"\
    , [\"m\"] = \"M\", [\"M\"] = \"m\", [\"n\"] = \"N\", [\"N\"] = \"n\", [\"o\"]\
    \ = \"O\", [\"O\"] = \"o\", [\"p\"] = \"P\", [\"P\"] = \"p\", [\"q\"] = \"Q\"\
    , [\"Q\"] = \"q\", [\"r\"] = \"R\", [\"R\"] = \"r\", [\"s\"] = \"S\", [\"S\"]\
    \ = \"s\", [\"t\"] = \"T\", [\"T\"] = \"t\", [\"u\"] = \"U\", [\"U\"] = \"u\"\
    , [\"v\"] = \"V\", [\"V\"] = \"v\", [\"w\"] = \"W\", [\"W\"] = \"w\", [\"x\"]\
    \ = \"X\", [\"X\"] = \"x\", [\"y\"] = \"Y\", [\"Y\"] = \"y\", [\"z\"] = \"Z\"\
    , [\"Z\"] = \"z\"})\n        else\n            res = res .. c\n        end\n \
    \   end\n    return res\nend", "    local res = {}\n    for i = 1, #s do\n   \
    \     local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res[#res\
    \ + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n           \
    \ res[#res + 1] = c\n        end\n    end\n    return #res > 0 and table.concat(res)\
    \ or s:reverse()\nend", "    local res = \"\"\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            if c:match(\"\
    %u\") then\n                res = res .. c:lower()\n            else\n       \
    \         res = res .. c:upper()\n            end\n        else\n            res\
    \ = res .. c\n        end\n    end\n    return res\nend", "    local res = ''\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            res = res .. c:gsub('%a', function(c)\n                if\
    \ c:match('%u') then\n                    return c:lower()\n                else\n\
    \                    return c:upper()\n                end\n            end)\n\
    \        else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "  local res = \"\"\n  for i = 1, #s do\n    local c = s:sub(i, i)\n   \
    \ if c:match(\"%a\") then\n      res = res .. c:gsub(\"%a\", function(c)\n   \
    \     return c:lower() == c and c:upper() or c:lower()\n      end)\n    else\n\
    \      res = res .. c\n    end\n  end\n  return res\nend", "    local res = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            if c:match(\"%l\") then\n                c = c:upper()\n \
    \           else\n                c = c:lower()\n            end\n        end\n\
    \        res[#res + 1] = c\n    end\n    return table.concat(res)\nend", "   \
    \ local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i, i)\n    \
    \    if c:match(\"%a\") then\n            if c:match(\"%l\") then\n          \
    \      res = res .. c:upper()\n            else\n                res = res ..\
    \ c:lower()\n            end\n        else\n            res = res .. c\n     \
    \   end\n    end\n    return res\nend", "    local res = {}\n    for i = 1, #s\
    \ do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n         \
    \   if c:match('%l') then\n                c = c:upper()\n            else\n \
    \               c = c:lower()\n            end\n        end\n        res[#res\
    \ + 1] = c\n    end\n    return table.concat(res)\nend", "    local res = ''\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            if c:match('%u') then\n                res = res .. c:lower()\n\
    \            else\n                res = res .. c:upper()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match(\"%a\") then\n            if c:match(\"%l\") then\n      \
    \          c = c:upper()\n            else\n                c = c:lower()\n  \
    \          end\n        end\n        res[#res + 1] = c\n    end\n    return table.concat(res)\n\
    end", "    local res = ''\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match('%a') then\n            if c:match('%u') then\n          \
    \      res = res .. c:lower()\n            else\n                res = res ..\
    \ c:upper()\n            end\n        else\n            res = res .. c\n     \
    \   end\n    end\n    return res\nend", "    local res = {}\n    for i = 1, #s\
    \ do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n       \
    \     res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n\
    \            res[#res + 1] = c\n        end\n    end\n    return #res > 0 and\
    \ table.concat(res) or s:reverse()\nend", "  local t = {}\n  for i = 1, #s do\n\
    \    local c = s:sub(i, i)\n    if c:match(\"%a\") then\n      t[#t + 1] = c:match(\"\
    %l\") and c:upper() or c:lower()\n    else\n      t[#t + 1] = c\n    end\n  end\n\
    \  return #t > 0 and table.concat(t) or s:reverse()\nend", "    local result =\
    \ {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            result[#result + 1] = c:lower() == c and c:upper() or\
    \ c:lower()\n        else\n            result[#result + 1] = c\n        end\n\
    \    end\n    return #result == 0 and s:reverse() or table.concat(result)\nend",
  "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i, i)\n   \
    \     if c:match(\"%a\") then\n            res = res .. c:gsub(\"%a\", function(c)\
    \ return c:lower() == c and c:upper() or c:lower() end)\n        else\n      \
    \      res = res .. c\n        end\n    end\n    return res\nend", "    local\
    \ t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            if c:match(\"%l\") then\n                c = c:upper()\n\
    \            else\n                c = c:lower()\n            end\n        end\n\
    \        t[#t + 1] = c\n    end\n    return table.concat(t)\nend", "    local\
    \ res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res > 0 and table.concat(res) or s:reverse()\nend", "    local res = \"\"\n\
    \    for i = 1, #s do\n        if s[i]:match(\"%a\") then\n            res = res\
    \ .. s[i]:gsub(\"%a\", function(c) return c:lower() == c and c:upper() or c:lower()\
    \ end)\n        else\n            res = res .. s[i]\n        end\n    end\n  \
    \  return res\nend", "  local t = {}\n  for i = 1, #s do\n    local c = s:sub(i,\
    \ i)\n    if c:match(\"%a\") then\n      t[#t + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n    else\n      t[#t + 1] = c\n    end\n  end\n  return #t > 0\
    \ and table.concat(t) or s:reverse()\nend", "    local res = ''\n    for i = 1,\
    \ #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n      \
    \      res = res .. c:gsub('%a', function(c)\n                return c:upper()\
    \ == c and c:lower() or c:upper()\n            end)\n        else\n          \
    \  res = res .. c\n        end\n    end\n    return res\nend", "    local t =\
    \ {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            t[#t + 1] = c\n        end\n    end\n    return #t\
    \ == 0 and s:reverse() or table.concat(t)\nend", "    local res = {}\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n\
    \            if c:match('%l') then\n                c = c:upper()\n          \
    \  else\n                c = c:lower()\n            end\n        end\n       \
    \ res[#res + 1] = c\n    end\n    return table.concat(res)\nend", "    local res\
    \ = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            if c:match(\"%u\") then\n                c = c:lower()\n\
    \            else\n                c = c:upper()\n            end\n        end\n\
    \        res[#res + 1] = c\n    end\n    return table.concat(res)\nend", "   \
    \ local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if\
    \ c:match(\"%a\") then\n            t[#t + 1] = c:lower() == c and c:upper() or\
    \ c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n \
    \   return #t > 0 and table.concat(t) or s:reverse()\nend", "    local res = \"\
    \"\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            res = res .. c:gsub(\"%a\", function(c)\n            \
    \    return c:lower() == c and c:upper() or c:lower()\n            end)\n    \
    \    else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n\
    \        if c:match(\"%a\") then\n            res[#res + 1] = c:lower() == c and\
    \ c:upper() or c:lower()\n        else\n            res[#res + 1] = c\n      \
    \  end\n    end\n    return #res == 0 and s:reverse() or table.concat(res)\nend",
  "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n     \
    \   if c:match(\"%a\") then\n            res[#res + 1] = c:lower() == c and c:upper()\
    \ or c:lower()\n        else\n            res[#res + 1] = c\n        end\n   \
    \ end\n    return #res == 0 and s:reverse() or table.concat(res)\nend", "    local\
    \ res = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"\
    %a\") then\n            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res == 0 and s:reverse() or table.concat(res)\nend", "    local res = \"\"\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\"\
    ) then\n            if c:match(\"%l\") then\n                res = res .. c:upper()\n\
    \            else\n                res = res .. c:lower()\n            end\n \
    \       else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local res = {}\n    local len = #s\n    for i = 1, len do\n       \
    \ local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            if c:match(\"\
    %l\") then\n                c = c:upper()\n            else\n                c\
    \ = c:lower()\n            end\n        end\n        res[i] = c\n    end\n   \
    \ return table.concat(res)\nend", "    local res = {}\n    for i = 1, #s do\n\
    \        local c = s:sub(i, i)\n        if c:match('%a') then\n            res[#res\
    \ + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n           \
    \ res[#res + 1] = c\n        end\n    end\n    return #res > 0 and table.concat(res)\
    \ or s:reverse()\nend", "    local res = \"\"\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res = res .. c:gsub(\"\
    %a\", function(c) return c:upper() == c and c:lower() or c:upper() end)\n    \
    \    else\n            res = res .. c\n        end\n    end\n    return res\n\
    end", "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            if c:match(\"%u\") then\n \
    \               res = res .. c:lower()\n            else\n                res\
    \ = res .. c:upper()\n            end\n        else\n            res = res ..\
    \ c\n        end\n    end\n    return res\nend", "    local res = \"\"\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            res = res .. c:lower() == c and c:upper() or c:lower()\n        else\n\
    \            res = res .. c\n        end\n    end\n    return res\nend", "   \
    \ local t = {}\n    for i = 1, #s do\n        local c = s:sub(i, i)\n        if\
    \ c:match(\"%a\") then\n            t[#t + 1] = c:lower() == c and c:upper() or\
    \ c:lower()\n        else\n            t[#t + 1] = c\n        end\n    end\n \
    \   return #t > 0 and table.concat(t) or s:reverse()\nend", "    local res = {}\n\
    \    for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a')\
    \ then\n            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    return\
    \ #res > 0 and table.concat(res) or s:reverse()\nend", "    local t = {}\n   \
    \ for i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\")\
    \ then\n            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n  \
    \      else\n            t[#t + 1] = c\n        end\n    end\n    return #t ==\
    \ 0 and s:reverse() or table.concat(t)\nend", "    local res = {}\n    for i =\
    \ 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n \
    \           res[#res + 1] = c:match(\"%l\") and c:upper() or c:lower()\n     \
    \   else\n            res[#res + 1] = c\n        end\n    end\n    return #res\
    \ > 0 and table.concat(res) or s:reverse()\nend", "    local res = {}\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            if c:match(\"%l\") then\n                res[#res + 1] = c:upper()\n\
    \            else\n                res[#res + 1] = c:lower()\n            end\n\
    \        else\n            res[#res + 1] = c\n        end\n    end\n    if #res\
    \ == 0 then\n        return s:reverse()\n    end\n    return table.concat(res)\n\
    end", "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            if c:match(\"%u\") then\n \
    \               res = res .. c:lower()\n            else\n                res\
    \ = res .. c:upper()\n            end\n        else\n            res = res ..\
    \ c\n        end\n    end\n    return res\nend", "    local t = {}\n    for i\
    \ = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            t[#t + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n\
    \            t[#t + 1] = c\n        end\n    end\n    return #t > 0 and table.concat(t)\
    \ or s:reverse()\nend", "    local res = ''\n    for i = 1, #s do\n        local\
    \ c = s:sub(i, i)\n        if c:match('%a') then\n            res = res .. c:gsub('%a',\
    \ function(c) return c:upper() == c and c:lower() or c:upper() end)\n        else\n\
    \            res = res .. c\n        end\n    end\n    return #res == 0 and s:reverse()\
    \ or res\nend", "    local res = {}\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            res[#res + 1] = c:lower() ==\
    \ c and c:upper() or c:lower()\n        else\n            res[#res + 1] = c\n\
    \        end\n    end\n    return #res > 0 and table.concat(res) or s:reverse()\n\
    end", "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            if c:match(\"%u\") then\n \
    \               res = res .. c:lower()\n            else\n                res\
    \ = res .. c:upper()\n            end\n        else\n            res = res ..\
    \ c\n        end\n    end\n    return res\nend", "    local res = {}\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match('%a') then\n\
    \            res[#res + 1] = c:match('%u') and c:lower() or c:upper()\n      \
    \  else\n            res[#res + 1] = c\n        end\n    end\n    return #res\
    \ > 0 and table.concat(res) or s:reverse()\nend", "    local res = {}\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n     \
    \   else\n            res[#res + 1] = c\n        end\n    end\n    return #res\
    \ == 0 and s:reverse() or table.concat(res)\nend", "    local res = {}\n    for\
    \ i = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            res[#res + 1] = c:lower() == c and c:upper() or c:lower()\n     \
    \   else\n            res[#res + 1] = c\n        end\n    end\n    return #res\
    \ > 0 and table.concat(res) or s:reverse()\nend", "    local t = {}\n    for i\
    \ = 1, #s do\n        local c = s:sub(i, i)\n        if c:match(\"%a\") then\n\
    \            c = c:lower() == c and c:upper() or c:lower()\n        end\n    \
    \    t[#t + 1] = c\n    end\n    return #t > 0 and table.concat(t) or s:reverse()\n\
    end", "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            if c:match(\"%l\") then\n \
    \               res = res .. c:upper()\n            else\n                res\
    \ = res .. c:lower()\n            end\n        else\n            res = res ..\
    \ c\n        end\n    end\n    return res\nend", "  local res = {}\n  for i =\
    \ 1, #s do\n    local c = s:sub(i, i)\n    if c:match('%a') then\n      res[#res\
    \ + 1] = c:lower() == c and c:upper() or c:lower()\n    else\n      res[#res +\
    \ 1] = c\n    end\n  end\n  return #res > 0 and table.concat(res) or s:reverse()\n\
    end", "    local res = \"\"\n    for i = 1, #s do\n        local c = s:sub(i,\
    \ i)\n        if c:match(\"%a\") then\n            res = res .. c:gsub(\"%a\"\
    , function(c)\n                return c:lower() == c and c:upper() or c:lower()\n\
    \            end)\n        else\n            res = res .. c\n        end\n   \
    \ end\n    return res\nend", "    local res = {}\n    for i = 1, #s do\n     \
    \   local c = s:sub(i, i)\n        if c:match(\"%a\") then\n            res[#res\
    \ + 1] = c:lower() == c and c:upper() or c:lower()\n        else\n           \
    \ res[#res + 1] = c\n        end\n    end\n    return #res > 0 and table.concat(res)\
    \ or s:reverse()\nend"]
stop_tokens:
- "\nlocal"
- "\nfunction"
- "\n--"
- "\n\n"
