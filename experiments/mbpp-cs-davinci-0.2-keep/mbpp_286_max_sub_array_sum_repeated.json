{
  "name": "mbpp_286_max_sub_array_sum_repeated",
  "language": "cs",
  "prompt": "using System;\nusing System.Numerics;\nusing System.Diagnostics;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Security.Cryptography;\nclass Problem {\n    // Write a function to find the largest sum of a contiguous array in the modified array which is formed by repeating the given array k times.\n    public static long MaxSubArraySumRepeated(List<long> a, long n, long k) {\n",
  "doctests": "keep",
  "original": "/home/arjun/repos/MultiPL-E/datasets/../datasets/mbpp-typed/mbpp_286_max_sub_array_sum_repeated.py",
  "prompt_terminology": "verbatim",
  "tests": "    }\n    public static void Main(string[] args) {\n    Debug.Assert(MaxSubArraySumRepeated((new List<long>(new long[]{(long)10L, (long)20L, (long)-30L, (long)-1L})), (4L), (3L)) == (30L));\n    Debug.Assert(MaxSubArraySumRepeated((new List<long>(new long[]{(long)-1L, (long)10L, (long)20L})), (3L), (2L)) == (59L));\n    Debug.Assert(MaxSubArraySumRepeated((new List<long>(new long[]{(long)-1L, (long)-2L, (long)-3L})), (3L), (3L)) == (-1L));\n    }\n\n}\n",
  "stop_tokens": [
    "\n    }\n"
  ],
  "completions": [
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum = Math.Max(a[(int)i], curr_sum + a[(int)i]);\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long total_sum = 0;\n        for (long i = 0; i < n; i++) {\n            max_prefix_sum = Math.Max(max_prefix_sum, total_sum);\n            total_sum += a[(int)i];\n        }\n        total_sum = 0;\n        for (long i = n - 1; i >= 0; i--) {\n            max_suffix_sum = Math.Max(max_suffix_sum, total_sum);\n            total_sum += a[(int)i];\n        }\n        long ans = Math.Max(max_sum, max_prefix_sum + max_suffix_sum + (k - 2) * total_sum);\n        return ans;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = 0;\n        long min_element = 0;\n        long min_ending_here = 0;\n        long min_so_far = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            max_ending_here = Math.Max(a[i], max_ending_here + a[i]);\n            max_so_far = Math.Max(max_so_far, max_ending_here);\n            min_ending_here = Math.Min(a[i], min_ending_here + a[i]);\n            min_so_far = Math.Min(min_so_far, min_ending_here);\n            max_element = Math.Max(max_element, a[i]);\n            min_element = Math.Min(min_element, a[i]);\n        }\n        if (k == 1) {\n            return max_so_far;\n        }\n        if (sum > 0) {\n            max_sum = max_so_far + (k - 2) * sum;\n        } else {\n            max_sum = max_so_far;\n        }\n        max_sum = Math.Max(max_sum, max_element + min_so_far + (k - 2) * sum);\n        max_sum = Math.Max(max_sum, max_so_far + min_element + (k - 2) * sum);\n        return max_sum;",
    "        long max_sum = long.MinValue;\n        long curr_sum = 0;\n        for (long i = 0; i < n * k; i++) {\n            curr_sum += a[i % n];\n            max_sum = Math.Max(max_sum, curr_sum);\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        long curr_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            curr_wrap += a[(int)i];\n            if (curr_wrap < 0) {\n                curr_wrap = 0;\n            }\n            max_wrap = Math.Max(max_wrap, curr_wrap);\n        }\n        max_wrap = Math.Max(max_wrap, 0);\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = long.MinValue;\n        for (long i = 0; i < n; i++) {\n            max_element = Math.Max(max_element, a[(int)i]);\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n        }\n        if (max_so_far == 0)\n            return max_element;\n        long sum = 0;\n        for (long i = 0; i < n; i++)\n            sum += a[(int)i];\n        max_sum = max_so_far;\n        max_sum = Math.Max(max_sum, sum * (k - 2) + max_so_far);\n        return max_sum;",
    "        // Complete this function\n        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        long curr_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            curr_wrap += a[i];\n            if (curr_wrap > max_wrap) {\n                max_wrap = curr_wrap;\n            }\n            if (curr_wrap < 0) {\n                curr_wrap = 0;\n            }\n        }\n        max_wrap = max_wrap + max_wrap;\n        if (k == 1) {\n            return max_sum;\n        }\n        if (max_wrap > max_sum) {\n            return max_wrap;\n        }\n        return max_sum;",
    "        // Complete this function\n        long max_so_far = long.MinValue, max_ending_here = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        max_wrap = max_wrap + MaxSubArraySumRepeated(a, n, 1);\n        return Math.Max(max_so_far, max_wrap);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_elem = a.Max();\n        if (max_elem < 0) {\n            return max_elem;\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        long curr_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            curr_wrap += a[i];\n            if (curr_wrap < 0) {\n                curr_wrap = 0;\n            }\n            max_wrap = Math.Max(max_wrap, curr_wrap);\n        }\n        max_wrap = Math.Max(max_wrap, 0);\n        return Math.Max(max_sum, (max_wrap * (k - 2)) + max_sum);",
    "        long max_sum = long.MinValue;\n        long curr_sum = 0;\n        long i;\n        for (i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        long max_wrap = 0;\n        for (i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum > max_wrap) {\n                max_wrap = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        return Math.Max(max_sum, max_wrap + (k - 2) * max_wrap);",
    "        // Complete this function\n        long max_so_far = long.MinValue, max_ending_here = 0;\n        for (long i = 0; i < n * k; i++) {\n            max_ending_here = max_ending_here + a[i % n];\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        return max_so_far;",
    "        // Complete this function\n        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long min_sum = 0;\n        long min_ending_here = 0;\n        long min_so_far = 0;\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            min_ending_here = min_ending_here + a[(int)i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (min_ending_here > 0) {\n                min_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n            if (min_so_far > min_ending_here) {\n                min_so_far = min_ending_here;\n            }\n        }\n        max_sum = max_so_far;\n        min_sum = min_so_far;\n        if (k == 1) {\n            return max_sum;\n        }\n        long total_sum = 0;\n        for (long i = 0; i < n; i++) {\n            total_sum += a[(int)i];\n        }\n        if (total_sum > 0) {\n            max_sum = max_sum + (k - 2) * total_sum;\n        }\n        else {\n            max_sum = max_sum + (k - 1) * total_sum;\n        }\n        if (total_sum < 0) {\n            min_sum = min_sum + (k - 2) * total_sum;\n        }\n        else {\n            min_sum = min_sum + (k - 1) * total_sum;\n        }\n        return Math.Max(max_sum, min_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        long curr_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            curr_wrap += a[i];\n            if (curr_wrap < 0) {\n                curr_wrap = 0;\n            }\n            max_wrap = Math.Max(max_wrap, curr_wrap);\n        }\n        max_wrap = Math.Max(max_wrap, 0);\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = 0;\n        long current_sum = 0;\n        for (long i = 0; i < n * k; i++) {\n            current_sum += a[i % n];\n            max_sum = Math.Max(max_sum, current_sum);\n            if (current_sum < 0) {\n                current_sum = 0;\n            }\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = 0;\n        long min_element = 0;\n        long min_ending_here = 0;\n        long min_so_far = 0;\n        long sum = 0;\n        for (long i = 0; i < n; i++) {\n            sum += a[(int)i];\n            max_element = Math.Max(max_element, a[(int)i]);\n            min_element = Math.Min(min_element, a[(int)i]);\n            max_ending_here = Math.Max(a[(int)i], max_ending_here + a[(int)i]);\n            max_so_far = Math.Max(max_so_far, max_ending_here);\n            min_ending_here = Math.Min(a[(int)i], min_ending_here + a[(int)i]);\n            min_so_far = Math.Min(min_so_far, min_ending_here);\n        }\n        if (k == 1) {\n            return max_so_far;\n        }\n        if (max_element <= 0) {\n            return max_element * k;\n        }\n        if (min_element >= 0) {\n            return sum * k;\n        }\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long min_prefix_sum = 0;\n        long min_suffix_sum = 0;\n        long temp_max = 0;\n        long temp_min = 0;\n        for (long i = 0; i < n; i++) {\n            temp_max += a[(int)i];\n            max_prefix_sum = Math.Max(max_prefix_sum, temp_max);\n            temp_min += a[(int)i];\n            min_prefix_sum = Math.Min(min_prefix_sum, temp_min);\n        }\n        temp_max = 0;\n        temp_min = 0;\n        for (long i = n - 1; i >= 0; i",
    "        long sum = 0;\n        long maxSum = 0;\n        long maxSumSoFar = 0;\n        long maxElement = a.Max();\n        if (maxElement < 0) {\n            return maxElement;\n        }\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            if (sum < 0) {\n                sum = 0;\n            }\n            maxSumSoFar = Math.Max(maxSumSoFar, sum);\n        }\n        if (k == 1) {\n            return maxSumSoFar;\n        }\n        long sumOfArray = 0;\n        for (int i = 0; i < n; i++) {\n            sumOfArray += a[i];\n        }\n        maxSum = Math.Max(maxSumSoFar, sumOfArray * (k - 2) + maxSumSoFar);\n        return maxSum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        if (k == 1) {\n            for (int i = 0; i < n; i++) {\n                max_ending_here = max_ending_here + a[i];\n                if (max_ending_here < 0) {\n                    max_ending_here = 0;\n                }\n                if (max_so_far < max_ending_here) {\n                    max_so_far = max_ending_here;\n                }\n            }\n            return max_so_far;\n        }\n        if (sum > 0) {\n            max_sum = sum * k;\n        }\n        else {\n            max_sum = max_element;\n        }\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        long min_sum = 0;\n        long min_ending_here = 0;\n        long min_so_far = 0;\n        for (int i = 0; i < n; i++) {\n            min_ending_here = min_ending_here + a[i];\n            if (min_ending_here > 0) {\n                min_ending_here = 0;\n            }\n            if (min_so_far > min_ending_here) {\n                min_so_far = min_ending_here;\n            }\n        }\n        min_sum = min_so_far * k;\n        long result = max_so_far + (k - 2) * sum + min_sum;\n        return Math.Max(max_sum, result);",
    "        // Find the maximum sum subarray in first window of size n\n        long maxSum = 0;\n        long windowSum = 0;\n        for (long i = 0; i < n; i++) {\n            windowSum += a[(int)i];\n        }\n        maxSum = windowSum;\n\n        // Move the window by one element.\n        for (long i = n; i < n * 2; i++) {\n            windowSum = windowSum + a[(int)i] - a[(int)(i - n)];\n            maxSum = Math.Max(maxSum, windowSum);\n        }\n\n        // maxSum is the maximum sum of subarray in arr[0..n-1],\n        //  set initial value of result as 'maxSum' for cases when k is 1.\n        long result = maxSum;\n\n        // Use the concept of sliding window\n        for (long i = 1; i < k; i++) {\n            // Compute sum of next n elements\n            long currentSum = 0;\n            for (long j = 0; j < n; j++) {\n                currentSum += a[(int)(i * n + j)];\n            }\n\n            // Update result if required\n            if (currentSum > maxSum) {\n                result = result + currentSum - maxSum;\n                maxSum = currentSum;\n            }\n            else {\n                result = result + maxSum - currentSum;\n            }\n        }\n\n        return result;",
    "        long max_so_far = long.MinValue;\n        long max_ending_here = 0;\n        long max_element = long.MinValue;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            max_element = Math.Max(max_element, a[i]);\n            sum += a[i];\n            max_ending_here = max_ending_here + a[i];\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        if (max_so_far < 0)\n            return max_so_far;\n        long max_wrap = sum * k - (sum - max_so_far);\n        return Math.Max(max_wrap, max_so_far);",
    "        // Complete this function\n        long max_so_far = long.MinValue, max_ending_here = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        max_wrap = max_wrap + MaxSubArraySumRepeated(a, n, 1);\n        return Math.Max(max_so_far, max_wrap);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long total_sum = 0;\n        for (int i = 0; i < n; i++) {\n            max_prefix_sum += a[i];\n            max_prefix_sum = Math.Max(max_prefix_sum, 0);\n        }\n        for (int i = n - 1; i >= 0; i--) {\n            max_suffix_sum += a[i];\n            max_suffix_sum = Math.Max(max_suffix_sum, 0);\n        }\n        for (int i = 0; i < n; i++) {\n            total_sum += a[i];\n        }\n        long ans = Math.Max(max_sum, max_prefix_sum + max_suffix_sum + (k - 2) * total_sum);\n        return ans;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        if (max_element < 0)\n            return max_element;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n        }\n        max_sum = max_so_far * k;\n        if (k > 2) {\n            long sum = 0;\n            for (int i = 0; i < n; i++)\n                sum += a[i];\n            max_sum = Math.Max(max_sum, sum);\n        }\n        return max_sum;",
    "        // Complete this function\n        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long mod = 1000000007;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = (max_ending_here + a[i]) % mod;\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum = (sum + a[i]) % mod;\n        }\n        max_sum = Math.Max(max_so_far, max_so_far + (k - 2) * sum);\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_elem = a.Max();\n        long max_elem_index = a.IndexOf(max_elem);\n        long max_elem_sum = max_elem * k;\n        if (max_elem_sum > 0) {\n            max_sum = max_elem_sum;\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (max_sum == 0) {\n            max_sum = max_elem;\n        }\n        long curr_prefix_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_prefix_sum += a[i];\n            max_sum = Math.Max(max_sum, curr_prefix_sum);\n            if (curr_prefix_sum < 0) {\n                curr_prefix_sum = 0;\n            }\n        }\n        long curr_suffix_sum = 0;\n        for (int i = n - 1; i >= 0; i--) {\n            curr_suffix_sum += a[i];\n            max_sum = Math.Max(max_sum, curr_suffix_sum);\n            if (curr_suffix_sum < 0) {\n                curr_suffix_sum = 0;\n            }\n        }\n        long total_sum = 0;\n        for (int i = 0; i < n; i++) {\n            total_sum += a[i];\n        }\n        long total_sum_k = total_sum * k;\n        max_sum = Math.Max(max_sum, total_sum_k);\n        if (total_sum > 0) {\n            max_sum = Math.Max(max_sum, total_sum_k - total_sum);\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        long curr_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            curr_wrap += a[(int)i];\n            if (curr_wrap < 0) {\n                curr_wrap = 0;\n            }\n            max_wrap = Math.Max(max_wrap, curr_wrap);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        return Math.Max(max_sum, max_wrap + (k - 2) * max_wrap);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_elem = a.Max();\n        long max_elem_idx = a.IndexOf(max_elem);\n        long max_elem_sum = max_elem * k;\n        long max_elem_sum_idx = max_elem_idx;\n        long max_elem_sum_idx_end = max_elem_idx + n;\n        long max_elem_sum_idx_start = max_elem_idx - n;\n        if (max_elem_sum_idx_start < 0) {\n            max_elem_sum_idx_start = 0;\n        }\n        if (max_elem_sum_idx_end > n * k) {\n            max_elem_sum_idx_end = n * k;\n        }\n        for (long i = max_elem_sum_idx_start; i < max_elem_sum_idx_end; i++) {\n            curr_sum += a[(int)(i % n)];\n            if (curr_sum > max_elem_sum) {\n                max_elem_sum = curr_sum;\n                max_elem_sum_idx = i;\n            }\n        }\n        max_elem_sum_idx_end = max_elem_sum_idx + n;\n        max_elem_sum_idx_start = max_elem_sum_idx - n;\n        if (max_elem_sum_idx_start < 0) {\n            max_elem_sum_idx_start = 0;\n        }\n        if (max_elem_sum_idx_end > n * k) {\n            max_elem_sum_idx_end = n * k;\n        }\n        for (long i = max_elem_sum_idx_start; i < max_elem_sum_idx_end; i++) {\n            curr_sum += a[(int)(i % n)];\n            if",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            max_sum += a[i] * k;\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            max_sum = Math.Max(max_sum, curr_sum + (sum - curr_sum) * (k - 1));\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_sum_so_far = 0;\n        long max_sum_ending_here = 0;\n        long max_element = a[0];\n        long min_element = a[0];\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            max_element = Math.Max(max_element, a[i]);\n            min_element = Math.Min(min_element, a[i]);\n            sum += a[i];\n            max_sum_ending_here = Math.Max(a[i], max_sum_ending_here + a[i]);\n            max_sum_so_far = Math.Max(max_sum_so_far, max_sum_ending_here);\n        }\n        if (max_element <= 0) {\n            return max_element;\n        }\n        if (min_element >= 0) {\n            return sum * k;\n        }\n        max_sum = max_sum_so_far;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            max_sum_so_far = Math.Max(max_sum_so_far, curr_sum);\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        max_sum = Math.Max(max_sum, (curr_sum * (k - 2)) + max_sum_so_far);\n        return max_sum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        if (sum > 0) {\n            max_sum = sum * k;\n        } else {\n            max_sum = max_element;\n        }\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        if (max_so_far > 0) {\n            max_sum = Math.Max(max_sum, max_so_far * (k - 2) + sum);\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_so_far = 0;\n        long max_ending_here = 0;\n        long start = 0;\n        long end = 0;\n        long s = 0;\n        long i = 0;\n        long j = 0;\n        long max_sum_kadane = 0;\n        long max_sum_kadane_index = 0;\n        long max_sum_kadane_index_start = 0;\n        long max_sum_kadane_index_end = 0;\n        long max_sum_kadane_index_start_temp = 0;\n        long max_sum_kadane_index_end_temp = 0;\n        long max_sum_kadane_index_start_temp2 = 0;\n        long max_sum_kadane_index_end_temp2 = 0;\n        long max_sum_kadane_index_start_temp3 = 0;\n        long max_sum_kadane_index_end_temp3 = 0;\n        long max_sum_kadane_index_start_temp4 = 0;\n        long max_sum_kadane_index_end_temp4 = 0;\n        long max_sum_kadane_index_start_temp5 = 0;\n        long max_sum_kadane_index_end_temp5 = 0;\n        long max_sum_kadane_index_start_temp6 = 0;\n        long max_sum_kadane_index_end_temp6 = 0;\n        long max_sum_kadane_index_start_temp7 = 0;\n        long max_sum_kadane_index_end_temp7 = 0;\n        long max_sum_kadane_index_start_temp8 = 0;\n        long max_sum_kadane_index_end_temp8 = 0;\n        long max_sum_kadane_index_start_temp9 = 0;\n        long max_sum_kadane_index_end_temp9 = 0;\n        long max_sum_kadane_index_start_temp",
    "        // Complete this function\n        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        max_sum = max_so_far * k;\n        long curr_val = 0;\n        for (long i = 0; i < n; i++) {\n            curr_val = curr_val + a[(int)i];\n        }\n        if (curr_val > 0) {\n            max_sum = max_sum + (curr_val * (k - 2));\n        }\n        for (long i = 0; i < n; i++) {\n            curr_val = 0;\n            for (long j = i; j < n; j++) {\n                curr_val = curr_val + a[(int)j];\n                max_sum = Math.Max(max_sum, curr_val);\n            }\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        if (k == 1) {\n            return max_so_far;\n        }\n        if (sum > 0) {\n            max_sum = sum * k;\n        }\n        else {\n            max_sum = max_element;\n        }\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            max_ending_here += a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        max_wrap = max_wrap * (k - 2);\n        if (max_wrap + max_so_far > max_sum) {\n            max_sum = max_wrap + max_so_far;\n        }\n        return max_sum;",
    "        long max_so_far = long.MinValue;\n        long max_ending_here = 0;\n        long start = 0;\n        long end = 0;\n        long s = 0;\n        for (long i = 0; i < n * k; i++) {\n            max_ending_here += a[i % n];\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n                start = s;\n                end = i;\n            }\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n                s = i + 1;\n            }\n        }\n        return max_so_far;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_elem = a.Max();\n        long max_elem_sum = max_elem * k;\n        if (max_elem_sum <= 0) {\n            return max_elem_sum;\n        }\n        for (long i = 0; i < n * k; i++) {\n            curr_sum += a[i % n];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum = Math.Max(a[i], curr_sum + a[i]);\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long total_sum = 0;\n        for (int i = 0; i < n; i++) {\n            max_prefix_sum = Math.Max(max_prefix_sum, total_sum);\n            total_sum += a[i];\n        }\n        total_sum = 0;\n        for (int i = n - 1; i >= 0; i--) {\n            max_suffix_sum = Math.Max(max_suffix_sum, total_sum);\n            total_sum += a[i];\n        }\n        long ans1 = max_sum;\n        long ans2 = max_prefix_sum + max_suffix_sum + (k - 2) * total_sum;\n        long ans3 = max_suffix_sum + max_prefix_sum + (k - 2) * total_sum;\n        return Math.Max(ans1, Math.Max(ans2, ans3));",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = long.MinValue;\n        long curr_sum = 0;\n        for (int i = 0; i < n * k; i++) {\n            curr_sum += a[i % n];\n            max_sum = Math.Max(max_sum, curr_sum);\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        if (k == 1) {\n            return MaxSubArraySum(a, n);\n        }\n        if (sum <= 0) {\n            return max_element;\n        }\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        max_sum = max_so_far * (k - 2);\n        max_sum = max_sum + sum;\n        return max_sum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long start = 0;\n        long end = 0;\n        long s = 0;\n        long i = 0;\n        long j = 0;\n        long sum = 0;\n        for (i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        max_so_far = sum;\n        for (i = 0; i < n; i++) {\n            max_ending_here += a[i];\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n                start = s;\n                end = i;\n            }\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n                s = i + 1;\n            }\n        }\n        long min_sum = 0;\n        long min_ending_here = 0;\n        long min_so_far = 0;\n        long t = 0;\n        for (i = 0; i < n; i++) {\n            min_ending_here += a[i];\n            if (min_so_far > min_ending_here) {\n                min_so_far = min_ending_here;\n                t = i + 1;\n            }\n            if (min_ending_here > 0) {\n                min_ending_here = 0;\n            }\n        }\n        long circular_sum = 0;\n        for (i = 0; i < n; i++) {\n            circular_sum += a[i];\n        }\n        circular_sum = circular_sum - min_so_far;\n        max_sum = max_so_far;\n        if (start <= t && t <= end) {\n            max_sum = Math.Max(max_sum, circular_sum);\n        }\n        for (i = 2; i <= k; i++) {\n            max_so_far = Math.Max(max_so_far, circular_sum);\n            max_sum = Math.Max(max_sum, max_so_far);\n",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        long sum = a.Sum();\n        if (k == 1) {\n            return max_sum = MaxSubArraySum(a, n);\n        }\n        else if (k == 2) {\n            max_sum = MaxSubArraySum(a, n);\n            for (int i = 0; i < n; i++) {\n                max_ending_here = max_ending_here + a[i];\n                if (max_ending_here < 0) {\n                    max_ending_here = 0;\n                }\n                if (max_so_far < max_ending_here) {\n                    max_so_far = max_ending_here;\n                }\n            }\n            return Math.Max(max_sum, max_so_far + sum);\n        }\n        else {\n            max_sum = MaxSubArraySum(a, n);\n            return Math.Max(max_sum, (sum * (k - 2)) + max_element);\n        }",
    "        long max_so_far = long.MinValue;\n        long max_ending_here = 0;\n        long max_sum = 0;\n        long start = 0;\n        long end = 0;\n        long s = 0;\n        for (long i = 0; i < n * k; i++) {\n            max_ending_here = max_ending_here + a[i % n];\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n                start = s;\n                end = i;\n            }\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n                s = i + 1;\n            }\n        }\n        for (long i = start; i <= end; i++) {\n            max_sum += a[i % n];\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_sum_so_far = 0;\n        long max_sum_ending_here = 0;\n        long curr_sum_so_far = 0;\n        long curr_sum_ending_here = 0;\n        long max_element = 0;\n        long min_element = 0;\n        long min_sum = 0;\n        long curr_min_sum = 0;\n        long curr_max_sum = 0;\n        long total_sum = 0;\n        for (long i = 0; i < n; i++) {\n            total_sum += a[(int)i];\n            if (a[(int)i] > max_element) {\n                max_element = a[(int)i];\n            }\n            if (a[(int)i] < min_element) {\n                min_element = a[(int)i];\n            }\n        }\n        if (k == 1) {\n            return MaxSubArraySum(a, n);\n        }\n        if (total_sum > 0) {\n            max_sum = total_sum * k;\n        }\n        else if (total_sum == 0) {\n            max_sum = max_element;\n        }\n        else {\n            max_sum = max_element;\n            min_sum = min_element;\n            for (long i = 0; i < n; i++) {\n                curr_sum_ending_here += a[(int)i];\n                if (curr_sum_ending_here > curr_max_sum) {\n                    curr_max_sum = curr_sum_ending_here;\n                }\n                if (curr_sum_ending_here < 0) {\n                    curr_sum_ending_here = 0;\n                }\n            }\n            for (long i = 0; i < n; i++) {\n                curr_sum_ending_here += a[(int)i];\n                if (curr_sum_ending_here < curr_min_sum) {\n                    curr_min_sum = curr_sum_ending_",
    "        long max_so_far = long.MinValue;\n        long max_ending_here = 0;\n        long max_element = long.MinValue;\n        long sum = 0;\n        for (long i = 0; i < n; i++) {\n            sum += a[(int)i];\n            max_element = Math.Max(max_element, a[(int)i]);\n        }\n        if (max_element < 0) {\n            return max_element * k;\n        }\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            max_ending_here += a[(int)i];\n            if (max_ending_here > max_wrap) {\n                max_wrap = max_ending_here;\n            }\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n        }\n        if (k == 1) {\n            return max_so_far;\n        }\n        return Math.Max(max_so_far, max_wrap + (k - 2) * sum);",
    "        long max_sum = 0;\n        long current_sum = 0;\n        long i;\n        for (i = 0; i < n; i++) {\n            current_sum += a[(int)i];\n            if (max_sum < current_sum) {\n                max_sum = current_sum;\n            }\n            if (current_sum < 0) {\n                current_sum = 0;\n            }\n        }\n        long max_wrap = 0;\n        for (i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            current_sum += a[(int)i];\n            if (current_sum > max_sum) {\n                max_sum = current_sum;\n            }\n            current_sum = current_sum - max_wrap;\n            if (current_sum < 0) {\n                current_sum = 0;\n            }\n        }\n        return max_sum * k;",
    "        long max_sum = long.MinValue;\n        long curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            max_sum = Math.Max(max_sum, curr_sum);\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long total_sum = 0;\n        for (long i = 0; i < n; i++) {\n            max_prefix_sum += a[(int)i];\n            max_prefix_sum = Math.Max(max_prefix_sum, 0);\n        }\n        for (long i = n - 1; i >= 0; i--) {\n            max_suffix_sum += a[(int)i];\n            max_suffix_sum = Math.Max(max_suffix_sum, 0);\n        }\n        for (long i = 0; i < n; i++) {\n            total_sum += a[(int)i];\n        }\n        long ans = Math.Max(max_sum, max_prefix_sum + max_suffix_sum + (k - 2) * total_sum);\n        return ans;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        long curr_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            curr_wrap += a[(int)i];\n            if (curr_wrap < 0) {\n                curr_wrap = 0;\n            }\n            max_wrap = Math.Max(max_wrap, curr_wrap);\n        }\n        max_wrap = Math.Max(max_wrap, 0);\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = 0;\n        long min_element = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here += a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n            sum += a[i];\n            if (a[i] > max_element) {\n                max_element = a[i];\n            }\n            if (a[i] < min_element) {\n                min_element = a[i];\n            }\n        }\n        if (k == 1) {\n            return max_so_far;\n        }\n        if (sum > 0) {\n            max_sum = max_so_far + (k - 2) * sum;\n        }\n        else {\n            max_sum = max_so_far;\n        }\n        if (max_element < 0) {\n            max_sum = max_element;\n        }\n        if (min_element > 0) {\n            max_sum += (k - 2) * min_element;\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        if (max_wrap > 0) {\n            return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);\n        }\n        return Math.Max(max_sum, max_wrap);",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        long sum = a.Sum();\n        if (k == 1) {\n            return max_element;\n        }\n        if (max_element <= 0) {\n            return max_element;\n        }\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        if (k == 2) {\n            return max_so_far + sum;\n        }\n        max_sum = max_so_far + sum * (k - 2);\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_sum < max_ending_here) {\n                max_sum = max_ending_here;\n            }\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long min_so_far = 0;\n        long min_ending_here = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here += a[i];\n            min_ending_here += a[i];\n            max_so_far = Math.Max(max_so_far, max_ending_here);\n            min_so_far = Math.Min(min_so_far, min_ending_here);\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (min_ending_here > 0) {\n                min_ending_here = 0;\n            }\n            sum += a[i];\n        }\n        if (k == 1) {\n            return max_so_far;\n        }\n        max_sum = max_so_far;\n        long min_sum = min_so_far;\n        long max_prefix = 0;\n        long min_prefix = 0;\n        long max_suffix = 0;\n        long min_suffix = 0;\n        for (int i = 0; i < n; i++) {\n            max_prefix += a[i];\n            min_prefix += a[i];\n            max_suffix += a[n - i - 1];\n            min_suffix += a[n - i - 1];\n            max_so_far = Math.Max(max_so_far, max_prefix);\n            min_so_far = Math.Min(min_so_far, min_prefix);\n            max_so_far = Math.Max(max_so_far, max_suffix);\n            min_so_far = Math.Min(min_so_far, min_suffix);\n            if (max_prefix < 0) {\n                max_prefix = 0;\n            }\n            if (min_prefix > 0) {\n                min_prefix = 0;\n            }\n            if (max_suffix < 0) {\n                max_suff",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_sum_so_far = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            if (max_sum_so_far < curr_sum) {\n                max_sum_so_far = curr_sum;\n            }\n        }\n        if (k == 1) {\n            return max_sum_so_far;\n        }\n        if (sum > 0) {\n            max_sum = max_sum_so_far + sum * (k - 2);\n        }\n        else {\n            max_sum = max_sum_so_far;\n        }\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        long curr_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            curr_wrap += a[(int)i];\n            if (curr_wrap < 0) {\n                curr_wrap = 0;\n            }\n            max_wrap = Math.Max(max_wrap, curr_wrap);\n        }\n        max_wrap = Math.Max(max_wrap, 0);\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long sum = 0;\n        for (long i = 0; i < n; i++) {\n            sum += a[(int)i];\n        }\n        max_sum = sum;\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        if (k == 1) {\n            return max_so_far;\n        }\n        if (sum > 0) {\n            return Math.Max(max_so_far, max_sum * k);\n        }\n        else {\n            return Math.Max(max_so_far, max_sum);\n        }",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        if (sum > 0) {\n            max_sum = sum * k;\n        }\n        else {\n            max_sum = max_element;\n        }\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        if ((max_so_far + (sum - max_so_far) * (k - 2)) > max_sum) {\n            max_sum = max_so_far + (sum - max_so_far) * (k - 2);\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = 0;\n        long sum_of_all_elements = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            max_element = Math.Max(max_element, a[(int)i]);\n            sum_of_all_elements += a[(int)i];\n            max_sum = Math.Max(max_sum, curr_sum);\n            if (curr_sum < 0)\n                curr_sum = 0;\n        }\n        if (k == 1)\n            return max_sum;\n        long max_wrap_sum = sum_of_all_elements * (k - 2) + max_sum;\n        if (max_wrap_sum > max_sum)\n            max_sum = max_wrap_sum;\n        if (max_element < 0)\n            return max_element;\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_val = 0;\n        long curr_val = 0;\n        long total_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            curr_val += a[i];\n            max_val = Math.Max(max_val, curr_val);\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        total_sum = (k - 2) * max_val + max_sum;\n        return total_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_wrap = Math.Max(max_wrap, curr_sum);\n        }\n        if (sum > 0) {\n            return Math.Max(max_sum, max_wrap + (k - 2) * sum);\n        }\n        return Math.Max(max_sum, max_wrap);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        long min_wrap = 0;\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum > 0) {\n                curr_sum = 0;\n            }\n            min_wrap = Math.Min(min_wrap, curr_sum);\n        }\n        long ans1 = max_wrap + min_wrap;\n        long ans2 = max_sum;\n        if (k == 2) {\n            return Math.Max(ans1, ans2);\n        }\n        return Math.Max(ans1 + (k - 2) * max_wrap, ans2);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long start = 0;\n        long end = 0;\n        long s = 0;\n        long i = 0;\n        long j = 0;\n        long max_wrap = 0;\n        for (i = 0; i < n; i++) {\n            max_ending_here += a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n                s = i + 1;\n            } else if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n                start = s;\n                end = i;\n            }\n        }\n        if (max_so_far == 0) {\n            max_so_far = a.Max();\n        }\n        max_wrap = max_so_far;\n        for (i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        max_ending_here = 0;\n        for (i = 0; i < n; i++) {\n            max_ending_here += a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n                s = i + 1;\n            } else if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n                start = s;\n                end = i;\n            }\n        }\n        max_sum = Math.Max(max_so_far, max_wrap);\n        if (k == 1) {\n            return max_sum;\n        }\n        max_sum = Math.Max(max_sum, max_so_far + (k - 2) * max_wrap);\n        return max_sum;",
    "        // Complete this function\n        long max_so_far = 0;\n        long max_ending_here = 0;\n        long max_element = a.Max();\n        long sum = a.Sum();\n        long max_sum = 0;\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n        }\n        max_sum = max_so_far;\n        if (k > 1) {\n            max_sum = max_so_far + (k - 2) * sum;\n            if (max_sum < max_so_far) {\n                max_sum = max_so_far;\n            }\n        }\n        return max_sum;",
    "        // Complete this function\n        long max_so_far = long.MinValue, max_ending_here = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        max_wrap = max_wrap + MaxSubArraySumRepeated(a, n, 1);\n        if (max_wrap > max_so_far)\n            max_so_far = max_wrap;\n        return max_so_far;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = 0;\n        long sum_of_all_elements = 0;\n        long mod = (long)Math.Pow(10, 9) + 7;\n        for (long i = 0; i < n; i++) {\n            sum_of_all_elements += a[(int)i];\n            sum_of_all_elements %= mod;\n            if (a[(int)i] > max_element) {\n                max_element = a[(int)i];\n            }\n        }\n        if (k == 1) {\n            return maxSubArraySum(a, n);\n        }\n        if (max_element <= 0) {\n            return max_element;\n        }\n        if (k == 2) {\n            max_sum = maxSubArraySum(a, n);\n            curr_sum = maxSubArraySum(a, n);\n            for (long i = 0; i < n; i++) {\n                curr_sum = Math.Max(a[(int)i], curr_sum + a[(int)i]);\n                max_sum = Math.Max(max_sum, curr_sum);\n            }\n            return max_sum;\n        }\n        max_sum = maxSubArraySum(a, n);\n        curr_sum = maxSubArraySum(a, n);\n        for (long i = 0; i < n; i++) {\n            curr_sum = Math.Max(a[(int)i], curr_sum + a[(int)i]);\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap_sum = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap_sum += a[(int)i];\n            max_wrap_sum %= mod;\n        }\n        long result = (max_wrap_sum * (k - 2) + max_sum) % mod;\n        return Math.Max(result, max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_ending_here = 0;\n        long min_ending_here = 0;\n        long min_sum = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            max_ending_here += a[i];\n            if (max_ending_here > max_sum) {\n                max_sum = max_ending_here;\n            }\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            min_ending_here += a[i];\n            if (min_ending_here < min_sum) {\n                min_sum = min_ending_here;\n            }\n            if (min_ending_here > 0) {\n                min_ending_here = 0;\n            }\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        curr_sum = sum * k;\n        if (curr_sum > max_sum) {\n            max_sum = curr_sum;\n        }\n        curr_sum = sum * (k - 2) + max_sum;\n        if (curr_sum > max_sum) {\n            max_sum = curr_sum;\n        }\n        curr_sum = sum * (k - 2) + min_sum;\n        if (curr_sum > max_sum) {\n            max_sum = curr_sum;\n        }\n        return max_sum;",
    "        // Complete this function\n        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long min_so_far = 0;\n        long min_ending_here = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n            min_ending_here = min_ending_here + a[i];\n            if (min_so_far > min_ending_here)\n                min_so_far = min_ending_here;\n            if (min_ending_here > 0)\n                min_ending_here = 0;\n            sum += a[i];\n        }\n        if (k == 1)\n            return max_so_far;\n        max_sum = max_so_far;\n        max_sum = Math.Max(max_sum, sum * k - min_so_far);\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_so_far = 0;\n        long max_ending_here = 0;\n        long start = 0;\n        long end = 0;\n        long s = 0;\n        long i = 0;\n        long j = 0;\n        long sum = 0;\n        long max_sum_last_part = 0;\n        long max_sum_first_part = 0;\n        long max_sum_middle_part = 0;\n        long max_sum_middle_part_left = 0;\n        long max_sum_middle_part_right = 0;\n        long max_sum_middle_part_left_temp = 0;\n        long max_sum_middle_part_right_temp = 0;\n        long max_sum_middle_part_temp = 0;\n        long max_sum_first_part_temp = 0;\n        long max_sum_last_part_temp = 0;\n        long max_sum_temp = 0;\n        long max_sum_middle_part_left_index = 0;\n        long max_sum_middle_part_right_index = 0;\n        long max_sum_middle_part_left_index_temp = 0;\n        long max_sum_middle_part_right_index_temp = 0;\n        long max_sum_middle_part_index = 0;\n        long max_sum_first_part_index = 0;\n        long max_sum_last_part_index = 0;\n        long max_sum_index = 0;\n        long max_sum_middle_part_index_temp = 0;\n        long max_sum_first_part_index_temp = 0;\n        long max_sum_last_part_index_temp = 0;\n        long max_sum_index_temp = 0;\n        long max_sum_middle_part_left_index_temp_temp = 0;\n        long max_sum_middle_part_right_index_temp_temp = 0;\n        long max_sum_middle_part_index_temp_temp = 0;\n        long max_sum_first_part_index_temp_temp =",
    "        // Complete this function\n        long max_so_far = long.MinValue;\n        long max_ending_here = 0;\n        long max_element = a.Max();\n        long sum = a.Sum();\n        long max_sum = sum * k;\n        if (k == 1)\n            return MaxSubArraySum(a, n);\n        if (max_element <= 0)\n            return max_element;\n        for (int i = 0; i < n * 2; i++) {\n            max_ending_here = max_ending_here + a[i % n];\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        return Math.Max(max_so_far, max_sum);",
    "        // Complete this function\n        long max_so_far = long.MinValue, max_ending_here = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        max_wrap = max_wrap + MaxSubArraySumRepeated(a, n, 1);\n        return Math.Max(max_so_far, max_wrap);",
    "        long max_sum = 0;\n        long max_prefix = 0;\n        long max_suffix = 0;\n        long sum = 0;\n        long curr_prefix = 0;\n        long curr_suffix = 0;\n        long total = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            max_sum = Math.Max(max_sum, a[i]);\n            curr_prefix += a[i];\n            max_prefix = Math.Max(max_prefix, curr_prefix);\n            curr_suffix += a[n - i - 1];\n            max_suffix = Math.Max(max_suffix, curr_suffix);\n            total += a[i];\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        if (sum > 0) {\n            return Math.Max(max_prefix + max_suffix + (k - 2) * sum, total);\n        }\n        return Math.Max(max_prefix + max_suffix, max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_sum_so_far = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        max_sum_so_far = max_sum;\n        if (k > 1) {\n            max_sum_so_far += (k - 1) * sum;\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        if (max_sum_so_far < max_sum) {\n            max_sum_so_far = max_sum;\n        }\n        return max_sum_so_far;",
    "        long max_sum = 0;\n        long current_sum = 0;\n        for (int i = 0; i < n * k; i++) {\n            current_sum += a[i % n];\n            max_sum = Math.Max(max_sum, current_sum);\n            if (current_sum < 0) {\n                current_sum = 0;\n            }\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long current_sum = 0;\n        for (long i = 0; i < n * k; i++) {\n            current_sum += a[i % n];\n            max_sum = Math.Max(max_sum, current_sum);\n            if (current_sum < 0) {\n                current_sum = 0;\n            }\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long sum = 0;\n        for (long i = 0; i < n; i++) {\n            sum += a[(int)i];\n            if (max_sum < sum) {\n                max_sum = sum;\n            }\n            if (sum < 0) {\n                sum = 0;\n            }\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        long min_wrap = 0;\n        sum = 0;\n        for (long i = 0; i < n; i++) {\n            sum += a[(int)i];\n            if (min_wrap > sum) {\n                min_wrap = sum;\n            }\n            if (sum > 0) {\n                sum = 0;\n            }\n        }\n        min_wrap = -min_wrap;\n        if (k == 1) {\n            return max_sum;\n        }\n        if (max_wrap > 0) {\n            return Math.Max(max_sum, max_wrap + min_wrap + (k - 2) * max_wrap);\n        }\n        return Math.Max(max_sum, max_wrap);",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        long sum = 0;\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            max_ending_here = max_ending_here + a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        max_sum = max_so_far;\n        if (k > 1) {\n            max_sum = max_sum + (k - 2) * sum;\n            for (int i = 0; i < n; i++) {\n                max_ending_here = max_ending_here + a[i];\n                if (max_ending_here < 0) {\n                    max_ending_here = 0;\n                }\n                if (max_so_far < max_ending_here) {\n                    max_so_far = max_ending_here;\n                }\n            }\n            max_sum = max_sum + max_so_far;\n        }\n        return max_sum;",
    "        long max_sum = 0, max_ending_here = 0;\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n            if (max_sum < max_ending_here)\n                max_sum = max_ending_here;\n        }\n        if (k == 1)\n            return max_sum;\n        long max_sum_circular = 0;\n        for (long i = 0; i < n; i++) {\n            max_sum_circular += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        max_sum_circular = max_sum_circular + MaxSubArraySumRepeated(a, n, 1);\n        if (max_sum_circular > max_sum)\n            return max_sum_circular;\n        else\n            return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_val = 0;\n        long min_val = 0;\n        long curr_val = 0;\n        long total_sum = 0;\n        for (long i = 0; i < n; i++) {\n            max_val = Math.Max(max_val, a[(int)i]);\n            min_val = Math.Min(min_val, a[(int)i]);\n            total_sum += a[(int)i];\n            curr_sum = Math.Max(a[(int)i], curr_sum + a[(int)i]);\n            max_sum = Math.Max(max_sum, curr_sum);\n            curr_val = Math.Max(a[(int)i], curr_val + a[(int)i]);\n            curr_val = Math.Max(curr_val, 0);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long curr_prefix_sum = 0;\n        long curr_suffix_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_prefix_sum += a[(int)i];\n            max_prefix_sum = Math.Max(max_prefix_sum, curr_prefix_sum);\n        }\n        for (long i = n - 1; i >= 0; i--) {\n            curr_suffix_sum += a[(int)i];\n            max_suffix_sum = Math.Max(max_suffix_sum, curr_suffix_sum);\n        }\n        if (total_sum > 0) {\n            return Math.Max(max_sum, max_prefix_sum + max_suffix_sum + (k - 2) * total_sum);\n        }\n        return Math.Max(max_sum, max_prefix_sum + max_suffix_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = 0;\n        long sum_of_all_elements = 0;\n        for (long i = 0; i < n; i++) {\n            sum_of_all_elements += a[(int)i];\n            max_element = Math.Max(max_element, a[(int)i]);\n        }\n        if (k == 1) {\n            max_sum = MaxSubArraySum(a, n);\n        }\n        else {\n            max_sum = MaxSubArraySum(a, n);\n            curr_sum = max_sum;\n            for (long i = 0; i < n; i++) {\n                long val = a[(int)i];\n                curr_sum = curr_sum - val + (n * val);\n                max_sum = Math.Max(max_sum, curr_sum);\n            }\n            max_sum = Math.Max(max_sum, curr_sum + (k - 2) * sum_of_all_elements);\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_elem = 0;\n        long sum_of_all_elements = 0;\n        for (int i = 0; i < n; i++) {\n            max_elem = Math.Max(max_elem, a[i]);\n            sum_of_all_elements += a[i];\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        if (max_elem <= 0) {\n            return max_elem;\n        }\n        long max_prefix_sum = 0;\n        long curr_prefix_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_prefix_sum += a[i];\n            max_prefix_sum = Math.Max(max_prefix_sum, curr_prefix_sum);\n        }\n        long max_suffix_sum = 0;\n        long curr_suffix_sum = 0;\n        for (int i = n - 1; i >= 0; i--) {\n            curr_suffix_sum += a[i];\n            max_suffix_sum = Math.Max(max_suffix_sum, curr_suffix_sum);\n        }\n        long ans = Math.Max(max_sum, max_prefix_sum + max_suffix_sum + (k - 2) * sum_of_all_elements);\n        return ans;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        long curr_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            curr_wrap += a[(int)i];\n            if (curr_wrap < 0) {\n                curr_wrap = 0;\n            }\n            max_wrap = Math.Max(max_wrap, curr_wrap);\n        }\n        max_wrap = Math.Max(max_wrap, 0);\n        return Math.Max(max_sum, (max_wrap * (k - 2)) + max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            curr_sum += a[(int)i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        if (max_wrap < 0) {\n            return max_sum;\n        }\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_so_far = long.MinValue;\n        long max_ending_here = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            max_ending_here += a[i];\n            if (max_ending_here > max_so_far)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        if (max_wrap < 0)\n            return max_so_far;\n        return Math.Max(max_so_far, max_wrap * k);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long i;\n        for (i = 0; i < n; i++) {\n            curr_sum = curr_sum + a[(int)i];\n            if (curr_sum < 0)\n                curr_sum = 0;\n            if (max_sum < curr_sum)\n                max_sum = curr_sum;\n        }\n        if (k == 1)\n            return max_sum;\n        long max_wrap = 0;\n        for (i = 0; i < n; i++) {\n            max_wrap = max_wrap + a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        curr_sum = 0;\n        for (i = 0; i < n; i++) {\n            curr_sum = curr_sum + a[(int)i];\n            if (curr_sum < 0)\n                curr_sum = 0;\n            if (max_sum < curr_sum)\n                max_sum = curr_sum;\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (max_wrap > max_sum)\n            max_sum = max_wrap;\n        return max_sum;",
    "        long sum = 0;\n        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long start = 0;\n        long end = 0;\n        long s = 0;\n        for (int i = 0; i < n * k; i++) {\n            max_ending_here += a[i % n];\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n                start = s;\n                end = i;\n            }\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n                s = i + 1;\n            }\n        }\n        for (int i = (int)start; i <= end; i++) {\n            sum += a[i % n];\n        }\n        max_sum = Math.Max(max_sum, sum);\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum > max_wrap) {\n                max_wrap = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        if (max_wrap > max_sum && k > 1) {\n            return max_wrap + (k - 2) * max_wrap;\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = 0;\n        long min_element = 0;\n        long sum = 0;\n        long i = 0;\n        long j = 0;\n        long start = 0;\n        long end = 0;\n        long s = 0;\n        long e = 0;\n        long max_wrap = 0;\n        long min_wrap = 0;\n        long max_wrap_ending_here = 0;\n        long min_wrap_ending_here = 0;\n        long max_wrap_so_far = 0;\n        long min_wrap_so_far = 0;\n        for (i = 0; i < n; i++) {\n            max_element = Math.Max(max_element, a[(int)i]);\n            min_element = Math.Min(min_element, a[(int)i]);\n            sum += a[(int)i];\n            max_ending_here = Math.Max(a[(int)i], max_ending_here + a[(int)i]);\n            max_so_far = Math.Max(max_so_far, max_ending_here);\n            if (max_ending_here == a[(int)i]) {\n                start = i;\n            }\n            if (max_so_far == max_ending_here) {\n                end = i;\n            }\n            max_wrap_ending_here = Math.Max(a[(int)i], max_wrap_ending_here + a[(int)i]);\n            max_wrap_so_far = Math.Max(max_wrap_so_far, max_wrap_ending_here);\n            if (max_wrap_ending_here == a[(int)i]) {\n                s = i;\n            }\n            if (max_wrap_so_far == max_wrap_ending_here) {\n                e = i;\n            }\n            min_wrap_ending_here = Math.Min(a[(int)i], min_wrap_ending_here + a[(int)i]);\n            min_wrap_",
    "        long max_sum = 0;\n        long current_sum = 0;\n        long max_element = a.Max();\n        if (k == 1) {\n            return MaxSubArraySum(a, n);\n        }\n        for (int i = 0; i < n; i++) {\n            current_sum += a[i];\n            if (current_sum < 0) {\n                current_sum = 0;\n            }\n            max_sum = Math.Max(current_sum, max_sum);\n        }\n        if (max_sum > 0) {\n            max_sum = max_sum * k;\n        }\n        long sum = a.Sum();\n        if (sum > 0) {\n            max_sum = Math.Max(max_sum, sum * (k - 2));\n        }\n        max_sum = Math.Max(max_sum, max_element);\n        return max_sum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            max_element = Math.Max(max_element, a[i]);\n            sum += a[i];\n            max_ending_here = Math.Max(a[i], max_ending_here + a[i]);\n            max_so_far = Math.Max(max_so_far, max_ending_here);\n        }\n        if (max_so_far < 0) {\n            return max_element;\n        }\n        max_sum = max_so_far;\n        max_sum = Math.Max(max_sum, sum * k);\n        max_sum = Math.Max(max_sum, (sum * (k - 2)) + max_so_far);\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = 0;\n        long sum_of_all_elements = 0;\n        for (int i = 0; i < n; i++) {\n            sum_of_all_elements += a[i];\n            if (a[i] > max_element) {\n                max_element = a[i];\n            }\n        }\n        if (k == 1) {\n            return maxSubArraySum(a, n);\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            if (max_sum < curr_sum) {\n                max_sum = curr_sum;\n            }\n        }\n        if (max_sum == 0) {\n            return max_element;\n        }\n        long max_sum_of_middle_part = max_sum;\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (max_prefix_sum < curr_sum) {\n                max_prefix_sum = curr_sum;\n            }\n        }\n        curr_sum = 0;\n        for (int i = n - 1; i >= 0; i--) {\n            curr_sum += a[i];\n            if (max_suffix_sum < curr_sum) {\n                max_suffix_sum = curr_sum;\n            }\n        }\n        long ans = max_sum_of_middle_part + (k - 2) * sum_of_all_elements + max_prefix_sum + max_suffix_sum;\n        return ans;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        max_wrap = max_wrap + max_wrap;\n        if (k == 1) {\n            return max_sum;\n        }\n        if (max_wrap > max_sum) {\n            return max_wrap;\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            a.Add(a[i]);\n        }\n        for (int i = 0; i < n * 2; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long ans = max_sum;\n        if (k > 2) {\n            ans = Math.Max(ans, sum * (k - 2) + max_sum);\n        }\n        return ans;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n            if (max_sum < max_ending_here)\n                max_sum = max_ending_here;\n        }\n        if (k == 1)\n            return max_sum;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            a[i] = -a[i];\n        }\n        long max_sum_circular = sum + MaxSubArraySumRepeated(a, n, 1);\n        return Math.Max(max_sum, max_sum_circular);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_sum_so_far = 0;\n        long max_sum_ending_here = 0;\n        long max_element = a[0];\n        for (int i = 0; i < n; i++) {\n            if (a[i] > max_element) {\n                max_element = a[i];\n            }\n            max_sum_ending_here += a[i];\n            if (max_sum_ending_here < 0) {\n                max_sum_ending_here = 0;\n            }\n            if (max_sum_so_far < max_sum_ending_here) {\n                max_sum_so_far = max_sum_ending_here;\n            }\n        }\n        if (max_sum_so_far == 0) {\n            return max_element;\n        }\n        max_sum = max_sum_so_far;\n        curr_sum = max_sum_so_far;\n        for (int i = 0; i < n; i++) {\n            curr_sum = curr_sum - a[i] + a[i];\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        return max_sum * k;",
    "        long maxSum = 0;\n        long currSum = 0;\n        long maxElement = 0;\n        long sum = 0;\n        for (long i = 0; i < n; i++) {\n            maxElement = Math.Max(maxElement, a[(int)i]);\n            sum += a[(int)i];\n            currSum += a[(int)i];\n            if (currSum < 0) {\n                currSum = 0;\n            }\n            maxSum = Math.Max(maxSum, currSum);\n        }\n        if (k == 1) {\n            return maxSum;\n        }\n        if (maxElement < 0) {\n            return maxElement;\n        }\n        long maxPrefixSum = 0;\n        long maxSuffixSum = 0;\n        long currPrefixSum = 0;\n        long currSuffixSum = 0;\n        for (long i = 0; i < n; i++) {\n            currPrefixSum += a[(int)i];\n            maxPrefixSum = Math.Max(maxPrefixSum, currPrefixSum);\n        }\n        for (long i = n - 1; i >= 0; i--) {\n            currSuffixSum += a[(int)i];\n            maxSuffixSum = Math.Max(maxSuffixSum, currSuffixSum);\n        }\n        long ans1 = maxPrefixSum + maxSuffixSum;\n        if (sum > 0) {\n            ans1 += (k - 2) * sum;\n        }\n        long ans2 = sum * k;\n        return Math.Max(ans1, ans2);",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            max_element = Math.Max(max_element, a[i]);\n            sum += a[i];\n            max_ending_here = Math.Max(a[i], max_ending_here + a[i]);\n            max_so_far = Math.Max(max_so_far, max_ending_here);\n        }\n        if (max_so_far > 0) {\n            max_sum = max_so_far * k;\n        }\n        else {\n            max_sum = max_element;\n        }\n        long suffix_sum = 0;\n        long prefix_sum = 0;\n        for (int i = 0; i < n; i++) {\n            suffix_sum += a[i];\n            max_sum = Math.Max(max_sum, suffix_sum);\n        }\n        for (int i = n - 1; i >= 0; i--) {\n            prefix_sum += a[i];\n            max_sum = Math.Max(max_sum, prefix_sum);\n        }\n        max_sum = Math.Max(max_sum, suffix_sum + prefix_sum);\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        if (max_wrap > 0) {\n            return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);\n        }\n        return Math.Max(max_sum, max_wrap);",
    "        long max_so_far = long.MinValue;\n        long max_ending_here = 0;\n        long start = 0;\n        long end = 0;\n        long s = 0;\n\n        for (int i = 0; i < n * k; i++) {\n            max_ending_here += a[i % n];\n\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n                start = s;\n                end = i;\n            }\n\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n                s = i + 1;\n            }\n        }\n        return max_so_far;",
    "        long max_sum = 0;\n        long current_sum = 0;\n        for (int i = 0; i < n; i++) {\n            current_sum += a[i];\n            if (current_sum < 0) {\n                current_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, current_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long total_sum = 0;\n        for (int i = 0; i < n; i++) {\n            total_sum += a[i];\n            max_prefix_sum = Math.Max(max_prefix_sum, total_sum);\n        }\n        total_sum = 0;\n        for (int i = n - 1; i >= 0; i--) {\n            total_sum += a[i];\n            max_suffix_sum = Math.Max(max_suffix_sum, total_sum);\n        }\n        long ans1 = max_sum;\n        long ans2 = max_prefix_sum + max_suffix_sum;\n        if (total_sum > 0) {\n            ans2 += (k - 2) * total_sum;\n        }\n        return Math.Max(ans1, ans2);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = 0;\n        long sum_of_all_elements = 0;\n        for (int i = 0; i < n; i++) {\n            max_element = Math.Max(max_element, a[i]);\n            sum_of_all_elements += a[i];\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        if (max_element <= 0) {\n            return max_element;\n        }\n        long max_sum_of_middle_part = max_sum;\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long curr_prefix_sum = 0;\n        long curr_suffix_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_prefix_sum += a[i];\n            max_prefix_sum = Math.Max(max_prefix_sum, curr_prefix_sum);\n        }\n        for (int i = n - 1; i >= 0; i--) {\n            curr_suffix_sum += a[i];\n            max_suffix_sum = Math.Max(max_suffix_sum, curr_suffix_sum);\n        }\n        long ans = Math.Max(max_sum, max_prefix_sum + max_suffix_sum + (k - 2) * sum_of_all_elements);\n        return ans;",
    "        long max_sum = 0, max_ending_here = 0;\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n            if (max_sum < max_ending_here)\n                max_sum = max_ending_here;\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap = max_wrap + a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        max_wrap = max_wrap + MaxSubArraySumRepeated(a, n, 1);\n        if (max_wrap > max_sum)\n            max_sum = max_wrap;\n        return max_sum * k;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        max_sum = max_so_far;\n        long sum = 0;\n        for (long i = 0; i < n; i++) {\n            sum = sum + a[(int)i];\n        }\n        if (sum > 0) {\n            max_sum = max_sum + (k - 2) * sum;\n        }\n        for (long i = 0; i < n; i++) {\n            sum = sum - a[(int)i];\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_ending_here > max_sum) {\n                max_sum = max_ending_here;\n            }\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n        }\n        return max_sum;",
    "        long max_so_far = long.MinValue, max_ending_here = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            max_ending_here += a[i];\n            if (max_ending_here > max_so_far)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        if (max_wrap > 0)\n            return Math.Max(max_so_far, max_wrap * k);\n        return max_so_far;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_sum_so_far = 0;\n        long max_sum_ending_here = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            max_sum_ending_here += a[(int)i];\n            if (max_sum_ending_here < 0) {\n                max_sum_ending_here = 0;\n            }\n            if (max_sum_so_far < max_sum_ending_here) {\n                max_sum_so_far = max_sum_ending_here;\n            }\n        }\n        max_sum = max_sum_so_far;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n        }\n        if (curr_sum > 0) {\n            max_sum += (k - 2) * curr_sum;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_wrap = Math.Max(max_wrap, curr_sum);\n        }\n        if (sum > 0) {\n            return Math.Max(max_wrap, max_sum + (k - 2) * sum);\n        } else {\n            return Math.Max(max_wrap, max_sum);\n        }",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        long curr_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            curr_wrap += a[i];\n            if (curr_wrap > max_wrap) {\n                max_wrap = curr_wrap;\n            }\n            if (curr_wrap < 0) {\n                curr_wrap = 0;\n            }\n        }\n        max_wrap = sum + max_wrap;\n        if (k == 2) {\n            return Math.Max(max_sum, max_wrap);\n        }\n        return Math.Max(max_sum, max_wrap + (k - 2) * sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long i = 0;\n        long j = 0;\n        long sum = 0;\n        for (i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        max_sum = sum;\n        for (i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        if (k == 1) {\n            return max_so_far;\n        }\n        max_sum = max_sum + (k - 2) * sum;\n        max_sum = max_sum + max_so_far;\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (long i = 0; i < n * k; i++) {\n            curr_sum = Math.Max(a[(int)(i % n)], curr_sum + a[(int)(i % n)]);\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_wrap = 0;\n        long i = 0;\n        for (i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        for (i = 0; i < n; i++) {\n            max_wrap = max_wrap + a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        for (i = 0; i < n; i++) {\n            curr_sum = curr_sum + a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            if (max_sum < curr_sum) {\n                max_sum = curr_sum;\n            }\n        }\n        max_wrap = max_wrap + max_sum;\n        if (k == 1) {\n            return max_so_far;\n        }\n        else {\n            return Math.Max(max_so_far, max_wrap);\n        }",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_sum_so_far = 0;\n        long max_sum_ending_here = 0;\n        long i = 0;\n        long j = 0;\n        long max_sum_ending_here_prev = 0;\n        long max_sum_so_far_prev = 0;\n        long curr_sum_prev = 0;\n        long max_sum_prev = 0;\n\n        for (i = 0; i < n; i++) {\n            max_sum_ending_here += a[i];\n            if (max_sum_ending_here < 0) {\n                max_sum_ending_here = 0;\n            }\n            if (max_sum_so_far < max_sum_ending_here) {\n                max_sum_so_far = max_sum_ending_here;\n            }\n        }\n        max_sum_ending_here_prev = max_sum_ending_here;\n        max_sum_so_far_prev = max_sum_so_far;\n        curr_sum_prev = curr_sum;\n        max_sum_prev = max_sum;\n        for (j = 1; j < k; j++) {\n            curr_sum = 0;\n            max_sum = 0;\n            max_sum_ending_here = 0;\n            max_sum_so_far = 0;\n            for (i = 0; i < n; i++) {\n                curr_sum += a[i];\n                if (curr_sum < 0) {\n                    curr_sum = 0;\n                }\n                if (max_sum < curr_sum) {\n                    max_sum = curr_sum;\n                }\n                max_sum_ending_here += a[i];\n                if (max_sum_ending_here < 0) {\n                    max_sum_ending_here = 0;\n                }\n                if (max_sum_so_far < max_sum_ending_here) {\n                    max_sum_so_far = max_sum_ending_here;\n                }\n            }\n            max_sum_ending",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = 0;\n        long sum_of_all_elements = 0;\n        for (long i = 0; i < n; i++) {\n            max_element = Math.Max(max_element, a[(int)i]);\n            sum_of_all_elements += a[(int)i];\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = sum_of_all_elements - curr_sum;\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_so_far = long.MinValue;\n        long max_ending_here = 0;\n        long max_element = long.MinValue;\n        long sum = 0;\n        for (long i = 0; i < n; i++) {\n            max_element = Math.Max(max_element, a[(int)i]);\n            sum += a[(int)i];\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        if (max_so_far < 0)\n            return max_so_far;\n        if (k == 1)\n            return max_so_far;\n        long max_wrap = sum * (k - 1);\n        max_wrap = max_wrap + max_so_far;\n        long max_non_wrap = max_so_far;\n        return Math.Max(max_wrap, max_non_wrap);",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            max_element = Math.Max(max_element, a[i]);\n            sum += a[i];\n            max_ending_here = Math.Max(a[i], max_ending_here + a[i]);\n            max_so_far = Math.Max(max_so_far, max_ending_here);\n        }\n        if (max_so_far > 0) {\n            max_sum = max_so_far * k;\n        }\n        else {\n            max_sum = max_element;\n        }\n        long suffix_sum = 0;\n        long prefix_sum = 0;\n        for (int i = 0; i < n; i++) {\n            suffix_sum += a[i];\n            max_sum = Math.Max(max_sum, suffix_sum);\n        }\n        for (int i = n - 1; i >= 0; i--) {\n            prefix_sum += a[i];\n            max_sum = Math.Max(max_sum, prefix_sum);\n        }\n        max_sum = Math.Max(max_sum, suffix_sum + prefix_sum);\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_elem = a.Max();\n        if (max_elem < 0) {\n            return max_elem;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long total_sum = 0;\n        for (long i = 0; i < n; i++) {\n            max_prefix_sum += a[(int)i];\n            max_prefix_sum = Math.Max(max_prefix_sum, 0);\n            total_sum += a[(int)i];\n        }\n        for (long i = (int)n - 1; i >= 0; i--) {\n            max_suffix_sum += a[(int)i];\n            max_suffix_sum = Math.Max(max_suffix_sum, 0);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long ans1 = max_prefix_sum + max_suffix_sum;\n        long ans2 = total_sum * (k - 2) + ans1;\n        return Math.Max(ans1, ans2);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        if (max_wrap > 0) {\n            return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);\n        } else {\n            return Math.Max(max_sum, max_wrap);\n        }",
    "        // Complete this function\n        long max_so_far = long.MinValue;\n        long max_ending_here = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        max_wrap = max_wrap + MaxSubArraySumRepeated(a, n, 1);\n        return Math.Max(max_so_far, max_wrap);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        if (max_wrap > 0) {\n            return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);\n        }\n        return max_sum;",
    "        // Complete this function\n        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = 0;\n        long min_element = 0;\n        long min_sum = 0;\n        long min_ending_here = 0;\n        long min_so_far = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n            max_element = Math.Max(max_element, a[i]);\n            min_ending_here = min_ending_here + a[i];\n            if (min_ending_here > 0) {\n                min_ending_here = 0;\n            }\n            if (min_so_far > min_ending_here) {\n                min_so_far = min_ending_here;\n            }\n            min_element = Math.Min(min_element, a[i]);\n        }\n        if (k == 1) {\n            return max_so_far;\n        }\n        if (max_element < 0) {\n            return max_element * k;\n        }\n        if (min_element > 0) {\n            return max_so_far;\n        }\n        max_sum = max_so_far;\n        min_sum = min_so_far;\n        for (int i = 2; i <= k; i++) {\n            if (max_sum < 0) {\n                max_sum = 0;\n            }\n            max_sum = max_sum + max_so_far;\n            if (min_sum > 0) {\n                min_sum = 0;\n            }\n            min_sum = min_sum + min_so_far;\n        }\n        return Math.Max(max_sum, max_so_far);",
    "        long max_sum = 0;\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long total_sum = 0;\n        long curr_prefix_sum = 0;\n        long curr_suffix_sum = 0;\n        for (long i = 0; i < n; i++) {\n            total_sum += a[(int)i];\n            curr_prefix_sum += a[(int)i];\n            max_prefix_sum = Math.Max(max_prefix_sum, curr_prefix_sum);\n            curr_prefix_sum = Math.Max(curr_prefix_sum, 0);\n            curr_suffix_sum += a[(int)(n - i - 1)];\n            max_suffix_sum = Math.Max(max_suffix_sum, curr_suffix_sum);\n            curr_suffix_sum = Math.Max(curr_suffix_sum, 0);\n        }\n        max_sum = Math.Max(max_prefix_sum + max_suffix_sum, max_sum);\n        max_sum = Math.Max(max_sum, max_prefix_sum + max_suffix_sum + (k - 2) * total_sum);\n        return max_sum;",
    "        // Complete this function\n        long max_so_far = long.MinValue, max_ending_here = 0;\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            max_ending_here += a[(int)i];\n            if (max_ending_here > max_so_far)\n                max_so_far = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        if (max_wrap < 0)\n            return max_so_far;\n        return Math.Max(max_so_far, max_wrap * k);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_elem = a.Max();\n        long sum_of_all = a.Sum();\n        if (max_elem < 0) {\n            return max_elem;\n        }\n        if (sum_of_all > 0) {\n            return sum_of_all * k;\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            if (max_sum < curr_sum) {\n                max_sum = curr_sum;\n            }\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            if (max_sum < curr_sum) {\n                max_sum = curr_sum;\n            }\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (max_wrap > max_sum) {\n            max_sum = max_wrap;\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_max = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (int i = 0; i < n; i++) {\n            curr_max = curr_max + a[i];\n            if (curr_max < 0) {\n                curr_max = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_max);\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        curr_max = 0;\n        for (int i = 0; i < n; i++) {\n            curr_max = curr_max + a[i];\n            if (curr_max < 0) {\n                curr_max = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_max);\n        }\n        max_wrap = max_wrap + curr_max;\n        if (k == 1) {\n            return max_sum;\n        }\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_ending_here = 0;\n        long min_ending_here = 0;\n        long min_sum = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            max_ending_here += a[i];\n            if (max_ending_here > max_sum) {\n                max_sum = max_ending_here;\n            }\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            min_ending_here += a[i];\n            if (min_ending_here < min_sum) {\n                min_sum = min_ending_here;\n            }\n            if (min_ending_here > 0) {\n                min_ending_here = 0;\n            }\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = sum - min_sum;\n        if (max_wrap > 0) {\n            return Math.Max(max_wrap, max_sum + (k - 2) * sum);\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        return Math.Max(max_sum, max_wrap);",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = 0;\n        long sum = 0;\n        for (long i = 0; i < n; i++) {\n            max_element = Math.Max(max_element, a[(int)i]);\n            sum += a[(int)i];\n            max_ending_here = Math.Max(a[(int)i], max_ending_here + a[(int)i]);\n            max_so_far = Math.Max(max_so_far, max_ending_here);\n        }\n        if (max_so_far < 0) {\n            return max_element;\n        }\n        max_sum = Math.Max(max_so_far, max_sum);\n        max_sum = Math.Max(max_sum, max_sum + (k - 2) * sum);\n        long prefix_sum = 0;\n        long suffix_sum = 0;\n        for (long i = 0; i < n; i++) {\n            prefix_sum += a[(int)i];\n            max_sum = Math.Max(max_sum, prefix_sum);\n        }\n        for (long i = n - 1; i >= 0; i--) {\n            suffix_sum += a[(int)i];\n            max_sum = Math.Max(max_sum, suffix_sum);\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        if (k == 1) {\n            max_so_far = max_ending_here = max_element;\n        } else {\n            max_so_far = max_ending_here = sum;\n        }\n        for (int i = 1; i < n; i++) {\n            max_ending_here = max_ending_here + sum - n * a[n - i];\n            max_so_far = Math.Max(max_so_far, max_ending_here);\n        }\n        return max_so_far;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_sum_so_far = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum_so_far = Math.Max(max_sum_so_far, curr_sum);\n        }\n        max_sum = max_sum_so_far;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            curr_sum = Math.Max(curr_sum, 0);\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long suffix_sum = 0;\n        long prefix_sum = 0;\n        for (int i = 0; i < n; i++) {\n            suffix_sum += a[i];\n            prefix_sum += a[n - i - 1];\n            max_sum = Math.Max(max_sum, suffix_sum);\n            max_sum = Math.Max(max_sum, prefix_sum);\n        }\n        long total_sum = 0;\n        for (int i = 0; i < n; i++) {\n            total_sum += a[i];\n        }\n        if (total_sum > 0) {\n            max_sum = Math.Max(max_sum, total_sum * (k - 2));\n        }\n        max_sum = Math.Max(max_sum, prefix_sum + suffix_sum);\n        return max_sum;",
    "        long max_sum = 0;\n        long current_sum = 0;\n        for (int i = 0; i < n; i++) {\n            current_sum += a[i];\n            if (current_sum < 0) {\n                current_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, current_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_prefix_sum = 0;\n        long min_prefix_sum = 0;\n        long total_sum = 0;\n        long max_prefix = long.MinValue;\n        long min_prefix = long.MaxValue;\n        for (int i = 0; i < n; i++) {\n            total_sum += a[i];\n            max_prefix_sum += a[i];\n            max_prefix = Math.Max(max_prefix, max_prefix_sum);\n            if (max_prefix_sum < 0) {\n                max_prefix_sum = 0;\n            }\n            min_prefix_sum += a[i];\n            min_prefix = Math.Min(min_prefix, min_prefix_sum);\n            if (min_prefix_sum > 0) {\n                min_prefix_sum = 0;\n            }\n        }\n        if (total_sum > 0) {\n            return Math.Max(max_sum, max_prefix + (total_sum * (k - 2)) + min_prefix);\n        }\n        else {\n            return Math.Max(max_sum, max_prefix + min_prefix);\n        }",
    "        long max_sum = 0;\n        long current_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            current_sum += a[(int)i];\n            if (current_sum < 0) {\n                current_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, current_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        current_sum = 0;\n        for (long i = 0; i < n; i++) {\n            current_sum += a[(int)i];\n            if (current_sum < 0) {\n                current_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, current_sum);\n        }\n        max_wrap = max_wrap + current_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = 0;\n        long sum_of_all_elements = 0;\n        for (long i = 0; i < n; i++) {\n            sum_of_all_elements += a[(int)i];\n            max_element = Math.Max(max_element, a[(int)i]);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        if (max_element <= 0) {\n            return max_element;\n        }\n        long max_sum_so_far = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            max_sum_so_far = Math.Max(max_sum_so_far, curr_sum);\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        max_sum = max_sum_so_far;\n        long suffix_sum = 0;\n        long prefix_sum = 0;\n        for (long i = 0; i < n; i++) {\n            suffix_sum += a[(int)i];\n            prefix_sum += a[(int)(n - i - 1)];\n            max_sum = Math.Max(max_sum, prefix_sum);\n            max_sum = Math.Max(max_sum, suffix_sum);\n        }\n        max_sum = Math.Max(max_sum, suffix_sum + prefix_sum);\n        return max_sum + (k - 2) * sum_of_all_elements;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (k == 1) {\n            return a.Sum();\n        }\n        if (max_element <= 0) {\n            return max_element * k;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        long curr_val = 0;\n        for (long i = 0; i < n; i++) {\n            curr_val += a[(int)i];\n            curr_sum = Math.Max(curr_val, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 2) {\n            return Math.Max(max_wrap, max_sum);\n        }\n        return Math.Max(max_wrap + (k - 2) * max_wrap, max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            max_sum += a[i] * k;\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            max_sum = Math.Max(max_sum, curr_sum + (k - 1) * sum);\n            curr_sum = Math.Max(curr_sum, 0);\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            max_sum += a[i] * k;\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            max_sum = Math.Max(max_sum, curr_sum + (k - 1) * sum);\n            curr_sum = Math.Max(curr_sum, 0);\n        }\n        return max_sum;",
    "        // Find the maximum sum subarray in the first repetition of the array.\n        long max_sum = MaxSubArraySum(a, n);\n        // If the array is all negative, then the max sum is the max element.\n        if (max_sum < 0) {\n            return max_sum;\n        }\n        // Find the prefix sum of the array.\n        List<long> prefix_sum = new List<long>();\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            prefix_sum.Add(curr_sum);\n        }\n        // Find the maximum sum of the prefix sum array.\n        long max_prefix_sum = prefix_sum.Max();\n        // Find the minimum sum of the prefix sum array.\n        long min_prefix_sum = prefix_sum.Min();\n        // If the minimum sum of the prefix sum array is greater than 0, then the maximum sum subarray can be obtained by adding the minimum prefix sum to the maximum sum of the first repetition.\n        if (min_prefix_sum > 0) {\n            return max_sum + (k - 2) * min_prefix_sum;\n        }\n        // Find the maximum sum of the suffix sum array.\n        List<long> suffix_sum = new List<long>();\n        curr_sum = 0;\n        for (int i = n - 1; i >= 0; i--) {\n            curr_sum += a[i];\n            suffix_sum.Add(curr_sum);\n        }\n        long max_suffix_sum = suffix_sum.Max();\n        // Find the maximum sum subarray by adding the maximum suffix sum to the maximum prefix sum.\n        return Math.Max(max_sum, max_prefix_sum + max_suffix_sum + (k - 2) * max_prefix_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long total_sum = 0;\n        for (int i = 0; i < n; i++) {\n            total_sum += a[i];\n            max_prefix_sum = Math.Max(max_prefix_sum, total_sum);\n        }\n        total_sum = 0;\n        for (int i = n - 1; i >= 0; i--) {\n            total_sum += a[i];\n            max_suffix_sum = Math.Max(max_suffix_sum, total_sum);\n        }\n        long ans1 = max_prefix_sum + max_suffix_sum;\n        long ans2 = total_sum * (k - 2);\n        long ans3 = max_sum;\n        return Math.Max(ans1, Math.Max(ans2, ans3));",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_elem = a.Max();\n        if (max_elem <= 0) {\n            return max_elem * k;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_wrap = Math.Max(max_wrap, curr_sum);\n        }\n        max_wrap = Math.Max(max_wrap, 0);\n        return Math.Max(max_sum, max_wrap * (k - 1) + max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        if (max_wrap > 0) {\n            return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);\n        }\n        return Math.Max(max_sum, max_wrap);",
    "        long max_sum = 0, max_ending_here = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n            if (max_sum < max_ending_here)\n                max_sum = max_ending_here;\n        }\n        if (k == 1)\n            return max_sum;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            a[i] = -a[i];\n        }\n        long max_sum_circular = sum + MaxSubArraySumRepeated(a, n, 1);\n        return Math.Max(max_sum, max_sum_circular);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_sum_so_far = 0;\n        for (int i = 0; i < n * k; i++) {\n            curr_sum += a[i % n];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum_so_far = Math.Max(max_sum_so_far, curr_sum);\n            if (i >= n) {\n                curr_sum -= a[i % n];\n            }\n        }\n        return max_sum_so_far;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = 0;\n        long min_element = 0;\n        long min_ending_here = 0;\n        long min_so_far = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            min_ending_here = min_ending_here + a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (min_ending_here > 0) {\n                min_ending_here = 0;\n            }\n            max_so_far = Math.Max(max_so_far, max_ending_here);\n            min_so_far = Math.Min(min_so_far, min_ending_here);\n            sum += a[i];\n            max_element = Math.Max(max_element, a[i]);\n            min_element = Math.Min(min_element, a[i]);\n        }\n        if (k == 1) {\n            return max_so_far;\n        }\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long min_prefix_sum = 0;\n        long min_suffix_sum = 0;\n        for (int i = 0; i < n; i++) {\n            max_prefix_sum += a[i];\n            min_prefix_sum += a[i];\n            max_suffix_sum = sum - min_prefix_sum;\n            min_suffix_sum = sum - max_prefix_sum;\n            if (max_prefix_sum < 0) {\n                max_prefix_sum = 0;\n            }\n            if (min_prefix_sum > 0) {\n                min_prefix_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, max_prefix_sum);\n            max_sum = Math.Max(max_sum, max_suffix_sum);\n",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum = Math.Max(a[i], curr_sum + a[i]);\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum = Math.Max(a[i], curr_sum + a[i]);\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_val = 0;\n        long sum_array = 0;\n        long mod = 1000000007;\n        for (int i = 0; i < n; i++) {\n            max_val = Math.Max(max_val, a[i]);\n            sum_array = (sum_array + a[i]) % mod;\n        }\n        if (k == 1) {\n            return maxSubArraySum(a, n);\n        }\n        if (max_val <= 0) {\n            return max_val;\n        }\n        long max_sum_kadane = maxSubArraySum(a, n);\n        long max_sum_wrap = (sum_array * (k - 2)) % mod;\n        max_sum_wrap = (max_sum_wrap + max_sum_kadane) % mod;\n        return Math.Max(max_sum_kadane, max_sum_wrap);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_elem = a.Max();\n        long sum_of_all_elements = a.Sum();\n        long sum_of_all_elements_repeated = sum_of_all_elements * k;\n        if (k == 1) {\n            return MaxSubArraySum(a, n);\n        }\n        if (max_elem < 0) {\n            return max_elem;\n        }\n        if (sum_of_all_elements_repeated < 0) {\n            return sum_of_all_elements_repeated;\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum = curr_sum + a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            if (max_sum < curr_sum) {\n                max_sum = curr_sum;\n            }\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap = max_wrap + a[i];\n            a[i] = -a[i];\n        }\n        long curr_val = 0;\n        for (int i = 0; i < n; i++) {\n            curr_val = curr_val + a[i];\n            if (curr_val < 0) {\n                curr_val = 0;\n            }\n            if (max_wrap < curr_val) {\n                max_wrap = curr_val;\n            }\n        }\n        max_wrap = max_wrap + sum_of_all_elements * (k - 2);\n        return Math.Max(max_wrap, max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0) return max_element * k;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) curr_sum = 0;\n            if (curr_sum > max_sum) max_sum = curr_sum;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) curr_sum = 0;\n            if (curr_sum > max_sum) max_sum = curr_sum;\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) return max_sum;\n        if (k == 2) return max_wrap > max_sum ? max_wrap : max_sum;\n        return max_wrap + (k - 2) * max_sum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long min_ending_here = 0;\n        long min_sum = 0;\n        long sum = 0;\n        for (long i = 0; i < n; i++) {\n            max_ending_here += a[(int)i];\n            min_ending_here += a[(int)i];\n            if (max_ending_here > max_sum)\n                max_sum = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n            if (min_ending_here < min_sum)\n                min_sum = min_ending_here;\n            if (min_ending_here > 0)\n                min_ending_here = 0;\n            sum += a[(int)i];\n        }\n        if (k == 1)\n            return max_sum;\n        long max_wrap = sum - min_sum;\n        if (max_wrap > 0)\n            return Math.Max(max_wrap, max_sum + (k - 2) * sum);\n        else\n            return Math.Max(max_wrap, max_sum);",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        for (int i = 0; i < n * k; i++) {\n            max_ending_here = max_ending_here + a[i % n];\n            if (max_sum < max_ending_here)\n                max_sum = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            a.Add(a[i]);\n        }\n        for (int i = 0; i < 2 * n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long ans = max_sum + (k - 2) * sum;\n        return ans;",
    "        // Complete this function\n        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        long sum = a.Sum();\n        if (k == 1) {\n            return max_element;\n        }\n        else {\n            for (int i = 0; i < n; i++) {\n                max_ending_here = max_ending_here + a[i];\n                if (max_ending_here < 0) {\n                    max_ending_here = 0;\n                }\n                if (max_so_far < max_ending_here) {\n                    max_so_far = max_ending_here;\n                }\n            }\n            max_sum = max_so_far * (k - 2) + sum;\n            return max_sum;\n        }",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum > max_wrap) {\n                max_wrap = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        if (max_wrap > 0) {\n            return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        long curr_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            curr_wrap += a[(int)i];\n            if (curr_wrap < 0) {\n                curr_wrap = 0;\n            }\n            max_wrap = Math.Max(max_wrap, curr_wrap);\n        }\n        max_wrap = Math.Max(max_wrap, 0);\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        if (max_wrap > 0) {\n            return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);\n        }\n        return Math.Max(max_sum, max_wrap);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_elem = a.Max();\n        long max_elem_sum = max_elem * k;\n        long total_sum = a.Sum();\n        if (max_elem_sum > total_sum) {\n            return max_elem_sum;\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            if (max_sum < curr_sum) {\n                max_sum = curr_sum;\n            }\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            if (max_wrap < curr_sum) {\n                max_wrap = curr_sum;\n            }\n        }\n        max_wrap = max_wrap + max_wrap;\n        if (max_wrap > max_sum) {\n            return max_wrap;\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        long sum = a.Sum();\n        if (k == 1) {\n            return MaxSubArraySum(a, n);\n        }\n        else if (max_element <= 0) {\n            return max_element;\n        }\n        else {\n            max_so_far = MaxSubArraySum(a, n);\n            max_sum = max_so_far;\n            for (int i = 0; i < n; i++) {\n                max_ending_here += a[i];\n                if (max_ending_here < 0) {\n                    max_ending_here = 0;\n                }\n                if (max_sum < max_ending_here) {\n                    max_sum = max_ending_here;\n                }\n            }\n            max_sum = max_sum + (k - 2) * sum;\n            return Math.Max(max_sum, max_so_far);\n        }",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        max_sum = max_so_far * k;\n        long curr_val = 0;\n        for (long i = 0; i < n; i++) {\n            curr_val += a[(int)i];\n        }\n        long max_wrap = curr_val;\n        for (long i = 0; i < n; i++) {\n            curr_val += (a[(int)i] * (k - 1));\n            if (curr_val > max_wrap) {\n                max_wrap = curr_val;\n            }\n        }\n        return Math.Max(max_sum, max_wrap);",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        if (k == 1) {\n            for (int i = 0; i < n; i++) {\n                max_ending_here = max_ending_here + a[i];\n                if (max_ending_here < 0) {\n                    max_ending_here = 0;\n                }\n                if (max_so_far < max_ending_here) {\n                    max_so_far = max_ending_here;\n                }\n            }\n            return max_so_far;\n        }\n        if (sum > 0) {\n            max_sum = sum * k;\n        }\n        else {\n            max_sum = max_element;\n        }\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        long min_sum = 0;\n        long min_ending_here = 0;\n        long min_so_far = 0;\n        for (int i = 0; i < n; i++) {\n            min_ending_here = min_ending_here + a[i];\n            if (min_ending_here > 0) {\n                min_ending_here = 0;\n            }\n            if (min_so_far > min_ending_here) {\n                min_so_far = min_ending_here;\n            }\n        }\n        min_sum = min_so_far * k;\n        long result = max_so_far + (k - 2) * sum + min_sum;\n        return Math.Max(result, max_sum);",
    "        // Find the maximum sum subarray in the first iteration\n        long max_sum = MaxSubArraySum(a, n);\n        // Find the maximum sum of subarray starting with first element and ending with last element\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        // Find the maximum sum of subarray ending with last element\n        max_wrap = max_wrap + MaxSubArraySum(a, n);\n        // Return the maximum of two sums\n        return Math.Max(max_wrap, max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_elem = a.Max();\n        long max_elem_sum = max_elem * k;\n        if (max_elem_sum <= 0) {\n            return max_elem_sum;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_wrap = Math.Max(max_wrap, curr_sum);\n        }\n        if (max_wrap > 0) {\n            return Math.Max(max_sum, max_wrap + (k - 2) * max_wrap);\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        long sum = a.Sum();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        max_sum = max_so_far;\n        if (k > 2) {\n            max_sum = max_sum + sum * (k - 2);\n        }\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_sum < max_ending_here) {\n                max_sum = max_ending_here;\n            }\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        if (k == 2) {\n            return Math.Max(max_sum, max_wrap);\n        }\n        return Math.Max(max_sum, max_wrap + (k - 2) * max_wrap);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_elem = a.Max();\n        long max_elem_sum = max_elem * k;\n        if (max_elem_sum > 0) {\n            max_sum = max_elem_sum;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long sum = a.Sum();\n        long max_wrap = sum * (k - 1);\n        max_sum = Math.Max(max_sum, max_wrap + curr_sum);\n        return max_sum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_sum < max_ending_here) {\n                max_sum = max_ending_here;\n            }\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_sum_all = 0;\n        long min_sum_all = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            max_sum_all += a[i];\n            min_sum_all += a[i];\n        }\n        if (curr_sum > 0) {\n            max_sum = Math.Max(max_sum, curr_sum * k);\n        } else {\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        min_sum_all = Math.Min(min_sum_all, 0);\n        max_sum_all = Math.Max(max_sum_all, 0);\n        max_sum = Math.Max(max_sum, (curr_sum - min_sum_all) * k);\n        max_sum = Math.Max(max_sum, max_sum_all * (k - 1) + curr_sum);\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        long curr_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            curr_wrap += a[(int)i];\n            if (curr_wrap < 0) {\n                curr_wrap = 0;\n            }\n            max_wrap = Math.Max(max_wrap, curr_wrap);\n        }\n        max_wrap = Math.Max(max_wrap, 0);\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long min_ending_here = 0;\n        long min_sum = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here += a[i];\n            min_ending_here += a[i];\n            max_sum = Math.Max(max_sum, max_ending_here);\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n            min_sum = Math.Min(min_sum, min_ending_here);\n            if (min_ending_here > 0)\n                min_ending_here = 0;\n            sum += a[i];\n        }\n        if (k == 1)\n            return max_sum;\n        long ans1 = max_sum;\n        long ans2 = sum * k;\n        long ans3 = sum * (k - 2) + max_sum;\n        return Math.Max(ans1, Math.Max(ans2, ans3));",
    "        long max_sum = 0, max_ending_here = 0;\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n            if (max_sum < max_ending_here)\n                max_sum = max_ending_here;\n        }\n        if (k == 1)\n            return max_sum;\n        long max_val = a.Max();\n        if (max_val <= 0)\n            return max_val * k;\n        long sum = a.Sum();\n        long ans = max_sum + sum * (k - 2);\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n            if (max_sum < max_ending_here)\n                max_sum = max_ending_here;\n        }\n        ans = Math.Max(ans, max_sum);\n        return ans;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long total_sum = 0;\n        for (long i = 0; i < n; i++) {\n            max_prefix_sum += a[(int)i];\n            max_prefix_sum = Math.Max(max_prefix_sum, 0);\n        }\n        for (long i = n - 1; i >= 0; i--) {\n            max_suffix_sum += a[(int)i];\n            max_suffix_sum = Math.Max(max_suffix_sum, 0);\n        }\n        for (long i = 0; i < n; i++) {\n            total_sum += a[(int)i];\n        }\n        if (total_sum > 0) {\n            return Math.Max(max_sum, max_prefix_sum + max_suffix_sum + (k - 2) * total_sum);\n        }\n        return Math.Max(max_sum, max_prefix_sum + max_suffix_sum);",
    "        long max_sum = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            max_sum = Math.Max(max_sum, sum);\n            if (sum < 0) {\n                sum = 0;\n            }\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_prefix_sum = 0;\n        long min_prefix_sum = 0;\n        long prefix_sum = 0;\n        long total_sum = 0;\n        for (int i = 0; i < n; i++) {\n            prefix_sum += a[i];\n            max_prefix_sum = Math.Max(max_prefix_sum, prefix_sum);\n            min_prefix_sum = Math.Min(min_prefix_sum, prefix_sum);\n            total_sum += a[i];\n        }\n        long ans1 = max_prefix_sum + (k - 2) * total_sum + max_prefix_sum;\n        long ans2 = max_prefix_sum + (k - 2) * total_sum - min_prefix_sum;\n        return Math.Max(ans1, ans2);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = 0;\n        long sum_of_all_elements = 0;\n        long mod = 1000000007;\n        for (int i = 0; i < n; i++) {\n            max_element = Math.Max(max_element, a[i]);\n            sum_of_all_elements += a[i];\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        if (max_element <= 0) {\n            return max_element;\n        }\n        long max_prefix_sum = 0;\n        long curr_prefix_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_prefix_sum += a[i];\n            max_prefix_sum = Math.Max(max_prefix_sum, curr_prefix_sum);\n        }\n        long max_suffix_sum = 0;\n        long curr_suffix_sum = 0;\n        for (int i = n - 1; i >= 0; i--) {\n            curr_suffix_sum += a[i];\n            max_suffix_sum = Math.Max(max_suffix_sum, curr_suffix_sum);\n        }\n        long ans = Math.Max(max_sum, max_prefix_sum + max_suffix_sum);\n        ans = Math.Max(ans, max_prefix_sum + max_suffix_sum + (k - 2) * sum_of_all_elements);\n        return ans;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long i = 0;\n        long j = 0;\n        long sum = 0;\n        long max_element = 0;\n        long max_index = 0;\n        long max_index_so_far = 0;\n        long max_index_ending_here = 0;\n        long max_index_sum = 0;\n        long max_index_sum_so_far = 0;\n        long max_index_sum_ending_here = 0;\n        long max_index_sum_ending_here_temp = 0;\n        long max_index_sum_ending_here_temp_index = 0;\n        long max_index_sum_ending_here_temp_sum = 0;\n        long max_index_sum_ending_here_temp_sum_index = 0;\n        long max_index_sum_ending_here_temp_sum_index_sum = 0;\n        long max_index_sum_ending_here_temp_sum_index_sum_index = 0;\n        long max_index_sum_ending_here_temp_sum_index_sum_index_sum = 0;\n        long max_index_sum_ending_here_temp_sum_index_sum_index_sum_index = 0;\n        long max_index_sum_ending_here_temp_sum_index_sum_index_sum_index_sum = 0;\n        long max_index_sum_ending_here_temp_sum_index_sum_index_sum_index_sum_index = 0;\n        long max_index_sum_ending_here_temp_sum_index_sum_index_sum_index_sum_index_sum = 0;\n        long max_index_sum_ending_here_temp_sum_index_sum_index_sum_index_sum_index_sum_index = 0;\n        long max_index_sum_ending_here_temp_sum_index_sum_index_sum_index_sum_index_sum_index_sum = 0;\n        long max_index_sum_ending_here_temp_sum_index_sum",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long total_sum = 0;\n        for (long i = 0; i < n; i++) {\n            total_sum += a[(int)i];\n            max_prefix_sum = Math.Max(max_prefix_sum, total_sum);\n        }\n        total_sum = 0;\n        for (long i = n - 1; i >= 0; i--) {\n            total_sum += a[(int)i];\n            max_suffix_sum = Math.Max(max_suffix_sum, total_sum);\n        }\n        long ans1 = max_sum;\n        long ans2 = max_prefix_sum + max_suffix_sum;\n        if (total_sum > 0) {\n            ans2 += (k - 2) * total_sum;\n        }\n        return Math.Max(ans1, ans2);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1) {\n            return max_sum;\n        }\n        if (max_wrap > 0) {\n            return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);\n        }\n        return Math.Max(max_sum, max_wrap);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum > max_wrap) {\n                max_wrap = curr_sum;\n            }\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        return Math.Max(max_sum, max_wrap + (k - 2) * curr_sum);",
    "        // kadane's algorithm\n        long max_so_far = 0;\n        long max_ending_here = 0;\n        for (long i = 0; i < n * k; i++) {\n            max_ending_here = max_ending_here + a[i % n];\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n        }\n        return max_so_far;",
    "        long max_sum = 0;\n        long max_prefix = 0;\n        long max_suffix = 0;\n        long curr_prefix = 0;\n        long curr_suffix = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            curr_prefix = Math.Max(curr_prefix + a[i], a[i]);\n            max_prefix = Math.Max(max_prefix, curr_prefix);\n            curr_suffix = Math.Max(curr_suffix + a[n - i - 1], a[n - i - 1]);\n            max_suffix = Math.Max(max_suffix, curr_suffix);\n        }\n        max_sum = Math.Max(max_prefix + max_suffix, max_sum);\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_val = 0;\n        for (int i = 0; i < n; i++) {\n            max_val = Math.Max(max_val, a[i]);\n        }\n        if (max_val <= 0) {\n            return max_val * k;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            max_wrap = Math.Max(0, max_wrap);\n        }\n        return Math.Max(max_sum, max_wrap + (k - 2) * sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_sum_so_far = 0;\n        long max_sum_ending_here = 0;\n        long max_element = 0;\n        long min_element = 0;\n        long min_sum_ending_here = 0;\n        long min_sum_so_far = 0;\n        long curr_sum_ending_here = 0;\n        long curr_sum_so_far = 0;\n        for (long i = 0; i < n; i++) {\n            max_sum_ending_here += a[(int)i];\n            min_sum_ending_here += a[(int)i];\n            max_element = Math.Max(max_element, a[(int)i]);\n            min_element = Math.Min(min_element, a[(int)i]);\n            if (max_sum_ending_here < 0) {\n                max_sum_ending_here = 0;\n            }\n            if (min_sum_ending_here > 0) {\n                min_sum_ending_here = 0;\n            }\n            max_sum_so_far = Math.Max(max_sum_so_far, max_sum_ending_here);\n            min_sum_so_far = Math.Min(min_sum_so_far, min_sum_ending_here);\n        }\n        if (k == 1) {\n            return max_sum_so_far;\n        }\n        if (max_element <= 0) {\n            return max_element * k;\n        }\n        if (min_element >= 0) {\n            return min_element * k;\n        }\n        long total_sum = 0;\n        for (long i = 0; i < n; i++) {\n            total_sum += a[(int)i];\n        }\n        curr_sum = total_sum;\n        curr_sum_so_far = total_sum;\n        curr_sum_ending_here = total_sum;\n        for (long i = 2; i <= k; i++) {\n            curr_sum_ending_here = curr",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n        }\n        max_sum = max_so_far * k;\n        long curr_val = 0;\n        for (long i = 0; i < n; i++) {\n            curr_val = curr_val + a[(int)i];\n        }\n        if (curr_val > 0) {\n            max_sum = max_sum + (curr_val * (k - 2));\n        }\n        for (long i = 0; i < n; i++) {\n            curr_val = curr_val - a[(int)i];\n            max_ending_here = 0;\n            for (long j = i + 1; j < n; j++) {\n                max_ending_here = max_ending_here + a[(int)j];\n                if (max_ending_here < 0) {\n                    max_ending_here = 0;\n                }\n                if (max_so_far < max_ending_here) {\n                    max_so_far = max_ending_here;\n                }\n            }\n            max_sum = Math.Max(max_sum, max_so_far + curr_val);\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        for (int i = 0; i < n * k; i++) {\n            max_ending_here = max_ending_here + a[i % n];\n            if (max_sum < max_ending_here)\n                max_sum = max_ending_here;\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n        }\n        return max_sum;",
    "        long max_sum = 0;\n        long current_sum = 0;\n        for (long i = 0; i < n; i++) {\n            current_sum += a[(int)i];\n            if (current_sum < 0) {\n                current_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, current_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        long max_suffix_sum = 0;\n        long min_prefix_sum = 0;\n        for (long i = 0; i < n; i++) {\n            max_suffix_sum += a[(int)i];\n            max_suffix_sum = Math.Max(max_suffix_sum, 0);\n        }\n        for (long i = n - 1; i >= 0; i--) {\n            min_prefix_sum += a[(int)i];\n            min_prefix_sum = Math.Min(min_prefix_sum, 0);\n        }\n        long ans1 = max_wrap + max_suffix_sum;\n        long ans2 = max_wrap + min_prefix_sum;\n        long ans3 = max_wrap + max_suffix_sum + min_prefix_sum;\n        return Math.Max(ans1, Math.Max(ans2, Math.Max(ans3, max_sum)));",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long start = 0;\n        long end = 0;\n        long s = 0;\n        long i = 0;\n        for (i = 0; i < n * k; i++) {\n            max_ending_here += a[i % n];\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n                start = s;\n                end = i;\n            }\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n                s = i + 1;\n            }\n        }\n        long sum = 0;\n        for (i = start; i <= end; i++) {\n            sum += a[i % n];\n        }\n        return sum;",
    "        // Find the maximum sum subarray in the first part of the array\n        long max_sum = MaxSubArraySum(a, n);\n        // Find the maximum sum subarray in the second part of the array\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        max_wrap = max_wrap + MaxSubArraySum(a, n);\n        // Return the maximum of the two sums\n        return (max_wrap > max_sum) ? max_wrap : max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum > max_wrap) {\n                max_wrap = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        if (sum > 0) {\n            return Math.Max(max_sum, max_wrap + (k - 2) * sum);\n        } else {\n            return Math.Max(max_sum, max_wrap);\n        }",
    "        // Complete this function\n        long max_so_far = long.MinValue;\n        long max_ending_here = 0;\n        long max_element = long.MinValue;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            max_element = Math.Max(max_element, a[i]);\n            sum += a[i];\n            max_ending_here = Math.Max(a[i], max_ending_here + a[i]);\n            max_so_far = Math.Max(max_so_far, max_ending_here);\n        }\n        if (max_element <= 0) {\n            return max_element;\n        }\n        long max_sum_without_wrap = max_so_far;\n        long max_sum_with_wrap = max_so_far;\n        for (int i = 0; i < n; i++) {\n            max_ending_here = Math.Max(a[i], max_ending_here + a[i]);\n            max_sum_with_wrap = Math.Max(max_sum_with_wrap, max_ending_here);\n        }\n        max_sum_with_wrap = Math.Max(max_sum_with_wrap, max_sum_with_wrap + sum * (k - 2));\n        return Math.Max(max_sum_with_wrap, max_sum_without_wrap);",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        if (max_element < 0)\n            return max_element;\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_ending_here < 0)\n                max_ending_here = 0;\n            if (max_so_far < max_ending_here)\n                max_so_far = max_ending_here;\n        }\n        max_sum = max_so_far * k;\n        long curr_val = 0;\n        for (long i = 0; i < n; i++)\n            curr_val += a[(int)i];\n        max_sum = Math.Max(max_sum, curr_val);\n        return max_sum;",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = 0;\n        long min_element = 0;\n        long sum = 0;\n        long min_sum = 0;\n        long min_ending_here = 0;\n        long min_so_far = 0;\n        for (int i = 0; i < n; i++) {\n            max_ending_here += a[i];\n            min_ending_here += a[i];\n            if (max_ending_here > max_so_far) {\n                max_so_far = max_ending_here;\n            }\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            if (min_ending_here < min_so_far) {\n                min_so_far = min_ending_here;\n            }\n            if (min_ending_here > 0) {\n                min_ending_here = 0;\n            }\n            max_element = Math.Max(max_element, a[i]);\n            min_element = Math.Min(min_element, a[i]);\n            sum += a[i];\n        }\n        if (k == 1) {\n            return max_so_far;\n        }\n        max_sum = max_so_far;\n        min_sum = min_so_far;\n        for (int i = 2; i <= k; i++) {\n            if (max_sum < 0) {\n                max_sum = max_so_far;\n            } else {\n                max_sum = max_sum + sum;\n            }\n            max_sum = Math.Max(max_sum, max_so_far);\n        }\n        if (sum > 0) {\n            return max_sum;\n        }\n        for (int i = 2; i <= k; i++) {\n            if (min_sum > 0) {\n                min_sum = min_so_far;\n            } else {\n                min_sum = min_sum + sum;\n            }\n            min_sum = Math.Min(min_sum",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long start = 0;\n        long end = 0;\n        long s = 0;\n        for (int i = 0; i < n * k; i++) {\n            max_ending_here += a[i % n];\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n                start = s;\n                end = i;\n            }\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n                s = i + 1;\n            }\n        }\n        long max_wrap = 0;\n        long curr_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            curr_wrap += a[i];\n            if (curr_wrap < 0) {\n                curr_wrap = 0;\n            }\n            max_wrap = Math.Max(max_wrap, curr_wrap);\n        }\n        max_sum = Math.Max(max_so_far, max_wrap + (k - 2) * curr_wrap);\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_elem = a.Max();\n        long max_elem_sum = max_elem * k;\n        if (max_elem_sum > 0) {\n            max_sum = max_elem_sum;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap * (k - 2);\n        return Math.Max(max_sum, max_wrap);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_ending_here = 0;\n        long min_ending_here = 0;\n        long min_sum = 0;\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n            max_ending_here += a[i];\n            if (max_ending_here > max_sum) {\n                max_sum = max_ending_here;\n            }\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n            min_ending_here += a[i];\n            if (min_ending_here < min_sum) {\n                min_sum = min_ending_here;\n            }\n            if (min_ending_here > 0) {\n                min_ending_here = 0;\n            }\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = sum - min_sum;\n        if (max_wrap > 0) {\n            return Math.Max(max_wrap, max_sum + (k - 2) * sum);\n        }\n        return max_sum;",
    "        // Find the maximum sum of the original array.\n        long max_so_far = long.MinValue;\n        long max_ending_here = 0;\n        for (long i = 0; i < n; i++) {\n            max_ending_here = max_ending_here + a[(int)i];\n            if (max_so_far < max_ending_here) {\n                max_so_far = max_ending_here;\n            }\n            if (max_ending_here < 0) {\n                max_ending_here = 0;\n            }\n        }\n        // Find the maximum sum of the repeated array.\n        long max_sum = max_so_far;\n        long curr_max = max_so_far;\n        for (long i = 0; i < n; i++) {\n            curr_max = curr_max + a[(int)i];\n            max_sum = Math.Max(max_sum, curr_max);\n            if (curr_max < 0) {\n                curr_max = 0;\n            }\n        }\n        // Find the maximum sum of the repeated array with the maximum sum of the original array.\n        max_sum = Math.Max(max_sum, curr_max + (k - 2) * max_so_far);\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long total_sum = 0;\n        for (int i = 0; i < n; i++) {\n            total_sum += a[i];\n            max_prefix_sum = Math.Max(max_prefix_sum, total_sum);\n        }\n        total_sum = 0;\n        for (int i = n - 1; i >= 0; i--) {\n            total_sum += a[i];\n            max_suffix_sum = Math.Max(max_suffix_sum, total_sum);\n        }\n        long ans1 = max_prefix_sum + max_suffix_sum;\n        long ans2 = total_sum * (k - 2);\n        long ans3 = total_sum + max_sum;\n        return Math.Max(ans1, Math.Max(ans2, ans3));",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = 0;\n        long sum_of_all_elements = 0;\n        for (int i = 0; i < n; i++) {\n            max_element = Math.Max(max_element, a[i]);\n            sum_of_all_elements += a[i];\n            curr_sum += a[i];\n            if (curr_sum < 0)\n                curr_sum = 0;\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1)\n            return max_sum;\n        if (max_element <= 0)\n            return max_element;\n        long max_prefix_sum = 0;\n        long curr_prefix_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_prefix_sum += a[i];\n            max_prefix_sum = Math.Max(max_prefix_sum, curr_prefix_sum);\n        }\n        long max_suffix_sum = 0;\n        long curr_suffix_sum = 0;\n        for (int i = n - 1; i >= 0; i--) {\n            curr_suffix_sum += a[i];\n            max_suffix_sum = Math.Max(max_suffix_sum, curr_suffix_sum);\n        }\n        long ans = Math.Max(max_sum, max_prefix_sum + max_suffix_sum);\n        if (k == 2)\n            return ans;\n        return Math.Max(ans, max_prefix_sum + max_suffix_sum + (k - 2) * sum_of_all_elements);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_sum_so_far = 0;\n        long max_sum_ending_here = 0;\n        long max_element = a[0];\n        long min_element = a[0];\n        for (long i = 0; i < n; i++) {\n            if (a[i] > max_element) {\n                max_element = a[i];\n            }\n            if (a[i] < min_element) {\n                min_element = a[i];\n            }\n            max_sum_ending_here += a[i];\n            if (max_sum_ending_here < 0) {\n                max_sum_ending_here = 0;\n            }\n            if (max_sum_so_far < max_sum_ending_here) {\n                max_sum_so_far = max_sum_ending_here;\n            }\n        }\n        if (max_sum_so_far == 0) {\n            return max_element * k;\n        }\n        long sum = 0;\n        for (long i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        max_sum = max_sum_so_far;\n        max_sum = max(max_sum, (max_sum_so_far + (k - 2) * sum));\n        max_sum = max(max_sum, (max_sum_so_far + (k - 2) * sum + max_element));\n        max_sum = max(max_sum, (max_sum_so_far + (k - 2) * sum + min_element));\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum > max_sum) {\n                max_sum = curr_sum;\n            }\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            max_wrap += a[i];\n            a[i] = -a[i];\n        }\n        long curr_wrap = 0;\n        for (int i = 0; i < n; i++) {\n            curr_wrap += a[i];\n            if (curr_wrap > max_wrap) {\n                max_wrap = curr_wrap;\n            }\n            if (curr_wrap < 0) {\n                curr_wrap = 0;\n            }\n        }\n        max_wrap = max_wrap * k;\n        return Math.Max(max_sum, max_wrap);",
    "        long max_sum = 0;\n        long current_sum = 0;\n        for (int i = 0; i < n; i++) {\n            current_sum += a[i];\n            if (current_sum < 0)\n                current_sum = 0;\n            max_sum = Math.Max(max_sum, current_sum);\n        }\n        if (k == 1)\n            return max_sum;\n        long max_prefix_sum = 0;\n        long min_prefix_sum = 0;\n        long total_sum = 0;\n        for (int i = 0; i < n; i++) {\n            total_sum += a[i];\n            max_prefix_sum = Math.Max(max_prefix_sum, total_sum);\n            min_prefix_sum = Math.Min(min_prefix_sum, total_sum);\n        }\n        long max_suffix_sum = 0;\n        long min_suffix_sum = 0;\n        total_sum = 0;\n        for (int i = n - 1; i >= 0; i--) {\n            total_sum += a[i];\n            max_suffix_sum = Math.Max(max_suffix_sum, total_sum);\n            min_suffix_sum = Math.Min(min_suffix_sum, total_sum);\n        }\n        long ans1 = max_sum;\n        long ans2 = Math.Max(max_prefix_sum + (k - 2) * total_sum + max_suffix_sum, max_suffix_sum + (k - 2) * total_sum + max_prefix_sum);\n        long ans3 = Math.Max(max_sum, max_prefix_sum + max_suffix_sum);\n        long ans4 = Math.Max(ans2, max_prefix_sum + min_suffix_sum);\n        long ans5 = Math.Max(ans4, min_prefix_sum + max_suffix_sum);\n        return Math.Max(ans1, ans5);",
    "        long max_sum = 0;\n        long max_prefix = 0;\n        long max_suffix = 0;\n        long sum = 0;\n        long curr_prefix = 0;\n        long curr_suffix = 0;\n        for (long i = 0; i < n; i++) {\n            sum += a[(int)i];\n            curr_prefix = Math.Max(curr_prefix, sum);\n            max_prefix = Math.Max(max_prefix, curr_prefix);\n        }\n        sum = 0;\n        for (long i = n - 1; i >= 0; i--) {\n            sum += a[(int)i];\n            curr_suffix = Math.Max(curr_suffix, sum);\n            max_suffix = Math.Max(max_suffix, curr_suffix);\n        }\n        long total_sum = 0;\n        for (long i = 0; i < n; i++) {\n            total_sum += a[(int)i];\n        }\n        max_sum = Math.Max(max_prefix + max_suffix, max_sum);\n        max_sum = Math.Max(max_sum, max_prefix + max_suffix + (k - 2) * total_sum);\n        return max_sum;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        for (int i = 0; i < n; i++) {\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        if (k == 1) {\n            return max_sum;\n        }\n        long max_prefix_sum = 0;\n        long max_suffix_sum = 0;\n        long total_sum = 0;\n        for (int i = 0; i < n; i++) {\n            max_prefix_sum += a[i];\n            max_prefix_sum = Math.Max(max_prefix_sum, 0);\n        }\n        for (int i = n - 1; i >= 0; i--) {\n            max_suffix_sum += a[i];\n            max_suffix_sum = Math.Max(max_suffix_sum, 0);\n        }\n        for (int i = 0; i < n; i++) {\n            total_sum += a[i];\n        }\n        long ans = Math.Max(max_sum, max_prefix_sum + max_suffix_sum + (k - 2) * total_sum);\n        return ans;",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0) {\n            return max_element;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        long curr_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            curr_wrap += a[(int)i];\n            if (curr_wrap < 0) {\n                curr_wrap = 0;\n            }\n            max_wrap = Math.Max(max_wrap, curr_wrap);\n        }\n        max_wrap = Math.Max(max_wrap, 0);\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_element = a.Max();\n        if (max_element < 0)\n            return max_element;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0)\n                curr_sum = 0;\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            a[(int)i] = -a[(int)i];\n        }\n        curr_sum = 0;\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0)\n                curr_sum = 0;\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap + curr_sum;\n        if (k == 1)\n            return max_sum;\n        return Math.Max(max_sum, max_wrap * (k - 2) + max_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_sum_so_far = 0;\n        long max_sum_ending_here = 0;\n        long max_element = a.Max();\n        long sum = a.Sum();\n        if (k == 1) {\n            return max_sum_ending_here;\n        }\n        if (max_element < 0) {\n            return max_element;\n        }\n        if (sum > 0) {\n            max_sum = sum * k;\n            return max_sum;\n        }\n        for (long i = 0; i < n; i++) {\n            max_sum_ending_here = max_sum_ending_here + a[(int)i];\n            if (max_sum_ending_here < 0) {\n                max_sum_ending_here = 0;\n            }\n            if (max_sum_so_far < max_sum_ending_here) {\n                max_sum_so_far = max_sum_ending_here;\n            }\n        }\n        max_sum = max_sum_so_far;\n        curr_sum = (max_sum_so_far * (k - 2)) + sum;\n        return Math.Max(max_sum, curr_sum);",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_elem = a.Max();\n        long max_elem_sum = max_elem * k;\n        if (max_elem_sum > 0) {\n            max_sum = max_elem_sum;\n        }\n        for (long i = 0; i < n; i++) {\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long max_wrap = 0;\n        for (long i = 0; i < n; i++) {\n            max_wrap += a[(int)i];\n            curr_sum += a[(int)i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        max_wrap = max_wrap * (k - 2);\n        return Math.Max(max_sum, max_wrap);",
    "        long max_sum = 0;\n        long max_ending_here = 0;\n        long max_so_far = 0;\n        long max_element = a.Max();\n        long sum = 0;\n        for (int i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        if (k == 1) {\n            return MaxSubArraySum(a, n);\n        }\n        else if (k == 2) {\n            max_sum = MaxSubArraySum(a, n);\n            for (int i = 0; i < n; i++) {\n                a[i] = -a[i];\n            }\n            max_sum = Math.Max(max_sum, MaxSubArraySum(a, n));\n            return max_sum;\n        }\n        else {\n            max_sum = MaxSubArraySum(a, n);\n            max_so_far = max_sum;\n            for (int i = 2; i < k; i++) {\n                max_so_far = Math.Max(max_so_far, max_sum + MaxSubArraySum(a, n));\n                max_sum += sum;\n            }\n            return max_so_far;\n        }",
    "        long max_sum = 0;\n        long curr_sum = 0;\n        long max_sum_so_far = 0;\n        long curr_sum_so_far = 0;\n        long max_element = 0;\n        long min_element = 0;\n        for (int i = 0; i < n; i++) {\n            max_element = Math.Max(max_element, a[i]);\n            min_element = Math.Min(min_element, a[i]);\n            max_sum_so_far += a[i];\n            curr_sum_so_far += a[i];\n            if (curr_sum_so_far < 0) {\n                curr_sum_so_far = 0;\n            }\n            max_sum_so_far = Math.Max(max_sum_so_far, curr_sum_so_far);\n        }\n        if (k == 1) {\n            return max_sum_so_far;\n        }\n        if (max_element < 0) {\n            return max_element;\n        }\n        if (min_element > 0) {\n            return max_sum_so_far * k;\n        }\n        long total_sum = 0;\n        for (int i = 0; i < n; i++) {\n            total_sum += a[i];\n            curr_sum += a[i];\n            if (curr_sum < 0) {\n                curr_sum = 0;\n            }\n            max_sum = Math.Max(max_sum, curr_sum);\n        }\n        long ans = max_sum;\n        long suffix_sum = 0;\n        long prefix_sum = 0;\n        for (int i = 0; i < n; i++) {\n            suffix_sum += a[i];\n            prefix_sum += a[n - i - 1];\n            max_sum = Math.Max(max_sum, suffix_sum);\n            max_sum = Math.Max(max_sum, prefix_sum);\n        }\n        ans = Math.Max(ans, max_sum);\n        ans = Math.Max(ans, total_sum * (k - 2"
  ]
}