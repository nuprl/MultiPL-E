{
  "name": "mbpp_286_max_sub_array_sum_repeated",
  "language": "cpp",
  "prompt": "#include<assert.h>\n#include<bits/stdc++.h>\n// Write a function to find the largest sum of a contiguous array in the modified array which is formed by repeating the given array k times.\nlong max_sub_array_sum_repeated(std::vector<long> a, long n, long k) {\n",
  "doctests": "keep",
  "original": "/home/arjun/repos/MultiPL-E/datasets/../datasets/mbpp-typed/mbpp_286_max_sub_array_sum_repeated.py",
  "prompt_terminology": "verbatim",
  "tests": "}\nint main() {\n    auto candidate = max_sub_array_sum_repeated;\n    assert(candidate((std::vector<long>({(long)10, (long)20, (long)-30, (long)-1})), (4), (3)) == (30));\n    assert(candidate((std::vector<long>({(long)-1, (long)10, (long)20})), (3), (2)) == (59));\n    assert(candidate((std::vector<long>({(long)-1, (long)-2, (long)-3})), (3), (3)) == (-1));\n}\n",
  "stop_tokens": [
    "\n}"
  ],
  "completions": [
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if (k == 1) {\n        return max_sum;\n    }\n    long max_prefix_sum = 0;\n    long max_suffix_sum = 0;\n    long total_sum = 0;\n    for (long i = 0; i < n; i++) {\n        max_prefix_sum += a[i];\n        max_prefix_sum = std::max(max_prefix_sum, 0L);\n    }\n    for (long i = n - 1; i >= 0; i--) {\n        max_suffix_sum += a[i];\n        max_suffix_sum = std::max(max_suffix_sum, 0L);\n    }\n    for (long i = 0; i < n; i++) {\n        total_sum += a[i];\n    }\n    long ans = std::max(max_sum, max_prefix_sum + max_suffix_sum + (k - 2) * total_sum);\n    return ans;",
    "    long max_sum = 0;\n    long max_sum_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_sum_so_far += a[i];\n        if (max_sum_so_far < 0) {\n            max_sum_so_far = 0;\n        }\n        max_sum = std::max(max_sum, max_sum_so_far);\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = std::max(max_sum, sum * (k - 2) + max_sum_so_far);\n    return ans;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if(k == 1) {\n        return max_sum;\n    }\n    long max_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long min_wrap = 0;\n    curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum > 0) {\n            curr_sum = 0;\n        }\n        min_wrap = std::min(min_wrap, curr_sum);\n    }\n    min_wrap = std::abs(min_wrap);\n    long ans = std::max(max_sum, max_wrap + min_wrap);\n    return ans;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n        if (max_sum < max_ending_here)\n            max_sum = max_ending_here;\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long max_ending_here_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here_wrap = max_ending_here_wrap + a[i];\n        if (max_ending_here_wrap < 0)\n            max_ending_here_wrap = 0;\n        if (max_wrap < max_ending_here_wrap)\n            max_wrap = max_ending_here_wrap;\n    }\n    max_wrap = max_wrap + max_wrap;\n    if (k == 1)\n        return max_sum;\n    else if (k == 2)\n        return max_wrap > max_sum ? max_wrap : max_sum;\n    else\n        return max_wrap > max_sum ? max_wrap : max_sum;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if(max_element < 0) {\n        return max_element;\n    }\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = std::max(max_sum, sum * (k - 2) + curr_sum);\n    return ans;",
    "    // Write your code here\n    long max_so_far = INT_MIN, max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n    }\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        max_ending_here = max_ending_here + a[i];\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n    }\n    max_wrap = max_wrap * k;\n    max_wrap = max_wrap - sum;\n    return std::max(max_so_far, max_wrap);",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if (max_element <= 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    return std::max(max_so_far, sum * k - max_so_far);",
    "    long max_sum = 0, max_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_sum += a[i];\n        max_so_far = std::max(max_so_far, max_sum);\n        if(max_sum < 0) {\n            max_sum = 0;\n        }\n    }\n    long max_wrap = 0, sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_sum = 0;\n    for(long i = 0; i < n; i++) {\n        max_sum += a[i];\n        max_so_far = std::max(max_so_far, max_sum);\n        if(max_sum < 0) {\n            max_sum = 0;\n        }\n    }\n    max_wrap += max_sum;\n    if(k == 1) {\n        return max_so_far;\n    }\n    if(max_wrap > 0) {\n        return std::max(max_so_far, max_wrap * (k - 2) + sum);\n    }\n    return std::max(max_so_far, max_wrap);",
    "    long max_sum = 0;\n    for (long i = 0; i < n; i++) {\n        long sum = 0;\n        for (long j = i; j < n; j++) {\n            sum += a[j];\n            max_sum = std::max(max_sum, sum);\n        }\n    }\n    return max_sum * k;",
    "    long max_sum = 0;\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        max_sum = std::max(max_sum, sum);\n    }\n    long max_sum_of_all_subarrays = max_sum;\n    long max_prefix_sum = 0;\n    long max_suffix_sum = 0;\n    for(long i = 0; i < n; i++) {\n        max_prefix_sum += a[i];\n        max_sum_of_all_subarrays = std::max(max_sum_of_all_subarrays, max_prefix_sum);\n    }\n    for(long i = n - 1; i >= 0; i--) {\n        max_suffix_sum += a[i];\n        max_sum_of_all_subarrays = std::max(max_sum_of_all_subarrays, max_suffix_sum);\n    }\n    long total_sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = std::max(max_sum_of_all_subarrays, total_sum * k);\n    if(total_sum > 0) {\n        ans = std::max(ans, max_sum_of_all_subarrays + (total_sum * (k - 2)));\n    }\n    return ans;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if(max_element < 0) {\n        return max_element * k;\n    }\n    for(long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        max_sum = std::max(max_sum, max_so_far);\n    }\n    return max_sum * k;",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    return std::max(max_so_far, max_wrap * k);",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if(k == 1) {\n        return max_sum;\n    }\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    long min_sum = 0;\n    curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum > 0) {\n            curr_sum = 0;\n        }\n        min_sum = std::min(min_sum, curr_sum);\n    }\n    long ans = 0;\n    if(k % 2 == 0) {\n        ans = std::max(max_sum, sum + min_sum * (k - 2));\n    } else {\n        ans = std::max(max_sum, sum + min_sum * (k - 1));\n    }\n    return ans;",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if (max_element <= 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    if (max_wrap > max_so_far) {\n        max_so_far = max_wrap;\n    }\n    return max_so_far + (k - 2) * sum;",
    "    long max_sum = 0;\n    for(long i = 0; i < n; i++) {\n        long sum = 0;\n        for(long j = i; j < n; j++) {\n            sum += a[j];\n            max_sum = std::max(max_sum, sum);\n        }\n    }\n    return max_sum * k;",
    "    long sum = 0;\n    long max_sum = 0;\n    long max_sum_so_far = 0;\n    long max_sum_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        max_sum_ending_here += a[i];\n        if (max_sum_ending_here < 0) {\n            max_sum_ending_here = 0;\n        }\n        if (max_sum_so_far < max_sum_ending_here) {\n            max_sum_so_far = max_sum_ending_here;\n        }\n    }\n    max_sum = max_sum_so_far;\n    if (sum > 0) {\n        max_sum += (k - 2) * sum;\n    }\n    for (long i = 0; i < n; i++) {\n        max_sum_ending_here += a[i];\n        if (max_sum_ending_here < 0) {\n            max_sum_ending_here = 0;\n        }\n        if (max_sum_so_far < max_sum_ending_here) {\n            max_sum_so_far = max_sum_ending_here;\n        }\n    }\n    max_sum = std::max(max_sum, max_sum_so_far);\n    return max_sum;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if(max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    long min_sum = 0;\n    long min_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        min_so_far += a[i];\n        if(min_so_far > 0) {\n            min_so_far = 0;\n        }\n        if(min_sum > min_so_far) {\n            min_sum = min_so_far;\n        }\n    }\n    if(k == 1) {\n        return max_sum;\n    }\n    if(sum > 0) {\n        return std::max(max_sum, sum * (k - 2) + max_sum);\n    } else {\n        return std::max(max_sum, sum * (k - 2) + max_sum - min_sum);\n    }",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n    }\n    max_sum = max_so_far * k;\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_so_far = 0;\n    max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n    }\n    max_wrap = max_wrap + max_so_far;\n    return (max_wrap > max_sum) ? max_wrap : max_sum;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if(max_element <= 0) {\n        return max_element * k;\n    }\n    for(long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if(max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_sum + (k - 2) * sum;\n    return std::max(ans, max_sum);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far;\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    max_ending_here = 0;\n    max_so_far = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = std::max(max_sum, sum + max_so_far);\n    if (k == 1) {\n        return max_sum;\n    }\n    long sum_total = sum * (k - 2);\n    sum_total += max_sum;\n    return sum_total;",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if (max_element <= 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    return std::max(max_wrap, max_so_far + (k - 2) * sum);",
    "    long sum = 0;\n    for (int i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long max_sum = sum;\n    for (int i = 0; i < n; i++) {\n        sum += k * a[i];\n        max_sum = std::max(max_sum, sum);\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        max_sum = std::max(max_sum, max_so_far);\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long min_so_far = 0;\n    long min_sum = 0;\n    for (long i = 0; i < n; i++) {\n        min_so_far += a[i];\n        if (min_so_far > 0) {\n            min_so_far = 0;\n        }\n        min_sum = std::min(min_sum, min_so_far);\n    }\n    long total_sum = std::accumulate(a.begin(), a.end(), 0);\n    max_wrap = max_wrap + total_sum * (k - 2);\n    return std::max(max_sum, max_wrap);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_ending_here = 0;\n    long i = 0;\n    long j = 0;\n    long sum = 0;\n    for (i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    for (i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far;\n    if (sum > 0) {\n        max_sum += sum * (k - 2);\n    }\n    for (i = 0; i < n; i++) {\n        max_ending_here = 0;\n        for (j = i; j < n; j++) {\n            max_ending_here += a[j];\n            if (max_ending_here > max_sum) {\n                max_sum = max_ending_here;\n            }\n        }\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if(k == 1) {\n        return max_sum;\n    }\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    long min_sum = 0;\n    curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum > 0) {\n            curr_sum = 0;\n        }\n        min_sum = std::min(min_sum, curr_sum);\n    }\n    long ans = std::max(max_sum, sum * (k - 2) + max_sum);\n    return std::max(ans, sum * (k - 2) + max_sum - min_sum);",
    "    long max_sum = 0;\n    long max_prefix_sum = 0;\n    long max_suffix_sum = 0;\n    long sum = 0;\n    long prefix_sum = 0;\n    long suffix_sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        max_sum = std::max(max_sum, sum);\n        max_prefix_sum = std::max(max_prefix_sum, prefix_sum + a[i]);\n        max_suffix_sum = std::max(max_suffix_sum, suffix_sum + a[i]);\n        prefix_sum += a[i];\n        suffix_sum += a[i];\n    }\n    max_sum = std::max(max_sum, max_prefix_sum + (k - 2) * sum + max_suffix_sum);\n    return max_sum;",
    "    long max_sum = 0;\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        if (sum < 0) {\n            sum = 0;\n        }\n        max_sum = std::max(max_sum, sum);\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long min_wrap = 0;\n    sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        if (sum > 0) {\n            sum = 0;\n        }\n        min_wrap = std::min(min_wrap, sum);\n    }\n    min_wrap = -min_wrap;\n    long ans = std::max(max_sum, max_wrap + min_wrap);\n    if (k == 1) {\n        return ans;\n    }\n    return std::max(ans, max_wrap + min_wrap + (k - 2) * max_wrap);",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    long max_so_far = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n    }\n    max_sum = max_so_far * k;\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n    }\n    max_wrap = max_wrap + max_so_far;\n    if (max_wrap > max_sum)\n        max_sum = max_wrap;\n    return max_sum;",
    "    long max_so_far = 0, max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    if (max_wrap > max_so_far)\n        max_so_far = max_wrap;\n    return max_so_far * k;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long max_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long curr_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        curr_wrap += a[i];\n        if(curr_wrap < 0) {\n            curr_wrap = 0;\n        }\n        max_wrap = std::max(max_wrap, curr_wrap);\n    }\n    max_wrap = std::max(max_wrap, 0l);\n    return std::max(max_sum, max_wrap * (k - 2) + max_sum);",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap = max_wrap + a[i];\n        a[i] = -a[i];\n    }\n    long max_ending_here_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here_wrap = max_ending_here_wrap + a[i];\n        if(max_ending_here_wrap < 0) {\n            max_ending_here_wrap = 0;\n        }\n        if(max_wrap < max_ending_here_wrap) {\n            max_wrap = max_ending_here_wrap;\n        }\n    }\n    max_wrap = max_wrap + max_wrap;\n    if(k == 1) {\n        return max_so_far;\n    }\n    else {\n        return std::max(max_so_far, max_wrap);\n    }",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far * k;\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long max_wrap = sum * k;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i] * (k - 1);\n        if (max_wrap > max_sum) {\n            max_sum = max_wrap;\n        }\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    max_wrap = max_wrap + curr_sum;\n    if (k == 1) {\n        return max_sum;\n    }\n    return std::max(max_sum, max_wrap);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_sum + (k - 2) * sum;\n    return ans;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_ending_here = 0;\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        max_ending_here += a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far;\n    if(sum > 0) {\n        max_sum = max_so_far + (sum * (k - 2));\n    }\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        max_ending_here += a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    if(sum > 0) {\n        max_sum = std::max(max_sum, max_so_far);\n    }\n    return max_sum;",
    "    long sum = 0;\n    long max_sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        if (sum < 0) {\n            sum = 0;\n        }\n        max_sum = std::max(max_sum, sum);\n    }\n    if (k == 1) {\n        return max_sum;\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long max_wrap_sum = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap_sum += a[i];\n        if (max_wrap_sum < 0) {\n            max_wrap_sum = 0;\n        }\n        max_wrap = std::max(max_wrap, max_wrap_sum);\n    }\n    max_wrap = std::max(max_wrap, max_wrap_sum);\n    return std::max(max_sum, max_wrap + (k - 2) * max_wrap);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element <= 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far;\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if (sum > 0) {\n        max_sum += sum * (k - 2);\n    }\n    for (long i = 0; i < n; i++) {\n        sum = sum - a[i];\n        max_ending_here = max_ending_here - a[i];\n        max_ending_here = std::max(a[i], max_ending_here);\n        max_so_far = std::max(max_so_far, max_ending_here);\n        max_sum = std::max(max_sum, max_so_far);\n        max_sum = std::max(max_sum, sum + max_so_far);\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum > max_sum) {\n            max_sum = curr_sum;\n        }\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n    }\n    long max_wrap_sum = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap_sum += a[i];\n        a[i] = -a[i];\n    }\n    curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum > max_sum) {\n            max_sum = curr_sum;\n        }\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n    }\n    max_wrap_sum = max_wrap_sum + max_wrap_sum;\n    if (max_wrap_sum > max_sum && k > 1) {\n        max_sum = max_wrap_sum;\n    }\n    return max_sum;",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = INT_MIN;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        max_element = std::max(max_element, a[i]);\n    }\n    if (max_so_far == 0) {\n        return max_element;\n    }\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long max_wrap = sum * k;\n    long max_wrap_sum = 0;\n    long max_wrap_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap_ending_here += a[i];\n        if (max_wrap_ending_here < 0) {\n            max_wrap_ending_here = 0;\n        }\n        if (max_wrap_sum < max_wrap_ending_here) {\n            max_wrap_sum = max_wrap_ending_here;\n        }\n    }\n    return std::max(max_wrap_sum + max_so_far, max_wrap);",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_wrap = max_wrap + max_so_far;\n    if (k == 1) {\n        return max_so_far;\n    }\n    return std::max(max_wrap, max_so_far);",
    "    long max_sum = 0;\n    for(int i = 0; i < n; i++) {\n        long sum = 0;\n        for(int j = i; j < n; j++) {\n            sum += a[j];\n            if(sum > max_sum) {\n                max_sum = sum;\n            }\n        }\n    }\n    return max_sum * k;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_sum + (k - 2) * sum;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    return std::max(ans, max_sum);",
    "    long max_so_far = 0, max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    if (max_wrap > max_so_far)\n        max_so_far = max_wrap;\n    return max_so_far * k;",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    return std::max(max_so_far, (max_so_far + sum * (k - 2)));",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    long max_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far;\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    max_ending_here = 0;\n    max_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_sum + sum + max_so_far;\n    if(k == 1) {\n        return max_sum;\n    }\n    long min_sum = 0;\n    long min_ending_here = 0;\n    long min_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        min_ending_here += a[i];\n        if(min_ending_here > 0) {\n            min_ending_here = 0;\n        }\n        if(min_so_far > min_ending_here) {\n            min_so_far = min_ending_here;\n        }\n    }\n    min_sum = min_so_far;\n    sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    min_ending",
    "    long max_sum = 0;\n    long max_sum_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element <= 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_sum_so_far += a[i];\n        if (max_sum_so_far < 0) {\n            max_sum_so_far = 0;\n        }\n        max_sum = std::max(max_sum, max_sum_so_far);\n    }\n    long max_wrap_sum = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap_sum += a[i];\n        a[i] = -a[i];\n    }\n    long min_sum = 0;\n    long min_sum_so_far = 0;\n    for (long i = 0; i < n; i++) {\n        min_sum_so_far += a[i];\n        if (min_sum_so_far > 0) {\n            min_sum_so_far = 0;\n        }\n        min_sum = std::min(min_sum, min_sum_so_far);\n    }\n    return std::max(max_sum, max_wrap_sum + min_sum);",
    "    long max_sum = 0;\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        max_sum = std::max(max_sum, sum);\n    }\n    long max_sum_k = sum * k;\n    long max_sum_prefix = 0;\n    long max_sum_suffix = 0;\n    sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        max_sum_prefix = std::max(max_sum_prefix, sum);\n    }\n    sum = 0;\n    for (long i = n - 1; i >= 0; i--) {\n        sum += a[i];\n        max_sum_suffix = std::max(max_sum_suffix, sum);\n    }\n    long max_sum_middle = max_sum_prefix + max_sum_suffix;\n    return std::max(max_sum, std::max(max_sum_k, max_sum_middle));",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    max_wrap = max_wrap + curr_sum;\n    if (k == 1) {\n        return max_sum;\n    }\n    return std::max(max_sum, max_wrap);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    long sum_of_all_elements = std::accumulate(a.begin(), a.end(), 0);\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    max_sum = std::max(max_sum, max_so_far);\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        max_so_far += a[i];\n        max_so_far = std::max(max_so_far, 0);\n        max_sum = std::max(max_sum, max_so_far);\n    }\n    max_sum = std::max(max_sum, max_wrap * (k - 2));\n    return (max_sum + sum_of_all_elements * (k - 2)) / (k - 1);",
    "    // Write your code here\n    long max_sum = 0;\n    long sum = 0;\n    for(int i = 0; i < n; i++){\n        sum += a[i];\n        max_sum = std::max(max_sum, sum);\n    }\n    long max_sum_all = sum * k;\n    long prefix_sum = 0;\n    long suffix_sum = 0;\n    for(int i = 0; i < n; i++){\n        prefix_sum += a[i];\n        max_sum_all = std::max(max_sum_all, prefix_sum);\n    }\n    for(int i = n - 1; i >= 0; i--){\n        suffix_sum += a[i];\n        max_sum_all = std::max(max_sum_all, suffix_sum);\n    }\n    return max_sum_all;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long sum = 0;\n    long i = 0;\n    while(i < n) {\n        max_so_far = max_so_far + a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if(max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n        i++;\n    }\n    sum = max_sum;\n    for(long i = 0; i < n; i++) {\n        sum = sum + a[i];\n    }\n    if(sum > 0) {\n        max_sum = max_sum + (k - 2) * sum;\n    }\n    for(long i = 0; i < n; i++) {\n        sum = sum - a[i];\n        max_so_far = max_so_far + a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if(max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    long min_sum = 0;\n    long min_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        min_ending_here = min_ending_here + a[i];\n        if (min_ending_here > 0) {\n            min_ending_here = 0;\n        }\n        if (min_sum > min_ending_here) {\n            min_sum = min_ending_here;\n        }\n    }\n    long ans1 = max_sum;\n    long ans2 = sum + min_sum;\n    long ans3 = sum + min_sum;\n    if (k == 1) {\n        return ans1;\n    }\n    if (k == 2) {\n        return max(ans1, ans2);\n    }\n    return max(ans1, ans3);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element <= 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far;\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    max_so_far = 0;\n    max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = std::max(max_sum, sum + max_so_far);\n    return max_sum * k;",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    for (int i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for (int i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, k);\n    if (max_wrap > max_so_far) {\n        max_so_far = max_wrap;\n    }\n    return max_so_far;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if (k == 1) {\n        return max_sum;\n    }\n    long max_prefix_sum = 0;\n    long max_suffix_sum = 0;\n    long total_sum = 0;\n    curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        max_prefix_sum = std::max(max_prefix_sum, curr_sum);\n    }\n    curr_sum = 0;\n    for (long i = n - 1; i >= 0; i--) {\n        curr_sum += a[i];\n        max_suffix_sum = std::max(max_suffix_sum, curr_sum);\n    }\n    for (long i = 0; i < n; i++) {\n        total_sum += a[i];\n    }\n    long ans = std::max(max_sum, std::max(max_prefix_sum + max_suffix_sum + (k - 2) * total_sum, max_prefix_sum + max_suffix_sum));\n    return ans;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_so_far = max_so_far + a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        max_sum = std::max(max_sum, max_so_far);\n    }\n    long max_prefix_sum = 0;\n    long max_suffix_sum = 0;\n    long prefix_sum = 0;\n    long suffix_sum = 0;\n    for(long i = 0; i < n; i++) {\n        prefix_sum = prefix_sum + a[i];\n        max_prefix_sum = std::max(max_prefix_sum, prefix_sum);\n    }\n    for(long i = n - 1; i >= 0; i--) {\n        suffix_sum = suffix_sum + a[i];\n        max_suffix_sum = std::max(max_suffix_sum, suffix_sum);\n    }\n    long total_sum = 0;\n    for(long i = 0; i < n; i++) {\n        total_sum = total_sum + a[i];\n    }\n    long ans = std::max(max_sum, max_prefix_sum + max_suffix_sum + (k - 2) * total_sum);\n    return ans;",
    "    // Write your code here\n    long sum = 0;\n    for(int i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long max_sum = sum;\n    for(int i = 0; i < n; i++) {\n        sum = sum - a[i] + a[i] * k;\n        max_sum = std::max(max_sum, sum);\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_sum + (k - 2) * sum;\n    return std::max(ans, max_sum);",
    "    long max_sum = 0;\n    for (long i = 0; i < n; i++) {\n        long sum = 0;\n        for (long j = i; j < n; j++) {\n            sum += a[j];\n            max_sum = std::max(max_sum, sum);\n        }\n    }\n    return max_sum * k;",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if (max_element <= 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    if (max_wrap > max_so_far) {\n        max_so_far = max_wrap;\n    }\n    return std::max(max_so_far, sum * k);",
    "    long max_sum = 0, max_sum_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_sum_so_far += a[i];\n        if(max_sum_so_far < 0) {\n            max_sum_so_far = 0;\n        }\n        max_sum = std::max(max_sum, max_sum_so_far);\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if(sum > 0) {\n        max_sum = std::max(max_sum, sum * k);\n    }\n    else {\n        max_sum = std::max(max_sum, *std::max_element(a.begin(), a.end()));\n    }\n    return max_sum;",
    "    long max_sum = INT_MIN;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum > max_sum) {\n            max_sum = curr_sum;\n        }\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum > max_sum) {\n            max_sum = curr_sum;\n        }\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n    }\n    max_wrap = max_wrap + max_sum;\n    if (k == 1) {\n        return max_sum;\n    }\n    return std::max(max_wrap, max_sum * k);",
    "    long max_sum = 0;\n    long max_sum_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_sum_so_far += a[i];\n        if(max_sum_so_far < 0) {\n            max_sum_so_far = 0;\n        }\n        max_sum = std::max(max_sum, max_sum_so_far);\n    }\n    long max_sum_array = max_sum;\n    long max_prefix_sum = 0;\n    long max_suffix_sum = 0;\n    long total_sum = 0;\n    for(long i = 0; i < n; i++) {\n        total_sum += a[i];\n        max_prefix_sum = std::max(max_prefix_sum, total_sum);\n    }\n    total_sum = 0;\n    for(long i = n - 1; i >= 0; i--) {\n        total_sum += a[i];\n        max_suffix_sum = std::max(max_suffix_sum, total_sum);\n    }\n    long max_circular_sum = max_prefix_sum + max_suffix_sum;\n    if(k == 1) {\n        return max_sum_array;\n    }\n    if(max_circular_sum > 0) {\n        return std::max(max_circular_sum, max_sum_array + (k - 2) * total_sum);\n    }\n    return std::max(max_circular_sum, max_sum_array);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_ending_here = 0;\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far;\n    if (sum > 0) {\n        max_sum += sum * (k - 2);\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = std::max(max_sum, max_so_far);\n    return max_sum;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    long sum_of_all_elements = std::accumulate(a.begin(), a.end(), 0);\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        max_sum = std::max(max_sum, max_so_far);\n    }\n    max_sum = std::max(max_sum, max_so_far);\n    max_sum = std::max(max_sum, max_sum * (k - 2) + sum_of_all_elements);\n    return max_sum;",
    "    long max_sum = 0;\n    long max_sum_so_far = 0;\n    long max_element = 0;\n    for(long i = 0; i < n; i++) {\n        max_sum_so_far += a[i];\n        if(max_element < a[i]) {\n            max_element = a[i];\n        }\n    }\n    if(max_element < 0) {\n        return max_element * k;\n    }\n    max_sum = max_sum_so_far;\n    for(long i = 0; i < n; i++) {\n        max_sum_so_far = max_sum_so_far - a[i] + a[0];\n        if(max_sum_so_far > max_sum) {\n            max_sum = max_sum_so_far;\n        }\n    }\n    return max_sum * k;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    max_wrap = max_wrap + curr_sum;\n    if (k == 1) {\n        return max_sum;\n    }\n    return std::max(max_sum, max_wrap);",
    "    long max_sum = 0;\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        max_sum = std::max(max_sum, sum);\n        if (sum < 0) {\n            sum = 0;\n        }\n    }\n    if (k == 1) {\n        return max_sum;\n    }\n    long max_prefix_sum = 0;\n    long max_suffix_sum = 0;\n    long total_sum = 0;\n    for (long i = 0; i < n; i++) {\n        max_prefix_sum = std::max(max_prefix_sum, total_sum);\n        total_sum += a[i];\n    }\n    total_sum = 0;\n    for (long i = n - 1; i >= 0; i--) {\n        max_suffix_sum = std::max(max_suffix_sum, total_sum);\n        total_sum += a[i];\n    }\n    long ans = std::max(max_sum, max_prefix_sum + max_suffix_sum + (k - 2) * total_sum);\n    return ans;",
    "    long max_sum = 0;\n    long max_sum_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_sum_so_far = max_sum_so_far + a[i];\n        if (max_sum_so_far < 0) {\n            max_sum_so_far = 0;\n        }\n        if (max_sum < max_sum_so_far) {\n            max_sum = max_sum_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_sum + (k - 2) * sum;\n    return ans;",
    "    // Write your code here\n    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if (max_element < 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    return std::max(max_so_far, sum * k);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far = max_so_far + a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long max_wrap_sum = sum * k;\n    if (max_wrap_sum > max_sum) {\n        max_sum = max_wrap_sum;\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    max_wrap = max_wrap + curr_sum;\n    if (k == 1) {\n        return max_sum;\n    }\n    return std::max(max_sum, max_wrap);",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long max_wrap_sum = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap_sum += a[i];\n        a[i] = -a[i];\n    }\n    curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    max_wrap_sum = max_wrap_sum + curr_sum;\n    if(k == 1) {\n        return max_sum;\n    }\n    return std::max(max_sum, max_wrap_sum * (k - 2) + max_sum);",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if(k == 1) {\n        return max_sum;\n    }\n    long max_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long curr_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        curr_wrap += a[i];\n        if(curr_wrap < 0) {\n            curr_wrap = 0;\n        }\n        max_wrap = std::max(max_wrap, curr_wrap);\n    }\n    max_wrap = std::max(max_wrap, 0l);\n    return std::max(max_sum, max_wrap * (k - 2) + max_sum);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_so_far = max_so_far + a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if(max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum = sum + a[i];\n        a[i] = -a[i];\n    }\n    long min_sum = 0;\n    long min_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        min_so_far = min_so_far + a[i];\n        if(min_so_far > 0) {\n            min_so_far = 0;\n        }\n        if(min_sum > min_so_far) {\n            min_sum = min_so_far;\n        }\n    }\n    long ans = max_sum;\n    if(k > 1) {\n        ans = std::max(ans, sum * (k - 2) + max_sum);\n    }\n    ans = std::max(ans, sum * (k - 1) + max_sum);\n    ans = std::max(ans, sum * k + max_sum);\n    return ans;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_so_far > max_sum) {\n            max_sum = max_so_far;\n        }\n    }\n    if (max_sum == 0) {\n        return max_sum;\n    }\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long max_wrap = sum * k;\n    long min_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        min_wrap += a[i];\n        sum -= a[i];\n        max_wrap = std::max(max_wrap, min_wrap + sum * (k - 1));\n    }\n    return std::max(max_sum, max_wrap);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element <= 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far = std::max(a[i], max_so_far + a[i]);\n        max_sum = std::max(max_sum, max_so_far);\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long max_wrap = sum * k;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i] * (k - 1);\n        max_wrap = std::max(max_wrap, max_wrap - sum);\n    }\n    return std::max(max_sum, max_wrap);",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element <= 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    if (max_wrap > max_so_far) {\n        max_so_far = max_wrap;\n    }\n    return max_so_far * k;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if (k == 1) {\n        return max_sum;\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long curr_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        curr_wrap += a[i];\n        if (curr_wrap < 0) {\n            curr_wrap = 0;\n        }\n        max_wrap = std::max(max_wrap, curr_wrap);\n    }\n    max_wrap = std::max(max_wrap, max_wrap + max_wrap);\n    return std::max(max_sum, max_wrap);",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if (k == 1) {\n        return max_sum;\n    }\n    long max_prefix_sum = 0;\n    long curr_prefix_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_prefix_sum += a[i];\n        max_prefix_sum = std::max(max_prefix_sum, curr_prefix_sum);\n    }\n    long max_suffix_sum = 0;\n    long curr_suffix_sum = 0;\n    for (long i = n - 1; i >= 0; i--) {\n        curr_suffix_sum += a[i];\n        max_suffix_sum = std::max(max_suffix_sum, curr_suffix_sum);\n    }\n    long total_sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = std::max(max_sum, max_prefix_sum + max_suffix_sum);\n    if (total_sum > 0) {\n        ans = std::max(ans, max_suffix_sum + max_prefix_sum + (k - 2) * total_sum);\n    }\n    return ans;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long i;\n    for(i = 0; i < n; i++) {\n        max_so_far = max_so_far + a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if(max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = 0;\n    for(i = 0; i < n; i++) {\n        sum = sum + a[i];\n        a[i] = -a[i];\n    }\n    long min_sum = 0;\n    long min_so_far = 0;\n    for(i = 0; i < n; i++) {\n        min_so_far = min_so_far + a[i];\n        if(min_so_far > 0) {\n            min_so_far = 0;\n        }\n        if(min_sum > min_so_far) {\n            min_sum = min_so_far;\n        }\n    }\n    long ans1 = max_sum;\n    long ans2 = sum + min_sum;\n    long ans3 = sum + min_sum + max_sum;\n    return std::max(ans1, std::max(ans2, ans3));",
    "    long max_sum = 0;\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        if(sum < 0) {\n            sum = 0;\n        }\n        max_sum = std::max(max_sum, sum);\n    }\n    long max_sum_repeated = max_sum * k;\n    long total_sum = std::accumulate(a.begin(), a.end(), 0);\n    long max_wrap_sum = total_sum * k;\n    for(long i = 0; i < n; i++) {\n        max_wrap_sum -= a[i];\n    }\n    long max_wrap_sum_repeated = max_wrap_sum + max_sum;\n    return std::max(max_sum_repeated, max_wrap_sum_repeated);",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = std::max(max_so_far, sum * k);\n    return ans;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far * k;\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long max_wrap = sum * k;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i] * (k - 1);\n        if (max_wrap > max_sum) {\n            max_sum = max_wrap;\n        }\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if (k == 1) {\n        return max_sum;\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long curr_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        curr_wrap += a[i];\n        if (curr_wrap < 0) {\n            curr_wrap = 0;\n        }\n        max_wrap = std::max(max_wrap, curr_wrap);\n    }\n    max_wrap = std::max(max_wrap, max_wrap + max_wrap);\n    return std::max(max_sum, max_wrap);",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    long min_ending_here = 0;\n    long min_sum = 0;\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n        min_ending_here += a[i];\n        if (min_ending_here > 0) {\n            min_ending_here = 0;\n        }\n        if (min_sum > min_ending_here) {\n            min_sum = min_ending_here;\n        }\n    }\n    if (k == 1) {\n        return max_sum;\n    }\n    long max_wrap = sum - min_sum;\n    if (max_wrap > 0) {\n        return std::max(max_wrap, max_sum + (k - 2) * sum);\n    }\n    else {\n        return std::max(max_wrap, max_sum);\n    }",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    long max_so_far = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far * k;\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long min_sum = 0;\n    long min_ending_here = 0;\n    long min_so_far = 0;\n    for (long i = 0; i < n; i++) {\n        min_ending_here = min_ending_here + a[i];\n        if (min_ending_here > 0) {\n            min_ending_here = 0;\n        }\n        if (min_so_far > min_ending_here) {\n            min_so_far = min_ending_here;\n        }\n    }\n    min_sum = min_so_far * k;\n    if (k > 2) {\n        max_sum = std::max(max_sum, sum * (k - 2) + max_so_far + min_so_far);\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        if(sum > max_sum) {\n            max_sum = sum;\n        }\n    }\n    long max_sum_all = max_sum;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        if(sum > max_sum) {\n            max_sum = sum;\n        }\n    }\n    long sum_all = sum;\n    long max_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        sum_all += a[i];\n        if(max_wrap > max_sum) {\n            max_sum = max_wrap;\n        }\n        max_wrap = std::max(max_wrap, 0l);\n    }\n    if(k == 1) {\n        return max_sum;\n    }\n    return std::max(max_sum, sum_all * (k - 2) + max_sum_all);",
    "    // Write your code here\n    long sum = 0;\n    for(long i = 0; i < n; i++)\n        sum += a[i];\n    long max_sum = sum;\n    for(long i = 0; i < n; i++) {\n        sum -= a[i];\n        sum += a[i] * k;\n        max_sum = std::max(max_sum, sum);\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (int i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if (k == 1) {\n        return max_sum;\n    }\n    long max_wrap = 0;\n    for (int i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long curr_wrap = 0;\n    for (int i = 0; i < n; i++) {\n        curr_wrap += a[i];\n        if (curr_wrap < 0) {\n            curr_wrap = 0;\n        }\n        max_wrap = std::max(max_wrap, curr_wrap);\n    }\n    max_wrap = std::max(max_wrap, 0l);\n    return std::max(max_sum, max_wrap * (k - 2) + max_sum);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_sum + (k - 2) * sum;\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    return std::max(ans, max_sum);",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if(sum > 0) {\n        max_sum = std::max(max_sum, (max_ending_here + sum * (k - 2)));\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_sum_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_sum_so_far += a[i];\n        if(max_sum_so_far < 0) {\n            max_sum_so_far = 0;\n        }\n        max_sum = std::max(max_sum, max_sum_so_far);\n    }\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    long min_sum = 0;\n    long min_sum_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        min_sum_so_far += a[i];\n        if(min_sum_so_far > 0) {\n            min_sum_so_far = 0;\n        }\n        min_sum = std::min(min_sum, min_sum_so_far);\n    }\n    if(k == 1) {\n        return max_sum;\n    }\n    if(sum > 0) {\n        return std::max(max_sum, sum * (k - 2) + max_sum_so_far);\n    }\n    return std::max(max_sum, sum * (k - 2) + max_sum_so_far - min_sum);",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) curr_sum = 0;\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) curr_sum = 0;\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    max_wrap = max_wrap + curr_sum;\n    return std::max(max_sum, max_wrap * (k - 2));",
    "    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long max_sum = sum;\n    for(long i = 0; i < n; i++) {\n        sum = sum - a[i] + a[i] * k;\n        max_sum = std::max(max_sum, sum);\n    }\n    return max_sum;",
    "    long max_sum = 0, curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long max_wrap = 0, curr_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        curr_wrap += a[i];\n        if(curr_wrap < 0) {\n            curr_wrap = 0;\n        }\n        max_wrap = std::max(max_wrap, curr_wrap);\n    }\n    if(k == 1) {\n        return max_sum;\n    }\n    long max_wrap_sum = max_wrap + (k - 2) * curr_wrap;\n    return std::max(max_wrap_sum, max_sum);",
    "    long max_sum = 0;\n    for (long i = 0; i < n; i++) {\n        long sum = 0;\n        for (long j = i; j < n; j++) {\n            sum += a[j];\n            if (sum > max_sum) {\n                max_sum = sum;\n            }\n        }\n    }\n    return max_sum * k;",
    "    long max_so_far = INT_MIN, max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    if (max_wrap > max_so_far)\n        max_so_far = max_wrap;\n    return max_so_far * k;",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    if (max_wrap > max_so_far) {\n        max_so_far = max_wrap;\n    }\n    return std::max(max_so_far, sum * k);",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    long max_so_far = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far * k;\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap = max_wrap + a[i];\n        a[i] = -a[i];\n    }\n    max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_wrap = max_wrap + max_so_far;\n    if (max_wrap > max_sum) {\n        max_sum = max_wrap;\n    }\n    return max_sum;",
    "    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long max_sum = sum;\n    for (long i = 0; i < n; i++) {\n        sum += k * a[i];\n        max_sum = std::max(max_sum, sum);\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    long max_sum_of_array = max_sum;\n    long max_sum_of_all_subarrays = max_sum;\n    long min_sum = 0;\n    long min_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        min_ending_here += a[i];\n        if (min_ending_here > 0) {\n            min_ending_here = 0;\n        }\n        if (min_sum > min_ending_here) {\n            min_sum = min_ending_here;\n        }\n    }\n    long min_sum_of_array = min_sum;\n    long total_sum = 0;\n    for (long i = 0; i < n; i++) {\n        total_sum += a[i];\n    }\n    max_sum_of_all_subarrays = std::max(max_sum_of_all_subarrays, max_sum_of_array * (k - 2) + max_sum_of_array + total_sum + min_sum_of_array);\n    return max_sum_of_all_subarrays;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if(k == 1) {\n        return max_sum;\n    }\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    long min_sum = 0;\n    curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum > 0) {\n            curr_sum = 0;\n        }\n        min_sum = std::min(min_sum, curr_sum);\n    }\n    long ans = std::max(max_sum, sum * (k - 2) + max_sum);\n    ans = std::max(ans, sum * (k - 2) + max_sum + min_sum);\n    return ans;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_sum + (k - 2) * sum;\n    return std::max(ans, max_sum);",
    "    long sum = 0;\n    long max_sum = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        if (sum < 0) {\n            sum = 0;\n        }\n        max_sum = std::max(max_sum, sum);\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long sum_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        sum_wrap += a[i];\n        if (sum_wrap < 0) {\n            sum_wrap = 0;\n        }\n        max_sum = std::max(max_sum, sum_wrap);\n    }\n    max_sum = std::max(max_sum, max_wrap + sum_wrap);\n    return std::max(max_sum, max_sum * k);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_sum + (k - 2) * sum;\n    return ans;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    return max_sum * k;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap = max_wrap + a[i];\n        a[i] = -a[i];\n    }\n    long max_ending_here_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here_wrap = max_ending_here_wrap + a[i];\n        if(max_ending_here_wrap < 0) {\n            max_ending_here_wrap = 0;\n        }\n        if(max_wrap < max_ending_here_wrap) {\n            max_wrap = max_ending_here_wrap;\n        }\n    }\n    max_wrap = max_wrap + max_wrap;\n    if(max_wrap > max_sum) {\n        max_sum = max_wrap;\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    long max_so_far = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    long min_sum = 0;\n    long min_ending_here = 0;\n    long min_so_far = 0;\n    for (long i = 0; i < n; i++) {\n        min_ending_here += a[i];\n        if (min_ending_here > 0) {\n            min_ending_here = 0;\n        }\n        if (min_so_far > min_ending_here) {\n            min_so_far = min_ending_here;\n        }\n    }\n    max_sum = std::max(max_so_far, sum + min_so_far);\n    return max_sum * k;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    long min_sum = 0;\n    long min_ending_here = 0;\n    for(long i = 0; i < n; i++) {\n        min_ending_here = min_ending_here + a[i];\n        if(min_ending_here > 0) {\n            min_ending_here = 0;\n        }\n        if(min_sum > min_ending_here) {\n            min_sum = min_ending_here;\n        }\n    }\n    if(k == 1) {\n        return max_sum;\n    }\n    if(sum < 0) {\n        return max(max_sum, min_sum + sum * (k - 2));\n    }\n    return max(max_sum, sum * k + min_sum);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far * k;\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long max_wrap = sum * k;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i] * (k - 1);\n        if (max_wrap > max_sum) {\n            max_sum = max_wrap;\n        }\n    }\n    return max_sum;",
    "    long max_sum = INT_MIN;\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        if(sum > max_sum) {\n            max_sum = sum;\n        }\n    }\n    long sum_of_all_elements = sum;\n    long max_wrap_sum = sum_of_all_elements * k;\n    long min_wrap_sum = INT_MAX;\n    sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        if(sum < min_wrap_sum) {\n            min_wrap_sum = sum;\n        }\n    }\n    long max_wrap_sum_with_min_wrap_sum = max_wrap_sum - min_wrap_sum;\n    return std::max(max_sum, max_wrap_sum_with_min_wrap_sum);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if(max_element < 0) {\n        return max_element * k;\n    }\n    for(int i = 0; i < n; i++) {\n        max_so_far = max_so_far + a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if(max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if(sum > 0) {\n        max_sum = max_sum + sum * (k - 2);\n    }\n    return max_sum;",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element <= 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    return std::max(max_so_far, max_wrap * k);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long start = 0;\n    long end = 0;\n    long s = 0;\n    for (long i = 0; i < n * k; i++) {\n        max_so_far += a[i % n];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n            s = i + 1;\n        }\n        if (max_so_far > max_sum) {\n            max_sum = max_so_far;\n            start = s;\n            end = i;\n        }\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element <= 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long curr_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        curr_wrap += a[i];\n        if (curr_wrap < 0) {\n            curr_wrap = 0;\n        }\n        max_wrap = std::max(max_wrap, curr_wrap);\n    }\n    max_wrap = std::max(max_wrap, 0l);\n    return std::max(max_sum, max_wrap * (k - 1) + max_sum);",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if (max_element <= 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap = max_wrap + a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    if (max_wrap > max_so_far) {\n        max_so_far = max_wrap;\n    }\n    return max_so_far + (k - 2) * sum;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long max_prefix_sum = 0;\n    long max_suffix_sum = 0;\n    long total_sum = 0;\n    for(long i = 0; i < n; i++) {\n        max_prefix_sum += a[i];\n        max_prefix_sum = std::max(max_prefix_sum, 0l);\n    }\n    for(long i = n - 1; i >= 0; i--) {\n        max_suffix_sum += a[i];\n        max_suffix_sum = std::max(max_suffix_sum, 0l);\n    }\n    for(long i = 0; i < n; i++) {\n        total_sum += a[i];\n    }\n    if(total_sum > 0) {\n        max_sum = std::max(max_sum, max_prefix_sum + max_suffix_sum + (k - 2) * total_sum);\n    } else {\n        max_sum = std::max(max_sum, max_prefix_sum + max_suffix_sum);\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if(max_element < 0) {\n        return max_element * k;\n    }\n    for(long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        max_sum = std::max(max_sum, max_so_far);\n    }\n    return max_sum * k;",
    "    long max_so_far = 0, max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    return std::max(max_so_far, max_wrap * k);",
    "    // Write your code here\n    long max_sum = 0;\n    long max_ending_here = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        max_sum = std::max(max_sum, max_ending_here);\n    }\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    if(sum > 0) {\n        max_sum = std::max(max_sum, sum * k);\n    }\n    else {\n        max_sum = std::max(max_sum, sum);\n    }\n    return max_sum;",
    "    long max_so_far = 0, max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, k);\n    if (max_wrap > max_so_far)\n        return max_wrap;\n    else\n        return max_so_far;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    long i = 0;\n    long j = 0;\n    for(i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n            j = i + 1;\n        }\n        if(curr_sum > max_sum) {\n            max_sum = curr_sum;\n        }\n    }\n    if(max_sum == 0) {\n        max_sum = *std::max_element(a.begin(), a.end());\n    }\n    else {\n        max_sum = max_sum * k;\n        long sum = 0;\n        for(i = 0; i < n; i++) {\n            sum += a[i];\n        }\n        max_sum += sum * (k - 2);\n        long sum_till_j = 0;\n        for(i = 0; i < j; i++) {\n            sum_till_j += a[i];\n        }\n        max_sum += sum_till_j;\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far * k;\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long prefix_sum = 0;\n    for (long i = 0; i < n; i++) {\n        prefix_sum += a[i];\n        max_sum = std::max(max_sum, prefix_sum + (sum * (k - 2)));\n    }\n    long suffix_sum = 0;\n    for (long i = n - 1; i >= 0; i--) {\n        suffix_sum += a[i];\n        max_sum = std::max(max_sum, suffix_sum + (sum * (k - 2)));\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if(max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    long min_sum = 0;\n    long min_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        min_so_far += a[i];\n        if(min_so_far > 0) {\n            min_so_far = 0;\n        }\n        if(min_sum > min_so_far) {\n            min_sum = min_so_far;\n        }\n    }\n    long ans = max_sum;\n    if(sum + min_sum > 0) {\n        ans = std::max(ans, sum * k + max_sum);\n    }\n    else {\n        ans = std::max(ans, max_sum);\n    }\n    return ans;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if (k == 1) {\n        return max_sum;\n    }\n    long max_prefix_sum = 0;\n    long max_suffix_sum = 0;\n    long total_sum = 0;\n    curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        max_prefix_sum = std::max(max_prefix_sum, curr_sum);\n    }\n    curr_sum = 0;\n    for (long i = n - 1; i >= 0; i--) {\n        curr_sum += a[i];\n        max_suffix_sum = std::max(max_suffix_sum, curr_sum);\n    }\n    for (long i = 0; i < n; i++) {\n        total_sum += a[i];\n    }\n    long ans = std::max(max_sum, std::max(max_prefix_sum + max_suffix_sum + (k - 2) * total_sum, max_prefix_sum + max_suffix_sum));\n    return ans;",
    "    long max_sum = 0;\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        if (sum < 0) {\n            sum = 0;\n        }\n        max_sum = std::max(max_sum, sum);\n    }\n    if (k == 1) {\n        return max_sum;\n    }\n    long max_prefix_sum = 0;\n    long max_suffix_sum = 0;\n    long total_sum = 0;\n    for (long i = 0; i < n; i++) {\n        total_sum += a[i];\n        max_prefix_sum = std::max(max_prefix_sum, total_sum);\n    }\n    total_sum = 0;\n    for (long i = n - 1; i >= 0; i--) {\n        total_sum += a[i];\n        max_suffix_sum = std::max(max_suffix_sum, total_sum);\n    }\n    long ans = std::max(max_sum, max_prefix_sum + max_suffix_sum);\n    if (total_sum > 0) {\n        ans = std::max(ans, total_sum * (k - 2) + max_prefix_sum + max_suffix_sum);\n    }\n    return ans;",
    "    long max_so_far = 0, max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    if (max_wrap > max_so_far)\n        return max_wrap;\n    else\n        return max_so_far;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if(max_element <= 0) {\n        return max_element * k;\n    }\n    for(long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if(max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_sum + (k - 2) * sum;\n    return ans;",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if(max_element <= 0) {\n        return max_element * k;\n    }\n    for(long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap = max_wrap + a[i];\n        a[i] = -a[i];\n    }\n    long max_suffix_sum = 0;\n    long min_suffix_sum = 0;\n    long min_suffix_sum_so_far = 0;\n    for(long i = n - 1; i >= 0; i--) {\n        max_suffix_sum = max_suffix_sum + a[i];\n        min_suffix_sum = min_suffix_sum + a[i];\n        if(max_suffix_sum > max_so_far) {\n            max_so_far = max_suffix_sum;\n        }\n        if(min_suffix_sum < min_suffix_sum_so_far) {\n            min_suffix_sum_so_far = min_suffix_sum;\n        }\n    }\n    long max_wrap_sum = max_wrap + min_suffix_sum_so_far;\n    if(max_wrap_sum > max_so_far) {\n        max_so_far = max_wrap_sum;\n    }\n    return max_so_far * k;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far * k;\n    long curr_prefix_sum = 0;\n    long curr_suffix_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_prefix_sum += a[i];\n        max_sum = std::max(max_sum, curr_prefix_sum);\n    }\n    for (long i = n - 1; i >= 0; i--) {\n        curr_suffix_sum += a[i];\n        max_sum = std::max(max_sum, curr_suffix_sum);\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if(max_element < 0) {\n        return max_element * k;\n    }\n    for(long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if(max_so_far > max_sum) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_sum + (k - 2) * sum;\n    ans = std::max(ans, max_sum + sum);\n    return ans;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if(max_element <= 0) {\n        return max_element * k;\n    }\n    for(long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if(max_so_far > max_sum) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long max_wrap_sum = sum * k;\n    long max_wrap_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap_so_far += a[i];\n        if(max_wrap_so_far < 0) {\n            max_wrap_so_far = 0;\n        }\n        if(max_wrap_so_far > max_wrap_sum) {\n            max_wrap_sum = max_wrap_so_far;\n        }\n    }\n    return std::max(max_sum, max_wrap_sum);",
    "    long max_so_far = 0, max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n    }\n    if (max_so_far == 0)\n        return max_so_far;\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    long max_suffix_sum = 0, min_suffix_sum = 0;\n    for (long i = n - 1; i >= 0; i--) {\n        max_suffix_sum += a[i];\n        min_suffix_sum = std::min(min_suffix_sum, max_suffix_sum);\n    }\n    long max_prefix_sum = 0, min_prefix_sum = 0;\n    for (long i = 0; i < n; i++) {\n        max_prefix_sum += a[i];\n        min_prefix_sum = std::min(min_prefix_sum, max_prefix_sum);\n    }\n    long ans1 = sum + max_prefix_sum + max_suffix_sum;\n    long ans2 = sum + min_prefix_sum + min_suffix_sum;\n    long ans3 = max_so_far;\n    long ans4 = sum * (k - 2) + ans3;\n    return std::max(ans1, std::max(ans2, std::max(ans3, ans4)));",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    long max_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far * k;\n    long max_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_ending_here = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_wrap = max_wrap + max_so_far;\n    return std::max(max_sum, max_wrap);",
    "    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long max_sum = sum;\n    for(long i = 0; i < n; i++) {\n        sum += k * a[i];\n        if(sum > max_sum) {\n            max_sum = sum;\n        }\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if(max_element < 0) {\n        return max_element * k;\n    }\n    for(long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        max_sum = std::max(max_sum, max_so_far);\n    }\n    return max_sum * k;",
    "    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long max_sum = sum;\n    for (long i = 0; i < n; i++) {\n        sum += k * a[i];\n        sum -= a[i];\n        max_sum = std::max(max_sum, sum);\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    long max_sum_so_far = 0;\n    long sum_of_all_elements = 0;\n    for(long i = 0; i < n; i++) {\n        max_sum_so_far += a[i];\n        sum_of_all_elements += a[i];\n        if(max_sum_so_far < 0) {\n            max_sum_so_far = 0;\n        }\n        if(max_sum < max_sum_so_far) {\n            max_sum = max_sum_so_far;\n        }\n    }\n    if(max_sum == 0) {\n        return max_sum;\n    }\n    long max_sum_possible = max_sum + (k - 2) * sum_of_all_elements;\n    return max_sum_possible;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far = max_so_far + a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if (sum > 0) {\n        return max_sum + (k - 2) * sum;\n    } else {\n        return max_sum;\n    }",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if(sum > 0) {\n        return std::max(max_sum, curr_sum * k);\n    }\n    else {\n        return max_sum;\n    }",
    "    long max_sum = 0;\n    long max_sum_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_sum_so_far += a[i];\n        if (max_sum_so_far < 0) {\n            max_sum_so_far = 0;\n        }\n        if (max_sum < max_sum_so_far) {\n            max_sum = max_sum_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_sum + (k - 2) * sum;\n    return ans;",
    "    long sum = 0;\n    long max_sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        max_sum = std::max(max_sum, sum);\n    }\n    long sum_of_all_elements = sum;\n    sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        max_sum = std::max(max_sum, sum + (k - 1) * sum_of_all_elements);\n        sum = std::max(sum, 0l);\n    }\n    return max_sum;",
    "    // Write your code here\n    long sum = 0;\n    long max_sum = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if(max_element < 0) {\n        return max_element * k;\n    }\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        if(sum < 0) {\n            sum = 0;\n        }\n        max_sum = std::max(max_sum, sum);\n    }\n    return max_sum * k;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if(max_element < 0) {\n        return max_element * k;\n    }\n    for(long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far;\n    max_sum = max_sum * (k - 2);\n    max_sum = max_sum + sum;\n    return max_sum;",
    "    long max_sum = INT_MIN;\n    long sum = 0;\n    for(int i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    max_sum = std::max(max_sum, sum);\n    for(int i = 0; i < n; i++) {\n        sum += k * a[i];\n        max_sum = std::max(max_sum, sum);\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if(max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n    }\n    long min_sum = 0;\n    long min_ending_here = 0;\n    for(long i = 0; i < n; i++) {\n        min_ending_here = min_ending_here + a[i];\n        if(min_sum > min_ending_here) {\n            min_sum = min_ending_here;\n        }\n        if(min_ending_here > 0) {\n            min_ending_here = 0;\n        }\n    }\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    if(k == 1) {\n        return max_sum;\n    }\n    if(sum > 0) {\n        return max(max_sum, sum * (k - 2) + max_sum);\n    }\n    else {\n        return max(max_sum, sum * k);\n    }",
    "    long max_sum = 0;\n    long sum = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if(max_element < 0) {\n        return max_element * k;\n    }\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        if(sum < 0) {\n            sum = 0;\n        }\n        if(sum > max_sum) {\n            max_sum = sum;\n        }\n    }\n    long sum_of_all_elements = std::accumulate(a.begin(), a.end(), 0);\n    long max_wrap = sum_of_all_elements * k;\n    long max_wrap_sum = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap_sum += a[i];\n        max_wrap -= a[i];\n        if(max_wrap_sum < 0) {\n            max_wrap_sum = 0;\n        }\n        if(max_wrap_sum > max_sum) {\n            max_sum = max_wrap_sum;\n        }\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_sum_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_sum_so_far += a[i];\n        if(max_sum_so_far < 0) {\n            max_sum_so_far = 0;\n        }\n        max_sum = std::max(max_sum, max_sum_so_far);\n    }\n    long sum = max_sum_so_far;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    max_sum_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_sum_so_far += a[i];\n        if(max_sum_so_far < 0) {\n            max_sum_so_far = 0;\n        }\n        max_sum = std::max(max_sum, max_sum_so_far);\n    }\n    max_sum = std::max(max_sum, sum);\n    return max_sum * k;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap = max_wrap + a[i];\n        a[i] = -a[i];\n    }\n    long max_ending_here_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here_wrap = max_ending_here_wrap + a[i];\n        if (max_ending_here_wrap < 0) {\n            max_ending_here_wrap = 0;\n        }\n        if (max_wrap < max_ending_here_wrap) {\n            max_wrap = max_ending_here_wrap;\n        }\n    }\n    max_wrap = max_wrap + max_wrap;\n    if (max_wrap > max_sum) {\n        max_sum = max_wrap;\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    for (long i = 0; i < n; i++) {\n        long sum = 0;\n        for (long j = i; j < n; j++) {\n            sum += a[j];\n            if (sum > max_sum) {\n                max_sum = sum;\n            }\n        }\n    }\n    return max_sum * k;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if (sum > 0) {\n        return std::max(max_sum, sum * (k - 2) + max_sum);\n    }\n    return std::max(max_sum, max_sum + sum * (k - 2));",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_sum + (k - 2) * sum;\n    return std::max(ans, max_sum);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far * k;\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum = sum + a[i];\n    }\n    long min_sum = 0;\n    long min_so_far = 0;\n    long min_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        min_ending_here = min_ending_here + a[i];\n        if (min_ending_here > 0) {\n            min_ending_here = 0;\n        }\n        if (min_so_far > min_ending_here) {\n            min_so_far = min_ending_here;\n        }\n    }\n    min_sum = min_so_far * k;\n    if (sum > 0) {\n        max_sum = max_sum + (k - 2) * sum;\n    } else {\n        max_sum = max_sum + min_sum;\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum = sum + a[i];\n        a[i] = -a[i];\n    }\n    long min_sum = 0;\n    long min_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        min_ending_here = min_ending_here + a[i];\n        if (min_ending_here > 0) {\n            min_ending_here = 0;\n        }\n        if (min_sum > min_ending_here) {\n            min_sum = min_ending_here;\n        }\n    }\n    long max_wrap = sum + min_sum;\n    if (k == 1) {\n        return max_sum;\n    }\n    if (max_wrap > max_sum) {\n        return max_wrap;\n    }\n    else {\n        return max_sum;\n    }",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum > max_sum) {\n            max_sum = curr_sum;\n        }\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum > max_sum) {\n            max_sum = curr_sum;\n        }\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n    }\n    max_wrap = max_wrap + max_sum;\n    if (k == 1) {\n        return max_sum;\n    }\n    if (max_wrap > max_sum) {\n        return max_wrap * (k - 1) + max_sum;\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    long max_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    max_sum = max_so_far * k;\n    long curr_prefix_sum = 0;\n    long curr_suffix_sum = 0;\n    long total_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_prefix_sum += a[i];\n        total_sum += a[i];\n    }\n    for(long i = n - 1; i >= 0; i--) {\n        curr_suffix_sum += a[i];\n        max_sum = std::max(max_sum, curr_prefix_sum + (curr_suffix_sum * (k - 2)));\n        curr_prefix_sum -= a[i];\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    for (long i = 0; i < n; i++) {\n        long sum = 0;\n        for (long j = i; j < n; j++) {\n            sum += a[j];\n            if (sum > max_sum) {\n                max_sum = sum;\n            }\n        }\n    }\n    return max_sum * k;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for (int i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    long max_sum_all = max_sum;\n    for (int i = 0; i < n; i++) {\n        max_sum_all += a[i];\n        a[i] = -a[i];\n    }\n    max_sum = 0;\n    max_ending_here = 0;\n    for (int i = 0; i < n; i++) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    max_sum_all += max_sum;\n    return std::max(max_sum_all, max_sum_all * (k - 2));",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap = max_wrap + a[i];\n        a[i] = -a[i];\n    }\n    long max_ending_here_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here_wrap = max_ending_here_wrap + a[i];\n        if (max_ending_here_wrap < 0) {\n            max_ending_here_wrap = 0;\n        }\n        if (max_wrap < max_ending_here_wrap) {\n            max_wrap = max_ending_here_wrap;\n        }\n    }\n    max_wrap = max_wrap + max_wrap;\n    if (k == 1) {\n        return max_sum;\n    }\n    if (max_wrap > max_sum) {\n        return max_wrap;\n    }\n    return max_sum;",
    "    long max_so_far = LONG_MIN, max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    if (max_wrap > max_so_far)\n        max_so_far = max_wrap;\n    return max_so_far * k;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap = max_wrap + a[i];\n        a[i] = -a[i];\n    }\n    long max_ending_here_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here_wrap = max_ending_here_wrap + a[i];\n        if(max_ending_here_wrap < 0) {\n            max_ending_here_wrap = 0;\n        }\n        if(max_wrap < max_ending_here_wrap) {\n            max_wrap = max_ending_here_wrap;\n        }\n    }\n    max_wrap = max_wrap + max_wrap;\n    if(k == 1) {\n        return max_sum;\n    }\n    if(max_wrap > max_sum) {\n        return max_wrap;\n    }\n    return max_sum;",
    "    long sum = 0;\n    for(int i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long max_sum = sum;\n    for(int i = 0; i < n; i++) {\n        sum = sum - a[i] + a[i] * k;\n        max_sum = std::max(max_sum, sum);\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    for(long i = 0; i < n; i++) {\n        long sum = 0;\n        for(long j = i; j < n; j++) {\n            sum += a[j];\n            max_sum = std::max(max_sum, sum);\n        }\n    }\n    max_sum *= k;\n    return max_sum;",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_so_far + (k - 2) * sum;\n    return ans;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    long max_ending_here_2 = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here_2 = max_ending_here_2 + a[i];\n        if(max_ending_here_2 < 0) {\n            max_ending_here_2 = 0;\n        }\n        if(max_sum < max_ending_here_2) {\n            max_sum = max_ending_here_2;\n        }\n    }\n    max_sum = std::max(max_sum, sum * (k - 2) + max_ending_here);\n    return max_sum;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    max_wrap = max_wrap + curr_sum;\n    if (k == 1) {\n        return max_sum;\n    }\n    return std::max(max_sum, max_wrap);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if (sum > 0) {\n        max_sum = std::max(max_sum, sum * (k - 2) + max_so_far);\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if (k == 1) {\n        return max_sum;\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long curr_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        curr_wrap += a[i];\n        if (curr_wrap < 0) {\n            curr_wrap = 0;\n        }\n        max_wrap = std::max(max_wrap, curr_wrap);\n    }\n    max_wrap = std::max(max_wrap, 0l);\n    return std::max(max_sum, max_wrap + (k - 2) * max_wrap);",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if (k == 1) {\n        return max_sum;\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long curr_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        curr_wrap += a[i];\n        if (curr_wrap < 0) {\n            curr_wrap = 0;\n        }\n        max_wrap = std::max(max_wrap, curr_wrap);\n    }\n    max_wrap = std::max(max_wrap, 0l);\n    return std::max(max_sum, max_wrap + (k - 2) * max_wrap);",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long max_prefix_sum = 0;\n    long max_suffix_sum = 0;\n    long total_sum = 0;\n    for(long i = 0; i < n; i++) {\n        total_sum += a[i];\n        max_prefix_sum = std::max(max_prefix_sum, total_sum);\n    }\n    total_sum = 0;\n    for(long i = n - 1; i >= 0; i--) {\n        total_sum += a[i];\n        max_suffix_sum = std::max(max_suffix_sum, total_sum);\n    }\n    long ans = std::max(max_sum, max_prefix_sum + max_suffix_sum + (k - 2) * total_sum);\n    return ans;",
    "    long max_sum = 0;\n    long max_sum_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_sum_so_far += a[i];\n        max_sum = std::max(max_sum, max_sum_so_far);\n        if(max_sum_so_far < 0) {\n            max_sum_so_far = 0;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long max_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap += max_sub_array_sum_repeated(a, n, 1);\n    if(max_wrap > max_sum && max_wrap < sum) {\n        max_sum = max_wrap;\n    }\n    return max_sum * k;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long min_so_far = 0;\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        max_so_far = std::max(max_so_far, sum - min_so_far);\n        min_so_far = std::min(min_so_far, sum);\n    }\n    long max_sub_array_sum = max_so_far;\n    max_sum = std::max(max_sum, max_so_far);\n    for(long i = 1; i < k; i++) {\n        max_so_far = 0;\n        min_so_far = 0;\n        sum = 0;\n        for(long j = 0; j < n; j++) {\n            sum += a[j];\n            max_so_far = std::max(max_so_far, sum - min_so_far);\n            min_so_far = std::min(min_so_far, sum);\n        }\n        max_sub_array_sum = std::max(max_sub_array_sum, max_so_far);\n        max_sum = std::max(max_sum, max_sub_array_sum * (i + 1) + max_so_far);\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if(max_sum == 0) {\n        return max_sum;\n    }\n    long max_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long curr_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        curr_wrap += a[i];\n        if(curr_wrap < 0) {\n            curr_wrap = 0;\n        }\n        max_wrap = std::max(max_wrap, curr_wrap);\n    }\n    max_wrap = max_wrap + max_wrap;\n    return std::max(max_sum, max_wrap * (k - 2) + max_sum);",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element <= 0) {\n        return max_element * k;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_sum + (k - 2) * sum;\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    return std::max(ans, max_sum);",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long max_ending_here_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here_wrap = max_ending_here_wrap + a[i];\n        if (max_ending_here_wrap < 0) {\n            max_ending_here_wrap = 0;\n        }\n        if (max_wrap < max_ending_here_wrap) {\n            max_wrap = max_ending_here_wrap;\n        }\n    }\n    max_wrap = max_wrap + max_wrap;\n    if (k == 1) {\n        return max_sum;\n    }\n    if (max_wrap > max_sum) {\n        return max_wrap;\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_sum_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_sum_so_far += a[i];\n        if (max_sum_so_far < 0) {\n            max_sum_so_far = 0;\n        }\n        if (max_sum < max_sum_so_far) {\n            max_sum = max_sum_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = std::max(max_sum, sum * k);\n    return ans;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if (k == 1) {\n        return max_sum;\n    }\n    long max_prefix_sum = 0;\n    long max_suffix_sum = 0;\n    long total_sum = 0;\n    for (long i = 0; i < n; i++) {\n        total_sum += a[i];\n        max_prefix_sum = std::max(max_prefix_sum, total_sum);\n    }\n    total_sum = 0;\n    for (long i = n - 1; i >= 0; i--) {\n        total_sum += a[i];\n        max_suffix_sum = std::max(max_suffix_sum, total_sum);\n    }\n    long ans = std::max(max_sum, max_prefix_sum + max_suffix_sum);\n    if (total_sum > 0) {\n        ans = std::max(ans, total_sum * (k - 2) + max_prefix_sum + max_suffix_sum);\n    }\n    return ans;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if(max_element <= 0) {\n        return max_element * k;\n    }\n    for(long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if(max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if(max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum_of_all_elements = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_sum + (k - 2) * sum_of_all_elements;\n    return std::max(ans, max_sum);",
    "    long max_so_far = 0, max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    if (max_wrap > max_so_far)\n        return max_wrap;\n    else\n        return max_so_far;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if (k == 1) {\n        return max_sum;\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long curr_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        curr_wrap += a[i];\n        if (curr_wrap < 0) {\n            curr_wrap = 0;\n        }\n        max_wrap = std::max(max_wrap, curr_wrap);\n    }\n    max_wrap = std::max(max_wrap, max_wrap + max_wrap);\n    return std::max(max_sum, max_wrap);",
    "    long sum = 0;\n    long max_sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    max_sum = sum;\n    for(long i = 0; i < n; i++) {\n        sum = sum - a[i] + a[i] * k;\n        max_sum = std::max(max_sum, sum);\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_ending_here = 0;\n    long i = 0;\n    while (i < n) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n        i++;\n    }\n    max_sum = max_so_far;\n    long sum = 0;\n    for (i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    max_so_far = 0;\n    max_ending_here = 0;\n    i = 0;\n    while (i < n) {\n        max_ending_here += a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n        i++;\n    }\n    max_sum = std::max(max_sum, sum + max_so_far);\n    if (k > 2) {\n        max_sum = std::max(max_sum, sum * (k - 2) + max_so_far);\n    }\n    return max_sum;",
    "    long max_so_far = 0, max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0)\n            max_ending_here = 0;\n        if (max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n    }\n    long max_wrap = 0, i;\n    for (i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + max_sub_array_sum_repeated(a, n, 1);\n    if (max_wrap > max_so_far)\n        max_so_far = max_wrap;\n    return max_so_far * k;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        max_sum = std::max(max_sum, max_so_far);\n    }\n    if (max_sum == 0) {\n        return max_sum;\n    }\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long max_wrap = sum * k;\n    long max_wrap_sum = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap_sum += a[i];\n        if (max_wrap_sum < 0) {\n            max_wrap_sum = 0;\n        }\n        max_wrap = std::max(max_wrap, max_wrap_sum);\n    }\n    return std::max(max_wrap, max_sum);",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    if(k == 1) {\n        return max_sum;\n    }\n    long max_prefix_sum = 0;\n    long max_suffix_sum = 0;\n    long total_sum = 0;\n    for(long i = 0; i < n; i++) {\n        total_sum += a[i];\n        max_prefix_sum = std::max(max_prefix_sum, total_sum);\n    }\n    total_sum = 0;\n    for(long i = n - 1; i >= 0; i--) {\n        total_sum += a[i];\n        max_suffix_sum = std::max(max_suffix_sum, total_sum);\n    }\n    long ans = std::max(max_sum, max_prefix_sum + max_suffix_sum);\n    if(total_sum > 0) {\n        ans = std::max(ans, total_sum * (k - 2) + max_prefix_sum + max_suffix_sum);\n    }\n    return ans;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long i = 0;\n    long j = 0;\n    long max_ending_here = 0;\n    while(j < n) {\n        max_ending_here += a[j];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n            i = j + 1;\n        }\n        if(max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n        j++;\n    }\n    max_sum = max_so_far;\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n        a[i] = -a[i];\n    }\n    max_so_far = 0;\n    i = 0;\n    j = 0;\n    max_ending_here = 0;\n    while(j < n) {\n        max_ending_here += a[j];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n            i = j + 1;\n        }\n        if(max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n        j++;\n    }\n    max_sum = std::max(max_sum, sum + max_so_far);\n    return max_sum;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    long max_sum_k = max_sum * k;\n    long max_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap = max_wrap + a[i];\n        a[i] = -a[i];\n    }\n    long max_ending_here_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here_wrap = max_ending_here_wrap + a[i];\n        if(max_ending_here_wrap < 0) {\n            max_ending_here_wrap = 0;\n        }\n        if(max_wrap < max_ending_here_wrap) {\n            max_wrap = max_ending_here_wrap;\n        }\n    }\n    max_wrap = max_wrap + max_wrap;\n    if(max_wrap > max_sum_k) {\n        return max_wrap;\n    }\n    return max_sum_k;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for(long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if(curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long max_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long curr_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        curr_wrap += a[i];\n        if(curr_wrap < 0) {\n            curr_wrap = 0;\n        }\n        max_wrap = std::max(max_wrap, curr_wrap);\n    }\n    max_wrap = std::max(max_wrap, 0l);\n    return std::max(max_sum, max_wrap * (k - 2) + max_sum);",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap = max_wrap + a[i];\n        a[i] = -a[i];\n    }\n    long max_ending_here_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_ending_here_wrap = max_ending_here_wrap + a[i];\n        if (max_ending_here_wrap < 0) {\n            max_ending_here_wrap = 0;\n        }\n        if (max_wrap < max_ending_here_wrap) {\n            max_wrap = max_ending_here_wrap;\n        }\n    }\n    max_wrap = max_wrap + max_wrap;\n    if (k == 1) {\n        return max_sum;\n    }\n    if (max_wrap > max_sum) {\n        return max_wrap;\n    }\n    return max_sum;",
    "    long max_so_far = 0;\n    long max_ending_here = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if (max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if (max_so_far < max_ending_here) {\n            max_so_far = max_ending_here;\n        }\n    }\n    return std::max(max_so_far, max_so_far + sum * (k - 2));",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    long max_so_far = 0;\n    long sum = 0;\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        max_ending_here = std::max(max_ending_here + a[i], a[i]);\n        max_so_far = std::max(max_so_far, max_ending_here);\n    }\n    max_sum = std::max(max_so_far, sum * k);\n    return max_sum;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    if (sum > 0) {\n        max_sum = std::max(max_sum, sum * k);\n    }\n    long prefix_sum = 0;\n    for (long i = 0; i < n; i++) {\n        prefix_sum += a[i];\n        max_sum = std::max(max_sum, prefix_sum);\n        if (prefix_sum < 0) {\n            prefix_sum = 0;\n        }\n    }\n    long suffix_sum = 0;\n    for (long i = n - 1; i >= 0; i--) {\n        suffix_sum += a[i];\n        max_sum = std::max(max_sum, suffix_sum);\n        if (suffix_sum < 0) {\n            suffix_sum = 0;\n        }\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_ending_here = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here = max_ending_here + a[i];\n        if(max_ending_here < 0) {\n            max_ending_here = 0;\n        }\n        if(max_sum < max_ending_here) {\n            max_sum = max_ending_here;\n        }\n    }\n    long max_wrap = 0;\n    for(long i = 0; i < n; i++) {\n        max_wrap = max_wrap + a[i];\n        a[i] = -a[i];\n    }\n    long max_ending_here_2 = 0;\n    for(long i = 0; i < n; i++) {\n        max_ending_here_2 = max_ending_here_2 + a[i];\n        if(max_ending_here_2 < 0) {\n            max_ending_here_2 = 0;\n        }\n        if(max_wrap < max_ending_here_2) {\n            max_wrap = max_ending_here_2;\n        }\n    }\n    max_wrap = max_wrap + max_wrap;\n    if(k == 1) {\n        return max_sum;\n    }\n    else if(k == 2) {\n        return std::max(max_sum, max_wrap);\n    }\n    else {\n        return std::max(max_sum, max_wrap + max_sum * (k - 2));\n    }",
    "    long sum = 0;\n    long max_sum = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        sum += a[i];\n        if (sum < 0) {\n            sum = 0;\n        }\n        max_sum = std::max(max_sum, sum);\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    long min_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        min_wrap += a[i];\n        a[i] = -a[i];\n    }\n    max_wrap = max_wrap + min_wrap;\n    if (k == 1) {\n        return max_sum;\n    }\n    if (k == 2) {\n        return std::max(max_wrap, max_sum);\n    }\n    return std::max(max_wrap, max_sum + (k - 2) * min_wrap);",
    "    // Write your code here\n    long max_so_far = INT_MIN;\n    long max_ending_here = 0;\n    long max_element = INT_MIN;\n    for(int i=0;i<n;i++)\n    {\n        max_ending_here = max_ending_here + a[i];\n        if(max_so_far < max_ending_here)\n            max_so_far = max_ending_here;\n        if(max_ending_here < 0)\n            max_ending_here = 0;\n        if(max_element < a[i])\n            max_element = a[i];\n    }\n    if(max_so_far < 0)\n        return max_element;\n    long sum = 0;\n    for(int i=0;i<n;i++)\n        sum += a[i];\n    long ans = max_so_far;\n    for(int i=2;i<=k;i++)\n    {\n        max_so_far = max_so_far + sum;\n        ans = max(ans,max_so_far);\n    }\n    return ans;",
    "    long max_sum = 0;\n    long curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    long max_wrap = 0;\n    for (long i = 0; i < n; i++) {\n        max_wrap += a[i];\n        a[i] = -a[i];\n    }\n    curr_sum = 0;\n    for (long i = 0; i < n; i++) {\n        curr_sum += a[i];\n        if (curr_sum < 0) {\n            curr_sum = 0;\n        }\n        max_sum = std::max(max_sum, curr_sum);\n    }\n    max_wrap = max_wrap + curr_sum;\n    if (k > 1) {\n        max_sum = std::max(max_sum, max_wrap);\n    }\n    return max_sum;",
    "    long sum = 0;\n    for (int i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long max_sum = sum;\n    for (int i = 1; i < k; i++) {\n        for (int j = 0; j < n; j++) {\n            sum += a[j];\n            max_sum = std::max(max_sum, sum);\n        }\n    }\n    return max_sum;",
    "    long max_sum = 0;\n    long max_sum_so_far = 0;\n    for(long i = 0; i < n; i++) {\n        max_sum_so_far += a[i];\n        if(max_sum_so_far < 0) {\n            max_sum_so_far = 0;\n        }\n        max_sum = std::max(max_sum, max_sum_so_far);\n    }\n    if(max_sum == 0) {\n        return max_sum;\n    }\n    long sum = 0;\n    for(long i = 0; i < n; i++) {\n        sum += a[i];\n    }\n    long ans = max_sum + (k - 2) * sum;\n    long prefix_sum = 0;\n    for(long i = 0; i < n; i++) {\n        prefix_sum += a[i];\n        max_sum_so_far = std::max(prefix_sum, max_sum_so_far);\n        ans = std::max(ans, max_sum_so_far + sum * (k - 2));\n    }\n    long suffix_sum = 0;\n    for(long i = n - 1; i >= 0; i--) {\n        suffix_sum += a[i];\n        max_sum_so_far = std::max(suffix_sum, max_sum_so_far);\n        ans = std::max(ans, max_sum_so_far + sum * (k - 2));\n    }\n    return ans;",
    "    long max_sum = 0;\n    long max_so_far = 0;\n    long max_element = *std::max_element(a.begin(), a.end());\n    if (max_element < 0) {\n        return max_element;\n    }\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    long sum = std::accumulate(a.begin(), a.end(), 0);\n    long ans = max_sum + (k - 2) * sum;\n    for (long i = 0; i < n; i++) {\n        max_so_far += a[i];\n        if (max_so_far < 0) {\n            max_so_far = 0;\n        }\n        if (max_sum < max_so_far) {\n            max_sum = max_so_far;\n        }\n    }\n    return std::max(ans, max_sum);"
  ]
}