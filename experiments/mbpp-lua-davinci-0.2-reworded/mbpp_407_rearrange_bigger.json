{
  "name": "mbpp_407_rearrange_bigger",
  "language": "lua",
  "prompt": "-- Write a function to create the next bigger number by rearranging the digits of a given number.\nlocal function rearrange_bigger(n)\n",
  "doctests": "transform",
  "original": "/home/arjun/repos/MultiPL-E/datasets/../datasets/mbpp-typed/mbpp_407_rearrange_bigger.py",
  "prompt_terminology": "reworded",
  "tests": "lu = require('luaunit')\n\nfunction test_humaneval()\nlocal candidate = rearrange_bigger\n    lu.assertEquals(candidate(12), 21)\n    lu.assertEquals(candidate(10), false)\n    lu.assertEquals(candidate(102), 120)\nend\n\nos.exit(lu.LuaUnit.run())",
  "stop_tokens": [
    "\nlocal",
    "\nfunction",
    "\n--",
    "\n\n"
  ],
  "completions": [
    "  local digits = {}\n  while n > 0 do\n    table.insert(digits, 1, n % 10)\n    n = math.floor(n / 10)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for digit in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(digit))\n  end\n  local i = #digits\n  while i > 1 and digits[i-1] >= digits[i] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i-1] do\n    j = j - 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  return table.concat(digits)\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = {}\n  for i = 1, #digits do\n    result[i] = tostring(digits[i])\n  end\n  return table.concat(result)\nend",
    "  local digits = {}\n  while n > 0 do\n    table.insert(digits, n % 10)\n    n = math.floor(n / 10)\n  end\n  for i = #digits - 1, 1, -1 do\n    if digits[i] > digits[i + 1] then\n      local j = i + 1\n      while j <= #digits and digits[j] < digits[i] do\n        j = j + 1\n      end\n      digits[i], digits[j - 1] = digits[j - 1], digits[i]\n      table.sort(digits, i + 1, #digits)\n      local result = 0\n      for _, d in ipairs(digits) do\n        result = result * 10 + d\n      end\n      return result\n    end\n  end\n  return -1\nend",
    "    local digits = {}\n    local n_copy = n\n    while n_copy > 0 do\n        table.insert(digits, n_copy % 10)\n        n_copy = math.floor(n_copy / 10)\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] <= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return -1\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for i = 1, #digits do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "    local digits = {}\n    for d in tostring(n):gmatch('%d') do\n        table.insert(digits, tonumber(d))\n    end\n    local i = #digits\n    while i > 1 and digits[i] <= digits[i-1] do\n        i = i - 1\n    end\n    if i == 1 then\n        return -1\n    end\n    local j = #digits\n    while digits[j] <= digits[i-1] do\n        j = j - 1\n    end\n    digits[i-1], digits[j] = digits[j], digits[i-1]\n    local k = #digits\n    while i < k do\n        digits[i], digits[k] = digits[k], digits[i]\n        i = i + 1\n        k = k - 1\n    end\n    local result = 0\n    for _, d in ipairs(digits) do\n        result = result * 10 + d\n    end\n    return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i <= 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i-1] do\n    j = j - 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  return tonumber(table.concat(digits))\nend",
    "    local digits = {}\n    while n > 0 do\n        table.insert(digits, n % 10)\n        n = math.floor(n / 10)\n    end\n    for i = #digits - 1, 1, -1 do\n        if digits[i] > digits[i + 1] then\n            local min = digits[i + 1]\n            local min_idx = i + 1\n            for j = i + 1, #digits do\n                if digits[j] < min and digits[j] > digits[i] then\n                    min = digits[j]\n                    min_idx = j\n                end\n            end\n            digits[i], digits[min_idx] = digits[min_idx], digits[i]\n            table.sort(digits, i + 1, #digits)\n            local result = 0\n            for j = 1, #digits do\n                result = result * 10 + digits[j]\n            end\n            return result\n        end\n    end\n    return -1\nend",
    "  local digits = {}\n  while n > 0 do\n    table.insert(digits, n % 10)\n    n = math.floor(n / 10)\n  end\n  table.sort(digits)\n  local result = 0\n  for i = #digits, 1, -1 do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits\n  while i > 1 and digits[i - 1] >= digits[i] do\n    i = i - 1\n  end\n  if i <= 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = \"\"\n  for i = 1, #digits do\n    result = result .. tostring(digits[i])\n  end\n  return tonumber(result)\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i,i))\n  end\n  for i = #digits - 1, 1, -1 do\n    if digits[i] < digits[i + 1] then\n      local min = i + 1\n      for j = i + 1, #digits do\n        if digits[j] < digits[min] and digits[j] > digits[i] then\n          min = j\n        end\n      end\n      digits[i], digits[min] = digits[min], digits[i]\n      table.sort(digits, i + 1, #digits)\n      local result = \"\"\n      for _, v in ipairs(digits) do\n        result = result .. tostring(v)\n      end\n      return tonumber(result)\n    end\n  end\n  return -1\nend",
    "    local digits = {}\n    while n > 0 do\n        table.insert(digits, n % 10)\n        n = math.floor(n / 10)\n    end\n    for i = #digits - 1, 1, -1 do\n        if digits[i] > digits[i + 1] then\n            local j = i + 1\n            while j < #digits and digits[j] > digits[i] do\n                j = j + 1\n            end\n            digits[i], digits[j - 1] = digits[j - 1], digits[i]\n            local k = i + 1\n            local l = #digits\n            while k < l do\n                digits[k], digits[l] = digits[l], digits[k]\n                k = k + 1\n                l = l - 1\n            end\n            local result = 0\n            for _, d in ipairs(digits) do\n                result = result * 10 + d\n            end\n            return result\n        end\n    end\n    return -1\nend",
    "  local digits = {}\n  while n > 0 do\n    table.insert(digits, n % 10)\n    n = math.floor(n / 10)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, digit in ipairs(digits) do\n    result = result * 10 + digit\n  end\n  return result\nend",
    "  local digits = {}\n  while n > 0 do\n    table.insert(digits, n % 10)\n    n = math.floor(n / 10)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[i] >= digits[j] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  return table.concat(digits)\nend",
    "    local digits = {}\n    while n > 0 do\n        table.insert(digits, n % 10)\n        n = math.floor(n / 10)\n    end\n    table.sort(digits)\n    local result = 0\n    for i = 1, #digits do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i-1] do\n    j = j - 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  return table.concat(digits)\nend",
    "    local digits = {}\n    for i = 1, #n do\n        digits[i] = tonumber(n:sub(i, i))\n    end",
    "    local digits = {}\n    for digit in tostring(n):gmatch(\"%d\") do\n        table.insert(digits, tonumber(digit))\n    end\n    local i = #digits\n    while i > 1 and digits[i - 1] >= digits[i] do\n        i = i - 1\n    end\n    if i <= 1 then\n        return -1\n    end\n    local j = #digits\n    while digits[j] <= digits[i - 1] do\n        j = j - 1\n    end\n    digits[i - 1], digits[j] = digits[j], digits[i - 1]\n    j = #digits\n    while i < j do\n        digits[i], digits[j] = digits[j], digits[i]\n        i = i + 1\n        j = j - 1\n    end\n    local result = 0\n    for _, digit in ipairs(digits) do\n        result = result * 10 + digit\n    end\n    return result\nend",
    "\tlocal digits = {}\n\tfor d in tostring(n):gmatch(\"%d\") do\n\t\ttable.insert(digits, tonumber(d))\n\tend\n\tlocal i = #digits\n\twhile i > 1 and digits[i] <= digits[i-1] do\n\t\ti = i - 1\n\tend\n\tif i == 1 then\n\t\treturn nil\n\tend\n\tlocal j = #digits\n\twhile digits[j] <= digits[i-1] do\n\t\tj = j - 1\n\tend\n\tdigits[i-1], digits[j] = digits[j], digits[i-1]\n\tlocal k = #digits\n\twhile i < k do\n\t\tdigits[i], digits[k] = digits[k], digits[i]\n\t\ti = i + 1\n\t\tk = k - 1\n\tend\n\tlocal result = 0\n\tfor _, d in ipairs(digits) do\n\t\tresult = result * 10 + d\n\tend\n\treturn result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch('%d') do\n    table.insert(digits, tonumber(d))\n  end\n  table.sort(digits)\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, d)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  return tonumber(table.concat(digits))\nend",
    "  local digits = {}\n  while n > 0 do\n    digits[#digits + 1] = n % 10\n    n = math.floor(n / 10)\n  end\n  for i = #digits - 1, 1, -1 do\n    if digits[i] < digits[i + 1] then\n      local j = #digits\n      while digits[j] <= digits[i] do\n        j = j - 1\n      end\n      digits[i], digits[j] = digits[j], digits[i]\n      local k = i + 1\n      local l = #digits\n      while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n      end\n      local result = 0\n      for i = 1, #digits do\n        result = result * 10 + digits[i]\n      end\n      return result\n    end\n  end\n  return nil\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, d)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  return tonumber(table.concat(digits))\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i+1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end",
    "\tlocal digits = {}\n\tfor i = 1, #n do\n\t\tdigits[i] = tonumber(n:sub(i, i))\n\tend\n\tlocal i = #digits - 1\n\twhile i > 0 and digits[i] >= digits[i + 1] do\n\t\ti = i - 1\n\tend\n\tif i == 0 then\n\t\treturn nil\n\tend\n\tlocal j = #digits\n\twhile digits[j] <= digits[i] do\n\t\tj = j - 1\n\tend\n\tdigits[i], digits[j] = digits[j], digits[i]\n\tlocal k = i + 1\n\tlocal l = #digits\n\twhile k < l do\n\t\tdigits[k], digits[l] = digits[l], digits[k]\n\t\tk = k + 1\n\t\tl = l - 1\n\tend\n\treturn table.concat(digits)\nend",
    "  local digits = {}\n  local i = 1\n  while n > 0 do\n    digits[i] = n % 10\n    n = math.floor(n / 10)\n    i = i + 1\n  end\n  local j = #digits\n  while j > 1 and digits[j - 1] >= digits[j] do\n    j = j - 1\n  end\n  if j > 1 then\n    local k = #digits\n    while digits[j - 1] >= digits[k] do\n      k = k - 1\n    end\n    digits[j - 1], digits[k] = digits[k], digits[j - 1]\n    local l = #digits\n    while j < l do\n      digits[j], digits[l] = digits[l], digits[j]\n      j = j + 1\n      l = l - 1\n    end\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "    local digits = {}\n    for d in tostring(n):gmatch(\"%d\") do\n        table.insert(digits, tonumber(d))\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i+1] do\n        i = i - 1\n    end\n    if i > 0 then\n        local j = #digits\n        while digits[j] <= digits[i] do\n            j = j - 1\n        end\n        digits[i], digits[j] = digits[j], digits[i]\n        local k = i + 1\n        local l = #digits\n        while k < l do\n            digits[k], digits[l] = digits[l], digits[k]\n            k = k + 1\n            l = l - 1\n        end\n    end\n    local result = 0\n    for i, d in ipairs(digits) do\n        result = result * 10 + d\n    end\n    return result\nend",
    "    local digits = {}\n    local n_copy = n\n    while n_copy > 0 do\n        table.insert(digits, n_copy % 10)\n        n_copy = math.floor(n_copy / 10)\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] <= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return -1\n    end\n    local j = i + 1\n    while j < #digits and digits[j] > digits[i] do\n        j = j + 1\n    end\n    j = j - 1\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for i = 1, #digits do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "  local digits = {}\n  local i = 1\n  while n > 0 do\n    digits[i] = n % 10\n    n = math.floor(n / 10)\n    i = i + 1\n  end\n  local j = i - 1\n  while j > 1 and digits[j] <= digits[j - 1] do\n    j = j - 1\n  end\n  if j > 1 then\n    local k = i - 1\n    while digits[k] <= digits[j - 1] do\n      k = k - 1\n    end\n    digits[j - 1], digits[k] = digits[k], digits[j - 1]\n    local l = j\n    local r = i - 1\n    while l < r do\n      digits[l], digits[r] = digits[r], digits[l]\n      l = l + 1\n      r = r - 1\n    end\n  end\n  local result = 0\n  for k = 1, i - 1 do\n    result = result * 10 + digits[k]\n  end\n  return result\nend",
    "    local digits = {}\n    for i = 1, #tostring(n) do\n        digits[i] = tonumber(tostring(n):sub(i, i))\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return -1\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for i = 1, #digits do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i > 0 then\n    local j = #digits\n    while digits[j] <= digits[i] do\n      j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n      digits[k], digits[l] = digits[l], digits[k]\n      k = k + 1\n      l = l - 1\n    end\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for i = 1, #tostring(n) do\n    digits[i] = tonumber(tostring(n):sub(i, i))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  for i = 1, #tostring(n) do\n    table.insert(digits, tonumber(string.sub(tostring(n), i, i)))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i <= 1 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  return table.concat(digits)\nend",
    "  local digits = {}\n  for digit in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(digit))\n  end\n  local i = #digits\n  while i > 1 and digits[i-1] >= digits[i] do\n    i = i - 1\n  end\n  if i <= 1 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i-1] do\n    j = j - 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  return tonumber(table.concat(digits))\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch('%d') do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i <= 1 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i-1] do\n    j = j - 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = \"\"\n  for i = 1, #digits do\n    result = result .. tostring(digits[i])\n  end\n  return tonumber(result)\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i - 1] >= digits[i] do\n    i = i - 1\n  end\n  if i > 1 then\n    local j = #digits\n    while digits[j] <= digits[i - 1] do\n      j = j - 1\n    end\n    digits[i - 1], digits[j] = digits[j], digits[i - 1]\n    local k = #digits\n    while i < k do\n      digits[i], digits[k] = digits[k], digits[i]\n      i = i + 1\n      k = k - 1\n    end\n  end\n  local result = \"\"\n  for _, d in ipairs(digits) do\n    result = result .. tostring(d)\n  end\n  return tonumber(result)\nend",
    "  local digits = {}\n  for digit in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(digit))\n  end\n  table.sort(digits)\n  local result = 0\n  for i, digit in ipairs(digits) do\n    result = result + digit * 10 ^ (i - 1)\n  end\n  return result\nend",
    "    local digits = {}\n    while n > 0 do\n        table.insert(digits, n % 10)\n        n = math.floor(n / 10)\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return nil\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for _, d in ipairs(digits) do\n        result = result * 10 + d\n    end\n    return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch('%d') do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local s = tostring(n)\n  local i = #s - 1\n  while i > 0 and s:sub(i, i) >= s:sub(i + 1, i + 1) do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #s\n  while s:sub(j, j) <= s:sub(i, i) do\n    j = j - 1\n  end\n  local t = s:sub(1, i - 1) .. s:sub(j, j)\n  local k = i + 1\n  while k <= j - 1 do\n    t = t .. s:sub(k, k)\n    k = k + 1\n  end\n  t = t .. s:sub(i, i)\n  k = j + 1\n  while k <= #s do\n    t = t .. s:sub(k, k)\n    k = k + 1\n  end\n  return tonumber(t)\nend",
    "    local digits = {}\n    while n > 0 do\n        table.insert(digits, n % 10)\n        n = math.floor(n / 10)\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return -1\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for _, d in ipairs(digits) do\n        result = result * 10 + d\n    end\n    return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  local n_copy = n\n  while n_copy > 0 do\n    table.insert(digits, n_copy % 10)\n    n_copy = math.floor(n_copy / 10)\n  end\n  table.sort(digits)\n  local bigger = 0\n  for i = #digits, 1, -1 do\n    bigger = bigger * 10 + digits[i]\n  end\n  return bigger\nend",
    "  local digits = {}\n  for digit in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(digit))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, digit in ipairs(digits) do\n    result = result * 10 + digit\n  end\n  return result\nend",
    "    local digits = {}\n    for i = 1, #n do\n        digits[i] = tonumber(n:sub(i, i))\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return nil\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = \"\"\n    for _, v in ipairs(digits) do\n        result = result .. tostring(v)\n    end\n    return tonumber(result)\nend",
    "\tlocal digits = {}\n\tfor i = 1, #n do\n\t\tdigits[i] = tonumber(n:sub(i, i))\n\tend\n\tlocal i = #digits - 1\n\twhile i > 0 and digits[i] >= digits[i + 1] do\n\t\ti = i - 1\n\tend\n\tif i == 0 then\n\t\treturn nil\n\tend\n\tlocal j = #digits\n\twhile digits[j] <= digits[i] do\n\t\tj = j - 1\n\tend\n\tdigits[i], digits[j] = digits[j], digits[i]\n\tlocal k = #digits\n\twhile i < k do\n\t\tdigits[i], digits[k] = digits[k], digits[i]\n\t\ti = i + 1\n\t\tk = k - 1\n\tend\n\treturn table.concat(digits)\nend",
    "\tlocal digits = {}\n\tfor i = 1, #n do\n\t\tdigits[i] = tonumber(n:sub(i, i))\n\tend\n\tlocal i = #digits\n\twhile i > 1 and digits[i - 1] >= digits[i] do\n\t\ti = i - 1\n\tend\n\tif i <= 1 then\n\t\treturn nil\n\tend\n\tlocal j = #digits\n\twhile digits[j] <= digits[i - 1] do\n\t\tj = j - 1\n\tend\n\tdigits[i - 1], digits[j] = digits[j], digits[i - 1]\n\tj = #digits\n\twhile i < j do\n\t\tdigits[i], digits[j] = digits[j], digits[i]\n\t\ti = i + 1\n\t\tj = j - 1\n\tend\n\treturn table.concat(digits)\nend",
    "  local digits = {}\n  local n_ = n\n  while n_ > 0 do\n    digits[#digits+1] = n_ % 10\n    n_ = math.floor(n_ / 10)\n  end\n  local i = #digits\n  while i > 1 and digits[i-1] >= digits[i] do\n    i = i - 1\n  end\n  if i > 1 then\n    local j = #digits\n    while digits[j] <= digits[i-1] do\n      j = j - 1\n    end\n    digits[i-1], digits[j] = digits[j], digits[i-1]\n    local k = #digits\n    while i < k do\n      digits[i], digits[k] = digits[k], digits[i]\n      i = i + 1\n      k = k - 1\n    end\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  table.sort(digits)\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i == 1 then return nil end\n  local j = #digits\n  while digits[j] <= digits[i-1] do\n    j = j - 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch('%d') do\n    table.insert(digits, tonumber(d))\n  end",
    "  local digits = {}\n  while n > 0 do\n    table.insert(digits, n % 10)\n    n = math.floor(n / 10)\n  end\n  for i = #digits - 1, 1, -1 do\n    if digits[i] > digits[i + 1] then\n      local j = i + 1\n      while j < #digits and digits[j] < digits[i] do\n        j = j + 1\n      end\n      digits[i], digits[j] = digits[j], digits[i]\n      local k = i + 1\n      local l = #digits\n      while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n      end\n      break\n    end\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "    local digits = {}\n    for i = 1, #n do\n        digits[i] = tonumber(n:sub(i, i))\n    end",
    "  local digits = {}\n  while n > 0 do\n    table.insert(digits, n % 10)\n    n = math.floor(n / 10)\n  end\n  for i = #digits, 1, -1 do\n    if digits[i] > digits[i - 1] then\n      local tmp = digits[i]\n      digits[i] = digits[i - 1]\n      digits[i - 1] = tmp\n      break\n    end\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  while n > 0 do\n    local digit = n % 10\n    n = (n - digit) / 10\n    table.insert(digits, digit)\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i > 1 then\n    local j = #digits\n    while j > i and digits[j] <= digits[i-1] do\n      j = j - 1\n    end\n    digits[i-1], digits[j] = digits[j], digits[i-1]\n    local k = i\n    j = #digits\n    while k < j do\n      digits[k], digits[j] = digits[j], digits[k]\n      k = k + 1\n      j = j - 1\n    end\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch('%d') do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i-1] do\n    j = j - 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  local n_copy = n\n  while n_copy > 0 do\n    table.insert(digits, n_copy % 10)\n    n_copy = math.floor(n_copy / 10)\n  end",
    "    local digits = {}\n    local n_copy = n\n    while n_copy > 0 do\n        table.insert(digits, n_copy % 10)\n        n_copy = math.floor(n_copy / 10)\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] <= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return -1\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for _, v in ipairs(digits) do\n        result = result * 10 + v\n    end\n    return result\nend",
    "    local digits = {}\n    local n_copy = n\n    while n_copy > 0 do\n        table.insert(digits, n_copy % 10)\n        n_copy = math.floor(n_copy / 10)\n    end\n    for i = #digits - 1, 1, -1 do\n        if digits[i] > digits[i + 1] then\n            local j = i + 1\n            while j <= #digits and digits[i] > digits[j] do\n                j = j + 1\n            end\n            digits[i], digits[j - 1] = digits[j - 1], digits[i]\n            local left = i + 1\n            local right = #digits\n            while left < right do\n                digits[left], digits[right] = digits[right], digits[left]\n                left = left + 1\n                right = right - 1\n            end\n            break\n        end\n    end\n    local result = 0\n    for i = 1, #digits do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = i\n  while j < #digits and digits[j + 1] > digits[i - 1] do\n    j = j + 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = i\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = \"\"\n  for _, digit in ipairs(digits) do\n    result = result .. digit\n  end\n  return tonumber(result)\nend",
    "    local digits = {}\n    while n > 0 do\n        table.insert(digits, n % 10)\n        n = math.floor(n / 10)\n    end\n    for i = #digits - 1, 1, -1 do\n        if digits[i] > digits[i + 1] then\n            local j = i + 1\n            while j < #digits and digits[j] < digits[i] do\n                j = j + 1\n            end\n            digits[i], digits[j] = digits[j], digits[i]\n            local k = i + 1\n            local l = #digits\n            while k < l do\n                digits[k], digits[l] = digits[l], digits[k]\n                k = k + 1\n                l = l - 1\n            end\n            break\n        end\n    end\n    local result = 0\n    for i = 1, #digits do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "    local digits = {}\n    while n > 0 do\n        digits[#digits + 1] = n % 10\n        n = math.floor(n / 10)\n    end\n    for i = #digits - 1, 1, -1 do\n        if digits[i] > digits[i + 1] then\n            local j = i + 1\n            while j < #digits and digits[j] > digits[i] do\n                j = j + 1\n            end\n            digits[i], digits[j - 1] = digits[j - 1], digits[i]\n            for k = 1, math.floor((#digits - i) / 2) do\n                digits[i + k], digits[#digits - k + 1] = digits[#digits - k + 1], digits[i + k]\n            end\n            break\n        end\n    end\n    local result = 0\n    for i = 1, #digits do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "\tlocal digits = {}\n\tfor i = 1, #tostring(n) do\n\t\tdigits[i] = tonumber(tostring(n):sub(i, i))\n\tend\n\tlocal i = #digits\n\twhile i > 1 and digits[i - 1] >= digits[i] do\n\t\ti = i - 1\n\tend\n\tif i <= 1 then\n\t\treturn -1\n\tend\n\tlocal j = #digits\n\twhile digits[j] <= digits[i - 1] do\n\t\tj = j - 1\n\tend\n\tdigits[i - 1], digits[j] = digits[j], digits[i - 1]\n\tj = #digits\n\twhile i < j do\n\t\tdigits[i], digits[j] = digits[j], digits[i]\n\t\ti = i + 1\n\t\tj = j - 1\n\tend\n\tlocal result = 0\n\tfor i = 1, #digits do\n\t\tresult = result * 10 + digits[i]\n\tend\n\treturn result\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  return table.concat(digits)\nend",
    "\tlocal digits = {}\n\tlocal n_copy = n\n\twhile n_copy > 0 do\n\t\tdigits[#digits+1] = n_copy % 10\n\t\tn_copy = math.floor(n_copy / 10)\n\tend\n\tfor i = #digits-1, 1, -1 do\n\t\tif digits[i] > digits[i+1] then\n\t\t\tlocal j = i+1\n\t\t\twhile j <= #digits and digits[j] < digits[i] do\n\t\t\t\tj = j + 1\n\t\t\tend\n\t\t\tj = j - 1\n\t\t\tdigits[i], digits[j] = digits[j], digits[i]\n\t\t\tfor k = i+1, math.floor((#digits+i)/2) do\n\t\t\t\tdigits[k], digits[#digits+i-k+1] = digits[#digits+i-k+1], digits[k]\n\t\t\tend\n\t\t\tlocal result = 0\n\t\t\tfor k = 1, #digits do\n\t\t\t\tresult = result * 10 + digits[k]\n\t\t\tend\n\t\t\treturn result\n\t\tend\n\tend\n\treturn -1\nend",
    "    local digits = {}\n    local n = n\n    while n > 0 do\n        local digit = n % 10\n        table.insert(digits, digit)\n        n = (n - digit) / 10\n    end\n    table.sort(digits)\n    local result = 0\n    for i, v in ipairs(digits) do\n        result = result + v * 10 ^ (i - 1)\n    end\n    return result\nend",
    "  local digits = {}\n  local i = 1\n  while n > 0 do\n    digits[i] = n % 10\n    n = math.floor(n / 10)\n    i = i + 1\n  end\n  local j = i - 1\n  while j > 1 and digits[j] <= digits[j - 1] do\n    j = j - 1\n  end\n  if j > 1 then\n    local k = i - 1\n    while digits[k] <= digits[j - 1] do\n      k = k - 1\n    end\n    digits[j - 1], digits[k] = digits[k], digits[j - 1]\n    local l = j\n    local r = i - 1\n    while l < r do\n      digits[l], digits[r] = digits[r], digits[l]\n      l = l + 1\n      r = r - 1\n    end\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  while n > 0 do\n    table.insert(digits, n % 10)\n    n = math.floor(n / 10)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  while n > 0 do\n    table.insert(digits, n % 10)\n    n = math.floor(n / 10)\n  end\n  for i = #digits - 1, 1, -1 do\n    if digits[i] > digits[i + 1] then\n      local min = math.huge\n      local min_idx = 0\n      for j = i + 1, #digits do\n        if digits[j] < min and digits[j] > digits[i] then\n          min = digits[j]\n          min_idx = j\n        end\n      end\n      digits[i], digits[min_idx] = digits[min_idx], digits[i]\n      local tail = {}\n      for j = i + 1, #digits do\n        table.insert(tail, digits[j])\n      end\n      table.sort(tail)\n      for j = i + 1, #digits do\n        digits[j] = tail[j - i]\n      end\n      break\n    end\n  end\n  local res = 0\n  for i = #digits, 1, -1 do\n    res = res * 10 + digits[i]\n  end\n  return res\nend",
    "    local digits = {}\n    while n > 0 do\n        table.insert(digits, n % 10)\n        n = math.floor(n / 10)\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return nil\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for _, d in ipairs(digits) do\n        result = result * 10 + d\n    end\n    return result\nend",
    "  local digits = {}\n  local n_copy = n\n  while n_copy > 0 do\n    table.insert(digits, n_copy % 10)\n    n_copy = math.floor(n_copy / 10)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] <= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  while n > 0 do\n    digits[#digits + 1] = n % 10\n    n = math.floor(n / 10)\n  end\n  for i = #digits - 1, 1, -1 do\n    if digits[i] < digits[i + 1] then\n      local j = i + 1\n      while j <= #digits and digits[j] > digits[i] do\n        j = j + 1\n      end\n      digits[i], digits[j - 1] = digits[j - 1], digits[i]\n      local k = i + 1\n      local l = #digits\n      while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n      end\n      local result = 0\n      for _, digit in ipairs(digits) do\n        result = result * 10 + digit\n      end\n      return result\n    end\n  end\n  return nil\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch('%d') do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "    local digits = {}\n    while n > 0 do\n        table.insert(digits, n % 10)\n        n = math.floor(n / 10)\n    end\n    table.sort(digits)\n    local result = 0\n    for i = #digits, 1, -1 do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = \"\"\n  for _, v in ipairs(digits) do\n    result = result .. tostring(v)\n  end\n  return tonumber(result)\nend",
    "\tlocal digits = {}\n\tlocal n_copy = n\n\twhile n_copy > 0 do\n\t\ttable.insert(digits, n_copy % 10)\n\t\tn_copy = math.floor(n_copy / 10)\n\tend\n\ttable.sort(digits)\n\tlocal result = 0\n\tfor i = 1, #digits do\n\t\tresult = result * 10 + digits[i]\n\tend\n\treturn result\nend",
    "  local digits = {}\n  while n > 0 do\n    table.insert(digits, n % 10)\n    n = math.floor(n / 10)\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] >= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  return tonumber(table.concat(digits))\nend",
    "  local digits = {}\n  while n > 0 do\n    table.insert(digits, n % 10)\n    n = math.floor(n / 10)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] <= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    digits[#digits + 1] = tonumber(d)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i-1] do\n    j = j - 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  return tonumber(table.concat(digits))\nend",
    "  local digits = {}\n  local n_copy = n\n  while n_copy > 0 do\n    table.insert(digits, n_copy % 10)\n    n_copy = math.floor(n_copy / 10)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  local n_copy = n\n  while n_copy > 0 do\n    table.insert(digits, n_copy % 10)\n    n_copy = math.floor(n_copy / 10)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] <= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while j > i and digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  for digit in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(digit))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, digit in ipairs(digits) do\n    result = result * 10 + digit\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  table.sort(digits)\n  local n = 0\n  for i, d in ipairs(digits) do\n    n = n + d * 10^(#digits - i)\n  end\n  return n\nend",
    "    local digits = {}\n    for d in tostring(n):gmatch(\"%d\") do\n        table.insert(digits, tonumber(d))\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return nil\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for _, d in ipairs(digits) do\n        result = result * 10 + d\n    end\n    return result\nend",
    "  local digits = {}\n  local n_copy = n\n  while n_copy > 0 do\n    table.insert(digits, n_copy % 10)\n    n_copy = math.floor(n_copy / 10)\n  end\n  table.sort(digits)\n  local bigger = 0\n  for i = 1, #digits do\n    bigger = bigger * 10 + digits[i]\n  end\n  return bigger\nend",
    "    local digits = {}\n    local n = n\n    while n > 0 do\n        table.insert(digits, n % 10)\n        n = math.floor(n / 10)\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] <= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return -1\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for _, v in ipairs(digits) do\n        result = result * 10 + v\n    end\n    return result\nend",
    "  local digits = {}\n  for i = 1, #tostring(n) do\n    digits[i] = tonumber(tostring(n):sub(i, i))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch('.') do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  local n = n\n  while n > 0 do\n    table.insert(digits, n % 10)\n    n = math.floor(n / 10)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] <= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "\tlocal digits = {}\n\tfor d in tostring(n):gmatch(\"%d\") do\n\t\ttable.insert(digits, tonumber(d))\n\tend\n\tlocal i = #digits - 1\n\twhile i > 0 and digits[i] >= digits[i + 1] do\n\t\ti = i - 1\n\tend\n\tif i == 0 then\n\t\treturn nil\n\tend\n\tlocal j = #digits\n\twhile digits[j] <= digits[i] do\n\t\tj = j - 1\n\tend\n\tdigits[i], digits[j] = digits[j], digits[i]\n\tlocal k = i + 1\n\tlocal l = #digits\n\twhile k < l do\n\t\tdigits[k], digits[l] = digits[l], digits[k]\n\t\tk = k + 1\n\t\tl = l - 1\n\tend\n\tlocal result = 0\n\tfor _, d in ipairs(digits) do\n\t\tresult = result * 10 + d\n\tend\n\treturn result\nend",
    "    local digits = {}\n    for digit in tostring(n):gmatch(\"%d\") do\n        table.insert(digits, tonumber(digit))\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return -1\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for _, digit in ipairs(digits) do\n        result = result * 10 + digit\n    end\n    return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i-1] do\n    j = j - 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  return table.concat(digits, \"\")\nend",
    "    local digits = {}\n    for i = 1, #tostring(n) do\n        digits[i] = tonumber(tostring(n):sub(i, i))\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return -1\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for i = 1, #digits do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  table.sort(digits)\n  local i = #digits\n  while i > 0 and digits[i] == 9 do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local d = digits[i]\n  digits[i] = nil\n  table.insert(digits, 1, d)\n  return table.concat(digits)\nend",
    "  local digits = {}\n  for i = 1, #tostring(n) do\n    digits[i] = tonumber(tostring(n):sub(i, i))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then return -1 end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "    local digits = {}\n    for d in tostring(n):gmatch(\"%d\") do\n        table.insert(digits, tonumber(d))\n    end\n    local i = #digits\n    while i > 1 and digits[i] <= digits[i-1] do\n        i = i - 1\n    end\n    if i > 1 then\n        local j = i\n        while j < #digits and digits[j] > digits[i-1] do\n            j = j + 1\n        end\n        digits[i-1], digits[j-1] = digits[j-1], digits[i-1]\n        local k = i\n        local l = #digits\n        while k < l do\n            digits[k], digits[l] = digits[l], digits[k]\n            k = k + 1\n            l = l - 1\n        end\n    end\n    local result = 0\n    for i = 1, #digits do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "    local digits = {}\n    for d in tostring(n):gmatch(\"%d\") do\n        table.insert(digits, tonumber(d))\n    end\n    local i = #digits\n    while i > 1 and digits[i - 1] >= digits[i] do\n        i = i - 1\n    end\n    if i == 1 then\n        return nil\n    end\n    local j = #digits\n    while digits[j] <= digits[i - 1] do\n        j = j - 1\n    end\n    digits[i - 1], digits[j] = digits[j], digits[i - 1]\n    local k = #digits\n    while i < k do\n        digits[i], digits[k] = digits[k], digits[i]\n        i = i + 1\n        k = k - 1\n    end\n    local result = 0\n    for _, d in ipairs(digits) do\n        result = result * 10 + d\n    end\n    return result\nend",
    "    local digits = {}\n    local n_copy = n\n    while n_copy > 0 do\n        table.insert(digits, n_copy % 10)\n        n_copy = math.floor(n_copy / 10)\n    end\n    local i = #digits\n    while i > 1 do\n        if digits[i] > digits[i - 1] then\n            break\n        end\n        i = i - 1\n    end\n    if i == 1 then\n        return -1\n    end\n    local j = i\n    while j < #digits do\n        if digits[j] < digits[i - 1] then\n            break\n        end\n        j = j + 1\n    end\n    digits[i - 1], digits[j - 1] = digits[j - 1], digits[i - 1]\n    local k = i\n    while k < #digits do\n        digits[k], digits[#digits] = digits[#digits], digits[k]\n        k = k + 1\n    end\n    local result = 0\n    for i = 1, #digits do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "    local digits = {}\n    for digit in tostring(n):gmatch(\"%d\") do\n        digits[#digits + 1] = tonumber(digit)\n    end\n    for i = #digits - 1, 1, -1 do\n        if digits[i] < digits[i + 1] then\n            local j = i + 1\n            while j <= #digits and digits[j] > digits[i] do\n                j = j + 1\n            end\n            j = j - 1\n            digits[i], digits[j] = digits[j], digits[i]\n            local left = i + 1\n            local right = #digits\n            while left < right do\n                digits[left], digits[right] = digits[right], digits[left]\n                left = left + 1\n                right = right - 1\n            end\n            return tonumber(table.concat(digits))\n        end\n    end\n    return -1\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch('%d') do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "    local digits = {}\n    while n > 0 do\n        table.insert(digits, n % 10)\n        n = math.floor(n / 10)\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return nil\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = #digits\n    i = i + 1\n    while i < k do\n        digits[i], digits[k] = digits[k], digits[i]\n        i = i + 1\n        k = k - 1\n    end\n    local result = 0\n    for _, d in ipairs(digits) do\n        result = result * 10 + d\n    end\n    return result\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = \"\"\n  for i = 1, #digits do\n    result = result .. tostring(digits[i])\n  end\n  return tonumber(result)\nend",
    "    local digits = {}\n    for d in tostring(n):gmatch(\"%d\") do\n        table.insert(digits, tonumber(d))\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return nil\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    return tonumber(table.concat(digits))\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i,i))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i+1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = \"\"\n  for i = 1, #digits do\n    result = result .. tostring(digits[i])\n  end\n  return tonumber(result)\nend",
    "    local digits = {}\n    for d in tostring(n):gmatch('%d') do\n        table.insert(digits, tonumber(d))\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return nil\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for _, d in ipairs(digits) do\n        result = result * 10 + d\n    end\n    return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i+1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch('%d') do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i-1] do\n    j = j - 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = i\n  while j < #digits and digits[j+1] > digits[i-1] do\n    j = j + 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = i\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "    local digits = {}\n    while n > 0 do\n        table.insert(digits, n % 10)\n        n = math.floor(n / 10)\n    end\n    table.sort(digits)\n    local result = 0\n    for i, v in ipairs(digits) do\n        result = result * 10 + v\n    end\n    return result\nend",
    "  local digits = {}\n  while n > 0 do\n    table.insert(digits, 1, n % 10)\n    n = math.floor(n / 10)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = {}\n  for i = 1, #digits do\n    result[i] = tostring(digits[i])\n  end\n  return table.concat(result)\nend",
    "  local digits = {}\n  for i = 1, #tostring(n) do\n    digits[i] = tonumber(tostring(n):sub(i, i))\n  end\n  local i = #digits\n  while i > 1 do\n    if digits[i] > digits[i - 1] then\n      local j = #digits\n      while digits[j] < digits[i - 1] do\n        j = j - 1\n      end\n      digits[i - 1], digits[j] = digits[j], digits[i - 1]\n      local k = #digits\n      while i < k do\n        digits[i], digits[k] = digits[k], digits[i]\n        i = i + 1\n        k = k - 1\n      end\n      break\n    end\n    i = i - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "    local digits = {}\n    local i = 0\n    while n > 0 do\n        i = i + 1\n        digits[i] = n % 10\n        n = math.floor(n / 10)\n    end\n    for i = #digits - 1, 1, -1 do\n        if digits[i] > digits[i + 1] then\n            local j = i + 1\n            while j <= #digits and digits[j] < digits[i] do\n                j = j + 1\n            end\n            digits[i], digits[j - 1] = digits[j - 1], digits[i]\n            for k = i + 1, #digits do\n                for l = k + 1, #digits do\n                    if digits[k] > digits[l] then\n                        digits[k], digits[l] = digits[l], digits[k]\n                    end\n                end\n            end\n            break\n        end\n    end\n    local result = 0\n    for i = #digits, 1, -1 do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "  local s = tostring(n)\n  local len = #s\n  local i = len\n  while i > 1 and s:sub(i, i) <= s:sub(i - 1, i - 1) do\n    i = i - 1\n  end\n  if i == 1 then\n    return -1\n  end\n  local j = len\n  while s:sub(j, j) >= s:sub(i - 1, i - 1) do\n    j = j - 1\n  end\n  local t = s:sub(1, i - 2) .. s:sub(j, j)\n  local k = i\n  while k <= j do\n    t = t .. s:sub(k, k)\n    k = k + 1\n  end\n  k = i - 1\n  while k > 1 do\n    t = t .. s:sub(k, k)\n    k = k - 1\n  end\n  return tonumber(t)\nend",
    "    local digits = {}\n    local n_copy = n\n    while n_copy > 0 do\n        table.insert(digits, n_copy % 10)\n        n_copy = math.floor(n_copy / 10)\n    end\n    local i = #digits\n    while i > 1 and digits[i] <= digits[i - 1] do\n        i = i - 1\n    end\n    if i == 1 then\n        return -1\n    end\n    local j = i\n    while j < #digits and digits[j] > digits[i - 1] do\n        j = j + 1\n    end\n    digits[i - 1], digits[j - 1] = digits[j - 1], digits[i - 1]\n    local k = i\n    j = #digits\n    while k < j do\n        digits[k], digits[j] = digits[j], digits[k]\n        k = k + 1\n        j = j - 1\n    end\n    local result = 0\n    for _, v in ipairs(digits) do\n        result = result * 10 + v\n    end\n    return result\nend",
    "\tlocal s = tostring(n)\n\tlocal t = {}\n\tfor i = 1, #s do\n\t\tt[i] = tonumber(s:sub(i, i))\n\tend\n\tlocal i = #t\n\twhile i > 1 and t[i - 1] >= t[i] do\n\t\ti = i - 1\n\tend\n\tif i <= 1 then\n\t\treturn -1\n\tend\n\tlocal j = #t\n\twhile t[j] <= t[i - 1] do\n\t\tj = j - 1\n\tend\n\tt[i - 1], t[j] = t[j], t[i - 1]\n\tlocal k = #t\n\twhile i < k do\n\t\tt[i], t[k] = t[k], t[i]\n\t\ti = i + 1\n\t\tk = k - 1\n\tend\n\tlocal r = 0\n\tfor i = 1, #t do\n\t\tr = r * 10 + t[i]\n\tend\n\treturn r\nend",
    "    local digits = {}\n    for d in tostring(n):gmatch(\"%d\") do\n        table.insert(digits, tonumber(d))\n    end\n    table.sort(digits)\n    local i = #digits\n    while i > 1 and digits[i] <= digits[i - 1] do\n        i = i - 1\n    end\n    if i == 1 then\n        return nil\n    end\n    local j = #digits\n    while digits[j] <= digits[i - 1] do\n        j = j - 1\n    end\n    digits[i - 1], digits[j] = digits[j], digits[i - 1]\n    local head = table.remove(digits, 1, i - 1)\n    table.sort(digits)\n    return table.concat(head, \"\") .. table.concat(digits, \"\")\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = \"\"\n  for i = 1, #digits do\n    result = result .. tostring(digits[i])\n  end\n  return tonumber(result)\nend",
    "  local digits = {}\n  local n_copy = n\n  while n_copy > 0 do\n    local digit = n_copy % 10\n    table.insert(digits, digit)\n    n_copy = math.floor(n_copy / 10)\n  end",
    "    local digits = {}\n    while n > 0 do\n        table.insert(digits, n % 10)\n        n = math.floor(n / 10)\n    end\n    for i = #digits - 1, 1, -1 do\n        if digits[i] > digits[i + 1] then\n            local j = i + 1\n            while j < #digits and digits[j] < digits[i] do\n                j = j + 1\n            end\n            digits[i], digits[j] = digits[j], digits[i]\n            table.sort(digits, i + 1, #digits)\n            local result = 0\n            for j = 1, #digits do\n                result = result * 10 + digits[j]\n            end\n            return result\n        end\n    end\n    return nil\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i <= 1 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i+1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "    local digits = {}\n    while n > 0 do\n        table.insert(digits, n % 10)\n        n = math.floor(n / 10)\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return -1\n    end\n    local j = #digits\n    while digits[i] >= digits[j] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for _, d in ipairs(digits) do\n        result = result * 10 + d\n    end\n    return result\nend",
    "  local digits = {}\n  for digit in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(digit))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, digit in ipairs(digits) do\n    result = result * 10 + digit\n  end\n  return result\nend",
    "  local digits = {}\n  while n > 0 do\n    digits[#digits+1] = n % 10\n    n = math.floor(n / 10)\n  end\n  for i = #digits-1, 1, -1 do\n    if digits[i] < digits[i+1] then\n      local j = i+1\n      while j <= #digits and digits[j] > digits[i] do\n        j = j + 1\n      end\n      j = j - 1\n      digits[i], digits[j] = digits[j], digits[i]\n      for k = i+1, math.floor((#digits+i)/2) do\n        digits[k], digits[#digits+i-k+1] = digits[#digits+i-k+1], digits[k]\n      end\n      local result = 0\n      for k = 1, #digits do\n        result = result * 10 + digits[k]\n      end\n      return result\n    end\n  end\n  return nil\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i+1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for i = 1, #tostring(n) do\n    table.insert(digits, tonumber(tostring(n):sub(i, i)))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i > 1 then\n    local j = #digits\n    while digits[j] <= digits[i - 1] do\n      j = j - 1\n    end\n    digits[i - 1], digits[j] = digits[j], digits[i - 1]\n    local k = #digits\n    while i < k do\n      digits[i], digits[k] = digits[k], digits[i]\n      i = i + 1\n      k = k - 1\n    end\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  local n_copy = n\n  while n_copy > 0 do\n    table.insert(digits, n_copy % 10)\n    n_copy = math.floor(n_copy / 10)\n  end\n  table.sort(digits)\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "    local n_str = tostring(n)\n    local n_len = #n_str\n    local n_arr = {}\n    for i = 1, n_len do\n        n_arr[i] = tonumber(n_str:sub(i, i))\n    end\n    local i = n_len - 1\n    while i > 0 and n_arr[i] >= n_arr[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return -1\n    end\n    local j = n_len\n    while n_arr[j] <= n_arr[i] do\n        j = j - 1\n    end\n    n_arr[i], n_arr[j] = n_arr[j], n_arr[i]\n    local k = i + 1\n    local l = n_len\n    while k < l do\n        n_arr[k], n_arr[l] = n_arr[l], n_arr[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for i = 1, n_len do\n        result = result * 10 + n_arr[i]\n    end\n    return result\nend",
    "  local digits = {}\n  while n > 0 do\n    table.insert(digits, n % 10)\n    n = math.floor(n / 10)\n  end\n  local i = #digits - 1\n  while i >= 1 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i < 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  while n > 0 do\n    digits[#digits+1] = n % 10\n    n = math.floor(n / 10)\n  end\n  for i = #digits-1, 1, -1 do\n    if digits[i] < digits[i+1] then\n      local j = i + 1\n      while j < #digits and digits[j] > digits[i] do\n        j = j + 1\n      end\n      digits[i], digits[j-1] = digits[j-1], digits[i]\n      local k = i + 1\n      local l = #digits\n      while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n      end\n      local result = 0\n      for i = 1, #digits do\n        result = result * 10 + digits[i]\n      end\n      return result\n    end\n  end\n  return nil\nend",
    "\tlocal digits = {}\n\twhile n > 0 do\n\t\ttable.insert(digits, n % 10)\n\t\tn = math.floor(n / 10)\n\tend\n\tlocal i = #digits - 1\n\twhile i > 0 and digits[i] <= digits[i+1] do\n\t\ti = i - 1\n\tend\n\tif i > 0 then\n\t\tlocal j = #digits\n\t\twhile digits[j] <= digits[i] do\n\t\t\tj = j - 1\n\t\tend\n\t\tdigits[i], digits[j] = digits[j], digits[i]\n\t\ti = i + 1\n\t\tj = #digits\n\t\twhile i < j do\n\t\t\tdigits[i], digits[j] = digits[j], digits[i]\n\t\t\ti = i + 1\n\t\t\tj = j - 1\n\t\tend\n\tend\n\tlocal result = 0\n\tfor i = 1, #digits do\n\t\tresult = result * 10 + digits[i]\n\tend\n\treturn result\nend",
    "  local digits = {}\n  while n > 0 do\n    table.insert(digits, 1, n % 10)\n    n = math.floor(n / 10)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "    local digits = {}\n    while n > 0 do\n        table.insert(digits, n % 10)\n        n = math.floor(n / 10)\n    end\n    table.sort(digits)\n    local result = 0\n    for _, d in ipairs(digits) do\n        result = result * 10 + d\n    end\n    return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  table.sort(digits, function(a, b) return a > b end)\n  local result = 0\n  for i, d in ipairs(digits) do\n    result = result + d * 10 ^ (i - 1)\n  end\n  return result\nend",
    "  local digits = {}\n  local n_copy = n\n  while n_copy > 0 do\n    digits[#digits + 1] = n_copy % 10\n    n_copy = math.floor(n_copy / 10)\n  end\n  for i = #digits - 1, 1, -1 do\n    if digits[i] > digits[i + 1] then\n      local j = i + 1\n      while j <= #digits and digits[j] < digits[i] do\n        j = j + 1\n      end\n      digits[i], digits[j - 1] = digits[j - 1], digits[i]\n      for k = 1, math.floor((#digits - i) / 2) do\n        digits[i + k], digits[#digits - k + 1] = digits[#digits - k + 1], digits[i + k]\n      end\n      break\n    end\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "    local s = tostring(n)\n    local i = #s\n    while i > 1 and s:sub(i, i) <= s:sub(i - 1, i - 1) do\n        i = i - 1\n    end\n    if i == 1 then\n        return -1\n    end\n    local j = #s\n    while s:sub(j, j) <= s:sub(i - 1, i - 1) do\n        j = j - 1\n    end\n    s = s:sub(1, i - 1) .. s:sub(j, j) .. s:sub(i, j - 1) .. s:sub(i - 1, i - 1) .. s:sub(j + 1, #s)\n    return tonumber(s)\nend\nassert(rearrange_bigger(2017) == 2071)\nassert(rearrange_bigger(414) == 441)\nassert(rearrange_bigger(144) == 414)\nassert(rearrange_bigger(123456789) == 123456798)\nassert(rearrange_bigger(123456798) == -1)\nassert(rearrange_bigger(1234567908) == 1234568907)",
    "\tlocal digits = {}\n\tlocal n_copy = n\n\twhile n_copy > 0 do\n\t\ttable.insert(digits, n_copy % 10)\n\t\tn_copy = math.floor(n_copy / 10)\n\tend\n\tlocal i = #digits - 1\n\twhile i > 0 and digits[i] <= digits[i + 1] do\n\t\ti = i - 1\n\tend\n\tif i == 0 then\n\t\treturn -1\n\tend\n\tlocal j = #digits\n\twhile digits[j] <= digits[i] do\n\t\tj = j - 1\n\tend\n\tdigits[i], digits[j] = digits[j], digits[i]\n\tlocal k = i + 1\n\tlocal l = #digits\n\twhile k < l do\n\t\tdigits[k], digits[l] = digits[l], digits[k]\n\t\tk = k + 1\n\t\tl = l - 1\n\tend\n\tlocal result = 0\n\tfor _, d in ipairs(digits) do\n\t\tresult = result * 10 + d\n\tend\n\treturn result\nend",
    "  local digits = {}\n  local n_copy = n\n  while n_copy > 0 do\n    local digit = n_copy % 10\n    table.insert(digits, digit)\n    n_copy = math.floor(n_copy / 10)\n  end",
    "\tlocal digits = {}\n\tlocal n_copy = n\n\twhile n_copy > 0 do\n\t\ttable.insert(digits, n_copy % 10)\n\t\tn_copy = math.floor(n_copy / 10)\n\tend\n\tlocal i = #digits - 1\n\twhile i > 0 and digits[i] <= digits[i + 1] do\n\t\ti = i - 1\n\tend\n\tif i == 0 then\n\t\treturn nil\n\tend\n\tlocal j = #digits\n\twhile digits[j] <= digits[i] do\n\t\tj = j - 1\n\tend\n\tlocal tmp = digits[i]\n\tdigits[i] = digits[j]\n\tdigits[j] = tmp\n\tlocal left = i + 1\n\tlocal right = #digits\n\twhile left < right do\n\t\ttmp = digits[left]\n\t\tdigits[left] = digits[right]\n\t\tdigits[right] = tmp\n\t\tleft = left + 1\n\t\tright = right - 1\n\tend\n\tlocal result = 0\n\tfor i = 1, #digits do\n\t\tresult = result * 10 + digits[i]\n\tend\n\treturn result\nend",
    "  local digits = {}\n  local n = n\n  while n > 0 do\n    table.insert(digits, n % 10)\n    n = math.floor(n / 10)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] <= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  local n_copy = n\n  while n_copy > 0 do\n    local digit = n_copy % 10\n    table.insert(digits, digit)\n    n_copy = math.floor(n_copy / 10)\n  end\n  local digits_len = #digits\n  local i = digits_len - 1\n  while i > 0 and digits[i] <= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = digits_len\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = digits_len\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for i = 1, digits_len do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  local nn = n\n  while nn > 0 do\n    table.insert(digits, nn % 10)\n    nn = math.floor(nn / 10)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] <= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  table.sort(digits)\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i == 1 then return nil end\n  local j = #digits\n  while digits[j] <= digits[i-1] do\n    j = j - 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i-1] do\n    j = j - 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  local n_copy = n\n  while n_copy > 0 do\n    table.insert(digits, n_copy % 10)\n    n_copy = math.floor(n_copy / 10)\n  end\n  local i = #digits - 1\n  while i > 0 do\n    if digits[i] > digits[i + 1] then\n      break\n    end\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while j > i do\n    if digits[j] > digits[i] then\n      break\n    end\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch('%d') do\n    table.insert(digits, tonumber(d))\n  end",
    "  local digits = {}\n  for i = 1, #tostring(n) do\n    digits[i] = tonumber(tostring(n):sub(i, i))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  local n_copy = n\n  while n_copy > 0 do\n    table.insert(digits, n_copy % 10)\n    n_copy = math.floor(n_copy / 10)\n  end\n  local i = #digits\n  while i > 1 do\n    if digits[i] > digits[i - 1] then\n      local j = #digits\n      while digits[j] < digits[i - 1] do\n        j = j - 1\n      end\n      digits[i - 1], digits[j] = digits[j], digits[i - 1]\n      table.sort(digits, i, #digits)\n      local result = 0\n      for k = 1, #digits do\n        result = result * 10 + digits[k]\n      end\n      return result\n    end\n    i = i - 1\n  end\n  return -1\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch('%d') do\n    table.insert(digits, tonumber(d))\n  end\n  table.sort(digits)\n  local result = 0\n  for i, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "    local digits = {}\n    for d in tostring(n):gmatch(\".\") do\n        table.insert(digits, tonumber(d))\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return nil\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for _, d in ipairs(digits) do\n        result = result * 10 + d\n    end\n    return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  table.sort(digits)\n  local result = 0\n  for i, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = {}\n  for i = 1, #digits do\n    result[i] = tostring(digits[i])\n  end\n  return table.concat(result)\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\".\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i > 1 then\n    local j = #digits\n    while digits[j] <= digits[i-1] do\n      j = j - 1\n    end\n    digits[i-1], digits[j] = digits[j], digits[i-1]\n    local k = #digits\n    while i < k do\n      digits[i], digits[k] = digits[k], digits[i]\n      i = i + 1\n      k = k - 1\n    end\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  local n = n\n  while n > 0 do\n    local digit = n % 10\n    table.insert(digits, digit)\n    n = math.floor(n / 10)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  local n_copy = n\n  while n_copy > 0 do\n    table.insert(digits, n_copy % 10)\n    n_copy = math.floor(n_copy / 10)\n  end\n  table.sort(digits)\n  local bigger = 0\n  for i = 1, #digits do\n    bigger = bigger + digits[i] * 10 ^ (i - 1)\n  end\n  return bigger\nend",
    "    local digits = {}\n    while n > 0 do\n        table.insert(digits, n % 10)\n        n = math.floor(n / 10)\n    end\n    table.sort(digits)\n    local result = 0\n    for i, v in ipairs(digits) do\n        result = result * 10 + v\n    end\n    return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i-1] do\n    j = j - 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i - 1] >= digits[i] do\n    i = i - 1\n  end\n  if i <= 1 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  return tonumber(table.concat(digits))\nend",
    "    local digits = {}\n    for d in tostring(n):gmatch(\"%d\") do\n        table.insert(digits, tonumber(d))\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i <= 0 then\n        return nil\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    return table.concat(digits)\nend",
    "    local digits = {}\n    for i = 1, #n do\n        digits[i] = tonumber(n:sub(i, i))\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return nil\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = \"\"\n    for i = 1, #digits do\n        result = result .. tostring(digits[i])\n    end\n    return result\nend",
    "    local digits = {}\n    for d in tostring(n):gmatch(\"%d\") do\n        table.insert(digits, tonumber(d))\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return nil\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for _, d in ipairs(digits) do\n        result = result * 10 + d\n    end\n    return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local res = 0\n  for _, d in ipairs(digits) do\n    res = res * 10 + d\n  end\n  return res\nend",
    "\tlocal digits = {}\n\tfor d in tostring(n):gmatch(\".\") do\n\t\ttable.insert(digits, tonumber(d))\n\tend\n\tlocal i = #digits - 1\n\twhile i > 0 and digits[i] >= digits[i + 1] do\n\t\ti = i - 1\n\tend\n\tif i == 0 then\n\t\treturn -1\n\tend\n\tlocal j = #digits\n\twhile digits[j] <= digits[i] do\n\t\tj = j - 1\n\tend\n\tdigits[i], digits[j] = digits[j], digits[i]\n\tlocal k = i + 1\n\tlocal l = #digits\n\twhile k < l do\n\t\tdigits[k], digits[l] = digits[l], digits[k]\n\t\tk = k + 1\n\t\tl = l - 1\n\tend\n\tlocal result = 0\n\tfor _, d in ipairs(digits) do\n\t\tresult = result * 10 + d\n\tend\n\treturn result\nend",
    "  local digits = {}\n  local i = 1\n  while n > 0 do\n    digits[i] = n % 10\n    n = math.floor(n / 10)\n    i = i + 1\n  end\n  local j = #digits - 1\n  while j > 0 and digits[j] >= digits[j + 1] do\n    j = j - 1\n  end\n  if j == 0 then\n    return nil\n  end\n  local k = #digits\n  while digits[k] <= digits[j] do\n    k = k - 1\n  end\n  digits[j], digits[k] = digits[k], digits[j]\n  local l = j + 1\n  local r = #digits\n  while l < r do\n    digits[l], digits[r] = digits[r], digits[l]\n    l = l + 1\n    r = r - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i-1] do\n    j = j - 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "    local digits = {}\n    local n_copy = n\n    while n_copy > 0 do\n        local digit = n_copy % 10\n        table.insert(digits, digit)\n        n_copy = math.floor(n_copy / 10)\n    end\n    table.sort(digits)\n    local bigger = 0\n    for i = 1, #digits do\n        bigger = bigger * 10 + digits[i]\n    end\n    return bigger\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then return nil end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i+1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  local i = 1\n  while n > 0 do\n    digits[i] = n % 10\n    n = math.floor(n / 10)\n    i = i + 1\n  end\n  for i = #digits, 2, -1 do\n    if digits[i] > digits[i - 1] then\n      local tmp = digits[i]\n      digits[i] = digits[i - 1]\n      digits[i - 1] = tmp\n      break\n    end\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "    local digits = {}\n    local nn = n\n    while nn > 0 do\n        digits[#digits + 1] = nn % 10\n        nn = math.floor(nn / 10)\n    end\n    local i = #digits - 1\n    while i > 0 and digits[i] >= digits[i + 1] do\n        i = i - 1\n    end\n    if i == 0 then\n        return nil\n    end\n    local j = #digits\n    while digits[j] <= digits[i] do\n        j = j - 1\n    end\n    digits[i], digits[j] = digits[j], digits[i]\n    local k = i + 1\n    local l = #digits\n    while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n    end\n    local result = 0\n    for i = 1, #digits do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "    local digits = {}\n    for i = 1, #tostring(n) do\n        digits[i] = tonumber(tostring(n):sub(i, i))\n    end\n    local i = #digits\n    while i > 1 and digits[i] <= digits[i - 1] do\n        i = i - 1\n    end\n    if i == 1 then\n        return -1\n    end\n    local j = #digits\n    while digits[j] <= digits[i - 1] do\n        j = j - 1\n    end\n    digits[i - 1], digits[j] = digits[j], digits[i - 1]\n    local k = #digits\n    while i < k do\n        digits[i], digits[k] = digits[k], digits[i]\n        i = i + 1\n        k = k - 1\n    end\n    local result = 0\n    for i = 1, #digits do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = \"\"\n  for i = 1, #digits do\n    result = result .. tostring(digits[i])\n  end\n  return tonumber(result)\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "    local digits = {}\n    local n_copy = n\n    while n_copy > 0 do\n        table.insert(digits, n_copy % 10)\n        n_copy = math.floor(n_copy / 10)\n    end",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  for i = #digits - 1, 1, -1 do\n    if digits[i] < digits[i + 1] then\n      local j = i + 1\n      while digits[j] > digits[i] do\n        j = j + 1\n      end\n      digits[i], digits[j - 1] = digits[j - 1], digits[i]\n      local left = i + 1\n      local right = #digits\n      while left < right do\n        digits[left], digits[right] = digits[right], digits[left]\n        left = left + 1\n        right = right - 1\n      end\n      return table.concat(digits)\n    end\n  end\n  return nil\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = {}\n  for i = 1, #digits do\n    result[i] = tostring(digits[i])\n  end\n  return table.concat(result)\nend",
    "    local digits = {}\n    for d in tostring(n):gmatch(\"%d\") do\n        table.insert(digits, d)\n    end\n    for i = #digits - 1, 1, -1 do\n        if digits[i] < digits[i + 1] then\n            local j = i + 1\n            while j <= #digits and digits[i] < digits[j] do\n                j = j + 1\n            end\n            digits[i], digits[j - 1] = digits[j - 1], digits[i]\n            table.sort(digits, i + 1, #digits)\n            return tonumber(table.concat(digits))\n        end\n    end\n    return nil\nend",
    "  local digits = {}\n  for i = 1, #tostring(n) do\n    digits[i] = tonumber(tostring(n):sub(i, i))\n  end\n  local i = #digits\n  while i > 1 and digits[i - 1] >= digits[i] do\n    i = i - 1\n  end\n  if i <= 1 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  j = #digits\n  while i < j do\n    digits[i], digits[j] = digits[j], digits[i]\n    i = i + 1\n    j = j - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = \"\"\n  for i = 1, #digits do\n    result = result .. tostring(digits[i])\n  end\n  return tonumber(result)\nend",
    "    local digits = {}\n    local n_copy = n\n    while n_copy > 0 do\n        table.insert(digits, n_copy % 10)\n        n_copy = math.floor(n_copy / 10)\n    end\n    table.sort(digits)\n    local result = 0\n    for i = #digits, 1, -1 do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "  local digits = {}\n  for i = 1, #tostring(n) do\n    digits[i] = tonumber(tostring(n):sub(i, i))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  for digit in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(digit))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  local result = 0\n  for _, digit in ipairs(digits) do\n    result = result * 10 + digit\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch('%d') do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i > 1 then\n    local j = #digits\n    while digits[j] <= digits[i - 1] do\n      j = j - 1\n    end\n    digits[i - 1], digits[j] = digits[j], digits[i - 1]\n    local k = #digits\n    while i < k do\n      digits[i], digits[k] = digits[k], digits[i]\n      i = i + 1\n      k = k - 1\n    end\n  end\n  local result = 0\n  for i = 1, #digits do\n    result = result * 10 + digits[i]\n  end\n  return result\nend",
    "  local digits = {}\n  while n > 0 do\n    digits[#digits + 1] = n % 10\n    n = math.floor(n / 10)\n  end\n  for i = #digits - 1, 1, -1 do\n    if digits[i] > digits[i + 1] then\n      local j = i + 1\n      while j < #digits and digits[j] > digits[i] do\n        j = j + 1\n      end\n      digits[i], digits[j - 1] = digits[j - 1], digits[i]\n      local k = i + 1\n      local l = #digits\n      while k < l do\n        digits[k], digits[l] = digits[l], digits[k]\n        k = k + 1\n        l = l - 1\n      end\n      local result = 0\n      for i = 1, #digits do\n        result = result * 10 + digits[i]\n      end\n      return result\n    end\n  end\n  return -1\nend",
    "    local digits = {}\n    local n = n\n    while n > 0 do\n        digits[#digits+1] = n % 10\n        n = math.floor(n / 10)\n    end\n    for i = #digits-1, 1, -1 do\n        if digits[i] < digits[i+1] then\n            local j = i + 1\n            while j < #digits and digits[j] > digits[i] do\n                j = j + 1\n            end\n            j = j - 1\n            digits[i], digits[j] = digits[j], digits[i]\n            for k = 1, math.floor((#digits-i)/2) do\n                digits[i+k], digits[#digits-k+1] = digits[#digits-k+1], digits[i+k]\n            end\n            break\n        end\n    end\n    local result = 0\n    for i = 1, #digits do\n        result = result * 10 + digits[i]\n    end\n    return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(d))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i-1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return nil\n  end\n  local j = i\n  while j < #digits and digits[j+1] > digits[i-1] do\n    j = j + 1\n  end\n  digits[i-1], digits[j] = digits[j], digits[i-1]\n  local k = i\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for d in tostring(n):gmatch('%d') do\n    table.insert(digits, tonumber(d))\n  end\n  table.sort(digits)\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i > 1 then\n    local j = #digits\n    while digits[j] <= digits[i - 1] do\n      j = j - 1\n    end\n    digits[i - 1], digits[j] = digits[j], digits[i - 1]\n    local k = #digits\n    while i < k do\n      digits[i], digits[k] = digits[k], digits[i]\n      i = i + 1\n      k = k - 1\n    end\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  local n_copy = n\n  while n_copy > 0 do\n    table.insert(digits, n_copy % 10)\n    n_copy = math.floor(n_copy / 10)\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] <= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = 0\n  for _, d in ipairs(digits) do\n    result = result * 10 + d\n  end\n  return result\nend",
    "  local digits = {}\n  for i = 1, #n do\n    digits[i] = tonumber(n:sub(i, i))\n  end\n  local i = #digits - 1\n  while i > 0 and digits[i] >= digits[i + 1] do\n    i = i - 1\n  end\n  if i == 0 then\n    return nil\n  end\n  local j = #digits\n  while digits[j] <= digits[i] do\n    j = j - 1\n  end\n  digits[i], digits[j] = digits[j], digits[i]\n  local k = i + 1\n  local l = #digits\n  while k < l do\n    digits[k], digits[l] = digits[l], digits[k]\n    k = k + 1\n    l = l - 1\n  end\n  local result = \"\"\n  for _, d in ipairs(digits) do\n    result = result .. d\n  end\n  return tonumber(result)\nend",
    "  local digits = {}\n  for digit in tostring(n):gmatch(\"%d\") do\n    table.insert(digits, tonumber(digit))\n  end\n  local i = #digits\n  while i > 1 and digits[i] <= digits[i - 1] do\n    i = i - 1\n  end\n  if i == 1 then\n    return -1\n  end\n  local j = #digits\n  while digits[j] <= digits[i - 1] do\n    j = j - 1\n  end\n  digits[i - 1], digits[j] = digits[j], digits[i - 1]\n  local k = #digits\n  while i < k do\n    digits[i], digits[k] = digits[k], digits[i]\n    i = i + 1\n    k = k - 1\n  end\n  return table.concat(digits)\nend"
  ]
}